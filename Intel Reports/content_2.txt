import os

# Set the root directory you want to process
root_dir = "path_to_your_directory"

# Maximum folder name length
MAX_LENGTH = 240

def trim_folder_names(path):
    for root, dirs, files in os.walk(path, topdown=False):
        for dir_name in dirs:
            full_path = os.path.join(root, dir_name)
            if len(dir_name) > MAX_LENGTH:
                # Trim the folder name and rename it
                new_name = dir_name[:MAX_LENGTH]
                new_path = os.path.join(root, new_name)
                
                # Rename the folder
                os.rename(full_path, new_path)
                print(f"Renamed: '{full_path}' to '{new_path}'")

# Run the function
trim_folder_names(root_dir)
