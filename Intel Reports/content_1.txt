import os

# Set the root directory you want to process
root_dir = "."

# Maximum file name length
MAX_LENGTH = 240

def trim_file_names(path):
    for root, dirs, files in os.walk(path):
        for file_name in files:
            if len(file_name) > MAX_LENGTH:
                # Trim the file name and rename it
                new_name = file_name[:MAX_LENGTH]
                old_path = os.path.join(root, file_name)
                new_path = os.path.join(root, new_name)
                
                # Rename the file
                os.rename(old_path, new_path)
                print(f"Renamed: '{old_path}' to '{new_path}'")

# Run the function
trim_file_names(root_dir)
