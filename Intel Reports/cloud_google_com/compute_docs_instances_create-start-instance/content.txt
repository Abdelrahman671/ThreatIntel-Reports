<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/webhistory">
    <meta property="og:site_name" content="Google Cloud">
    <meta property="og:type" content="website"><meta name="theme-color" content="#039be5"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/cloud/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500,700|Google+Sans+Text:400,400italic,500,500italic,700,700italic|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/favicon.ico">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/super_cloud.png"><link rel="canonical" href="https://cloud.google.com/compute/docs/instances/create-start-instance"><link rel="search" type="application/opensearchdescription+xml"
            title="Google Cloud" href="https://cloud.google.com/s/opensearch.xml">
      <link rel="alternate" hreflang="en"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance" /><link rel="alternate" hreflang="x-default" href="https://cloud.google.com/compute/docs/instances/create-start-instance" /><link rel="alternate" hreflang="zh-Hans"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=zh-cn" /><link rel="alternate" hreflang="fr"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=fr" /><link rel="alternate" hreflang="de"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=de" /><link rel="alternate" hreflang="id"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=id" /><link rel="alternate" hreflang="it"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=it" /><link rel="alternate" hreflang="ja"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=ko" /><link rel="alternate" hreflang="pt-BR"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=pt-br" /><link rel="alternate" hreflang="es-419"
          href="https://cloud.google.com/compute/docs/instances/create-start-instance?hl=es-419" /><title>Create and start a Compute Engine instance &nbsp;|&nbsp; Compute Engine Documentation &nbsp;|&nbsp; Google Cloud</title>

<meta property="og:title" content="Create and start a Compute Engine instance &nbsp;|&nbsp; Compute Engine Documentation &nbsp;|&nbsp; Google Cloud"><meta name="description" content="Create and start a Compute Engine instance.">
  <meta property="og:description" content="Create and start a Compute Engine instance."><meta property="og:url" content="https://cloud.google.com/compute/docs/instances/create-start-instance"><meta property="og:image" content="https://cloud.google.com/_static/cloud/images/social-icon-google-cloud-1200-630.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    
    "headline": "Create and start a Compute Engine instance"
  }
</script><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Compute Engine",
      "item": "https://cloud.google.com/compute"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Documentation",
      "item": "https://cloud.google.com/compute/docs"
    },{
      "@type": "ListItem",
      "position": 3,
      "name": "Create and start a Compute Engine instance",
      "item": "https://cloud.google.com/compute/docs/instances/create-start-instance"
    }]
  }
  </script>
  
    

    

    




    
    

    

    
    

  

    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="page"
        theme="cloud-theme"
        type="article"
        
        
        
        layout="docs"
        
        free-trial
        
        
        display-toc
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper">
      
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar>
      <cloudx-track userCountry="BR"></cloudx-track>
<cloudx-utils-init></cloudx-utils-init>

<devsite-header keep-tabs-visible>
  
    























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="googleCloud" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/cloud-logo.svg" class="devsite-site-logo" alt="Google Cloud">
  </picture>
  
</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             devsite-has-google-wordmark">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <cloudx-tabs-nav class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Upper tabs">
      
        
          <tab  class="devsite-active">
            
    <a href="https://cloud.google.com/docs"
      track-metadata-eventdetail="https://cloud.google.com/docs"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - docs-home"
       track-metadata-module="primary nav"
       aria-label="Documentation, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Documentation"
         
           track-name="docs-home"
         
           track-link-column-type="single-column"
         
       >
    Documentation
  
    </a>
  
  
          </tab>
        
      
        
          <tab class="devsite-dropdown
    
    
    devsite-clickable
    ">
  
    <a href="https://cloud.google.com/docs/tech-area-overviews"
      track-metadata-eventdetail="https://cloud.google.com/docs/tech-area-overviews"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - technology-areas"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Technology areas"
         
           track-name="technology-areas"
         
           track-link-column-type="single-column"
         
       >
    Technology areas
  
    </a>
  
  
    <a href="#"
       role="button"
       aria-haspopup="true"
       aria-expanded="false"
       aria-label="Dropdown menu for Technology areas"
       track-type="nav"
       track-metadata-eventdetail="https://cloud.google.com/docs/tech-area-overviews"
       track-metadata-position="nav - technology-areas"
       track-metadata-module="primary nav"
       
        
          data-category="Site-Wide Custom Events"
        
          data-label="Tab: Technology areas"
        
          track-name="technology-areas"
        
          track-link-column-type="single-column"
        
      
       class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>
  
  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
      <button class="devsite-tabs-close-button material-icons button-flat gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Close dropdown menu"
              aria-label="Close dropdown menu"
              track-type="nav"
              track-name="close"
              track-metadata-eventdetail="#"
              track-metadata-position="nav - technology-areas"
              track-metadata-module="tertiary nav">close</button>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/ai-ml"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/ai-ml"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      AI and ML
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/application-development"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/application-development"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Application development
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/application-hosting"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/application-hosting"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Application hosting
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/compute-area"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/compute-area"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Compute
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/data"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/data"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Data analytics and pipelines
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/databases"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/databases"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Databases
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/dhm-cloud"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/dhm-cloud"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Distributed, hybrid, and multicloud
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/generative-ai"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/generative-ai"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Generative AI
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/industry"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/industry"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Industry solutions
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/networking"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/networking"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Networking
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/observability"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/observability"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Observability and monitoring
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/security"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/security"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Security
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/storage"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/storage"
                     track-metadata-position="nav - technology-areas"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Storage
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab class="devsite-dropdown
    
    
    devsite-clickable
    ">
  
    <a href="https://cloud.google.com/docs/cross-product-overviews"
      track-metadata-eventdetail="https://cloud.google.com/docs/cross-product-overviews"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - crossproduct"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Cross-product tools"
         
           track-name="crossproduct"
         
           track-link-column-type="single-column"
         
       >
    Cross-product tools
  
    </a>
  
  
    <a href="#"
       role="button"
       aria-haspopup="true"
       aria-expanded="false"
       aria-label="Dropdown menu for Cross-product tools"
       track-type="nav"
       track-metadata-eventdetail="https://cloud.google.com/docs/cross-product-overviews"
       track-metadata-position="nav - crossproduct"
       track-metadata-module="primary nav"
       
        
          data-category="Site-Wide Custom Events"
        
          data-label="Tab: Cross-product tools"
        
          track-name="crossproduct"
        
          track-link-column-type="single-column"
        
      
       class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>
  
  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
      <button class="devsite-tabs-close-button material-icons button-flat gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Close dropdown menu"
              aria-label="Close dropdown menu"
              track-type="nav"
              track-name="close"
              track-metadata-eventdetail="#"
              track-metadata-position="nav - crossproduct"
              track-metadata-module="tertiary nav">close</button>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/access-resources"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/access-resources"
                     track-metadata-position="nav - crossproduct"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Access and resources management
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/costs-usage"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/costs-usage"
                     track-metadata-position="nav - crossproduct"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Costs and usage management
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/devtools"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/devtools"
                     track-metadata-position="nav - crossproduct"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud SDK, languages, frameworks, and tools
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/iac"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/iac"
                     track-metadata-position="nav - crossproduct"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Infrastructure as code
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/docs/migration"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/docs/migration"
                     track-metadata-position="nav - crossproduct"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Migration
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab class="devsite-dropdown
    
    
    devsite-clickable
    ">
  
    <a href="https://cloud.google.com/"
      track-metadata-eventdetail="https://cloud.google.com/"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - related-sites"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Related sites"
         
           track-name="related-sites"
         
           track-link-column-type="single-column"
         
       >
    Related sites
  
    </a>
  
  
    <a href="#"
       role="button"
       aria-haspopup="true"
       aria-expanded="false"
       aria-label="Dropdown menu for Related sites"
       track-type="nav"
       track-metadata-eventdetail="https://cloud.google.com/"
       track-metadata-position="nav - related-sites"
       track-metadata-module="primary nav"
       
        
          data-category="Site-Wide Custom Events"
        
          data-label="Tab: Related sites"
        
          track-name="related-sites"
        
          track-link-column-type="single-column"
        
      
       class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>
  
  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
      <button class="devsite-tabs-close-button material-icons button-flat gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Close dropdown menu"
              aria-label="Close dropdown menu"
              track-type="nav"
              track-name="close"
              track-metadata-eventdetail="#"
              track-metadata-position="nav - related-sites"
              track-metadata-module="tertiary nav">close</button>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Home
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/free"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/free"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Free Trial and Free Tier
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/architecture"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/architecture"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Architecture Center
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/blog"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/blog"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Blog
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/contact"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/contact"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Contact Sales
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/developers"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/developers"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Developer Center
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developers.google.com/"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developers.google.com/"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Developer Center
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://console.cloud.google.com/marketplace"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://console.cloud.google.com/marketplace"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Marketplace
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/marketplace/docs"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/marketplace/docs"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Marketplace Documentation
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://www.cloudskillsboost.google/paths"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://www.cloudskillsboost.google/paths"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Skills Boost
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/solutions"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/solutions"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Solution Center
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://cloud.google.com/support-hub"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://cloud.google.com/support-hub"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Support
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://www.youtube.com/@googlecloudtech"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://www.youtube.com/@googlecloudtech"
                     track-metadata-position="nav - related-sites"
                     track-metadata-module="tertiary nav"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Cloud Tech Youtube Channel
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
    </nav>

  </cloudx-tabs-nav>

            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      
    
    
    project-name="Compute Engine Documentation"
    tenant-name="Google Cloud"
    project-scope="/compute/docs"
    url-scoped="https://cloud.google.com/s/results/compute/docs"
    
    
    
    >
  <form class="devsite-search-form" action="https://cloud.google.com/s/results" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

        

        

        
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


        
          
        

        
          
          
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                          fp-auth
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Sign in</span>
            
        </devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
          <div class="devsite-product-id-row"
           hidden>
            <div class="devsite-product-description-row">
              
              
            </div>
            
          </div>
          
        
      
      
        <div class="devsite-doc-set-nav-row">
          
            
              <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://cloud.google.com/compute"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Lower Header"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Compute Engine: Virtual Machines (VMs)"
      
    >
    
        Compute Engine
      
  </a>
  
    
  </li>
  
</ul>
            
          
          
            
            
  <cloudx-tabs-nav class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Lower tabs">
      
        
          <tab  class="devsite-active">
            
    <a href="https://cloud.google.com/compute/docs/overview"
      track-metadata-eventdetail="https://cloud.google.com/compute/docs/overview"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - guides"
       track-metadata-module="primary nav"
       aria-label="Guides, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Guides"
         
           track-name="guides"
         
       >
    Guides
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://cloud.google.com/compute/docs/apis"
      track-metadata-eventdetail="https://cloud.google.com/compute/docs/apis"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - reference"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Reference"
         
           track-name="reference"
         
       >
    Reference
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://cloud.google.com/compute/docs/samples"
      track-metadata-eventdetail="https://cloud.google.com/compute/docs/samples"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - samples"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Samples"
         
           track-name="samples"
         
       >
    Samples
  
    </a>
  
  
          </tab>
        
      
        
          <tab  >
            
    <a href="https://cloud.google.com/compute/docs/resources"
      track-metadata-eventdetail="https://cloud.google.com/compute/docs/resources"
    
       class="devsite-tabs-content gc-analytics-event "
       track-type="nav"
       track-metadata-position="nav - resources"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Resources"
         
           track-name="resources"
         
       >
    Resources
  
    </a>
  
  
          </tab>
        
      
    </nav>

  </cloudx-tabs-nav>

          
          
            <div class="devsite-product-button-row">
  

  
  <a href="https://cloud.google.com/contact"
  
    class="cta-button-secondary button
      "
    
    
      
        data-overflow-wrapper="tab"
      
        data-overflow-container="left"
      
        data-overflow="devsite-tabs-wrapper"
      
        track-metadata-eventDetail="nav"
      
        track-metadata-position="nav"
      
        track-name="sales"
      
        track-type="contact"
      
    
    >Contact Us</a>

  
  <a href="//console.cloud.google.com/freetrial"
  
    class="cloud-free-trial-button cta-button-primary button-primary button cloud-button cloud-button--primary
      "
    
    
      
        track-type="freeTrial"
      
        data-overflow-container="right"
      
        referrerpolicy="no-referrer-when-downgrade"
      
        track-name="gcpCta"
      
        track-metadata-eventDetail="nav"
      
        track-metadata-position="nav"
      
        data-overflow="devsite-top-logo-row"
      
        data-overflow-class="devsite-header-link devsite-top-button button cloud-free-trial-button cloud-free-trial-enabled cloud-button cloud-button--primary"
      
    
    >Start free</a>

</div>
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          





















<div class="devsite-book-nav-filter"
     >
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filter"
         
         aria-label="Type to filter"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Clear filter"
        aria-label="Clear filter"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="googleCloud" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/cloud-logo.svg" class="devsite-site-logo" alt="Google Cloud">
  </picture>
  
</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             devsite-has-google-wordmark">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Documentation"
      
        track-name="docs-home"
      
        track-link-column-type="single-column"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Documentation"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Documentation
   </span>
    
  
  </a>
  

  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/compute/docs/overview"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Guides"
      
        track-name="guides"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Guides"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      Guides
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/compute/docs/apis"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Reference"
      
        track-name="reference"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Reference
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/compute/docs/samples"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Samples"
      
        track-name="samples"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Samples"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Samples
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/compute/docs/resources"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Resources"
      
        track-name="resources"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Resources"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Resources
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs/tech-area-overviews"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Technology areas"
      
        track-name="technology-areas"
      
        track-link-column-type="single-column"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Technology areas"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Technology areas
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Technology areas"
      
        track-name="technology-areas"
      
        track-link-column-type="single-column"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Technology areas">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Technology areas">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs/cross-product-overviews"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Cross-product tools"
      
        track-name="crossproduct"
      
        track-link-column-type="single-column"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Cross-product tools"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Cross-product tools
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Cross-product tools"
      
        track-name="crossproduct"
      
        track-link-column-type="single-column"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Cross-product tools">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Cross-product tools">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Related sites"
      
        track-name="related-sites"
      
        track-link-column-type="single-column"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Related sites"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Related sites
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Related sites"
      
        track-name="related-sites"
      
        track-link-column-type="single-column"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Related sites">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Related sites">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
          
    
<li class="devsite-nav-item">

  
  <a href="//console.cloud.google.com/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        track-metadata-position="nav"
      
        track-type="globalNav"
      
        track-metadata-eventDetail="nav"
      
        track-name="console"
      
        referrerpolicy="no-referrer-when-downgrade"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Console"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Console
   </span>
    
  
  </a>
  

</li>

  
          
            
    
      
        
<li class="devsite-nav-item">

  
  <a href="/contact"
    
       class="cta-button-secondary button"
    

    
      
        data-overflow-wrapper="tab"
      
        data-overflow-container="left"
      
        data-overflow="devsite-tabs-wrapper"
      
        track-metadata-eventDetail="nav"
      
        track-metadata-position="nav"
      
        track-name="sales"
      
        track-type="contact"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Contact Us"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Contact Us
   </span>
    
  
  </a>
  

</li>

      
    
      
        
<li class="devsite-nav-item">

  
  <a href="//console.cloud.google.com/freetrial"
    
       class="cloud-free-trial-button cta-button-primary button-primary button cloud-button cloud-button--primary"
    

    
      
        track-type="freeTrial"
      
        data-overflow-container="right"
      
        referrerpolicy="no-referrer-when-downgrade"
      
        track-name="gcpCta"
      
        track-metadata-eventDetail="nav"
      
        track-metadata-position="nav"
      
        data-overflow="devsite-top-logo-row"
      
        data-overflow-class="devsite-header-link devsite-top-button button cloud-free-trial-button cloud-free-trial-enabled cloud-button cloud-button--primary"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Start free"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Start free
   </span>
    
  
  </a>
  

</li>

      
    
  
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Discover</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/overview"
      ><span class="devsite-nav-text" tooltip>Product overview</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances"
      ><span class="devsite-nav-text" tooltip>Virtual machine instances</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instance-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups"
      ><span class="devsite-nav-text" tooltip>Instance groups</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Machine type families</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/machine-resource"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/machine-resource"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/machine-resource"
      ><span class="devsite-nav-text" tooltip>Machine resource guide</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/general-purpose-machines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/general-purpose-machines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/general-purpose-machines"
      ><span class="devsite-nav-text" tooltip>General-purpose machines</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/storage-optimized-machines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/storage-optimized-machines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/storage-optimized-machines"
      ><span class="devsite-nav-text" tooltip>Storage-optimized machines</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/compute-optimized-machines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/compute-optimized-machines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/compute-optimized-machines"
      ><span class="devsite-nav-text" tooltip>Compute-optimized machines</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/memory-optimized-machines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/memory-optimized-machines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/memory-optimized-machines"
      ><span class="devsite-nav-text" tooltip>Memory-optimized machines</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/accelerator-optimized-machines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/accelerator-optimized-machines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/accelerator-optimized-machines"
      ><span class="devsite-nav-text" tooltip>Accelerator-optimized machines</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/coremark-scores-of-vm-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/coremark-scores-of-vm-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/coremark-scores-of-vm-instances"
      ><span class="devsite-nav-text" tooltip>CoreMark scores of VM instances by family</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/cpu-platforms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/cpu-platforms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/cpu-platforms"
      ><span class="devsite-nav-text" tooltip>CPU platforms</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>GPUs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/overview"
      ><span class="devsite-nav-text" tooltip>About GPUs on Google Cloud</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus"
      ><span class="devsite-nav-text" tooltip>GPU machine types</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Regions and zones</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/regions-zones"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/regions-zones"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/regions-zones"
      ><span class="devsite-nav-text" tooltip>About regions and zones</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/gpu-regions-zones"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/gpu-regions-zones"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/gpu-regions-zones"
      ><span class="devsite-nav-text" tooltip>GPU regions and zones</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/regions-zones/global-regional-zonal-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/regions-zones/global-regional-zonal-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/regions-zones/global-regional-zonal-resources"
      ><span class="devsite-nav-text" tooltip>Global, regional, and zonal resources</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/regions-zones/zone-virtualization"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/regions-zones/zone-virtualization"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/regions-zones/zone-virtualization"
      ><span class="devsite-nav-text" tooltip>Zone virtualization</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Get started</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Plan and prepare</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Work with regions and zones</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/regions-zones/viewing-regions-zones"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/regions-zones/viewing-regions-zones"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/regions-zones/viewing-regions-zones"
      ><span class="devsite-nav-text" tooltip>View available regions and zones</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/regions-zones/changing-default-zone-region"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/regions-zones/changing-default-zone-region"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/regions-zones/changing-default-zone-region"
      ><span class="devsite-nav-text" tooltip>Change the default region or zone</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Review VM deployment options</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/choose-compute-deployment-option"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/choose-compute-deployment-option"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/choose-compute-deployment-option"
      ><span class="devsite-nav-text" tooltip>Choose a deployment strategy</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/about-vm-tenancy"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/about-vm-tenancy"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/about-vm-tenancy"
      ><span class="devsite-nav-text" tooltip>About VM tenancy</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/arm-on-compute"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/arm-on-compute"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/arm-on-compute"
      ><span class="devsite-nav-text" tooltip>Arm VMs on Compute</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/robustsystems"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/robustsystems"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/robustsystems"
      ><span class="devsite-nav-text" tooltip>Design resilient systems</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/networking/network-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/network-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/network-overview"
      ><span class="devsite-nav-text" tooltip>Networking overview for VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Images and operating systems</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>OS images</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images"
      ><span class="devsite-nav-text" tooltip>About OS images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/os-details"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/os-details"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/os-details"
      ><span class="devsite-nav-text" tooltip>Operating system details</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/os-image-lifecycle"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/os-image-lifecycle"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/os-image-lifecycle"
      ><span class="devsite-nav-text" tooltip>OS image lifecycle</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/support-maintenance-policy"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/support-maintenance-policy"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/support-maintenance-policy"
      ><span class="devsite-nav-text" tooltip>Support policy</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Premium operating systems</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/images/premium/rhel-faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/rhel-faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/rhel-faq"
      ><span class="devsite-nav-text" tooltip>RHEL FAQ</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/premium/sles-faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/sles-faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/sles-faq"
      ><span class="devsite-nav-text" tooltip>SLES FAQ</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/premium/ubuntu-pro-faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/ubuntu-pro-faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/ubuntu-pro-faq"
      ><span class="devsite-nav-text" tooltip>Ubuntu Pro FAQ</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/ms-licensing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/ms-licensing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/ms-licensing"
      ><span class="devsite-nav-text" tooltip>Microsoft Licensing on Google Cloud</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/ms-licensing-faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/ms-licensing-faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/ms-licensing-faq"
      ><span class="devsite-nav-text" tooltip>Microsoft licenses FAQ</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Access control</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/access"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access"
      ><span class="devsite-nav-text" tooltip>Access control overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/access/managing-access-to-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/managing-access-to-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/managing-access-to-resources"
      ><span class="devsite-nav-text" tooltip>Manage access to Compute Engine resources</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/access/custom-constraints"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/custom-constraints"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/custom-constraints"
      ><span class="devsite-nav-text" tooltip>Manage resources by using custom constraints</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compute/docs/access/iam"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/iam"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/iam"
      ><span class="devsite-nav-text" tooltip>IAM roles and permissions</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/access/service-accounts"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/service-accounts"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/service-accounts"
      ><span class="devsite-nav-text" tooltip>Service accounts</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/naming-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/naming-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/naming-resources"
      ><span class="devsite-nav-text" tooltip>Name resources</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Quickstarts</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/create-linux-vm-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/create-linux-vm-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/create-linux-vm-instance"
      ><span class="devsite-nav-text" tooltip>Create a Linux VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/create-windows-server-vm-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/create-windows-server-vm-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/create-windows-server-vm-instance"
      ><span class="devsite-nav-text" tooltip>Create a Windows Server VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/quickstart-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/quickstart-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/quickstart-mig"
      ><span class="devsite-nav-text" tooltip>Create a managed instance group</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Create VMs</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/create-start-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-start-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-start-instance"
      ><span class="devsite-nav-text" tooltip>Create and start a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/access/create-enable-service-accounts-for-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/create-enable-service-accounts-for-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/create-enable-service-accounts-for-instances"
      ><span class="devsite-nav-text" tooltip>Create a VM that uses a user-managed service account</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-vm-from-similar-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-vm-from-similar-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-vm-from-similar-instance"
      ><span class="devsite-nav-text" tooltip>Create a VM similar to an existing VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/custom-hostname-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/custom-hostname-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/custom-hostname-vm"
      ><span class="devsite-nav-text" tooltip>Create a VM with a custom hostname</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/creating-instance-with-custom-machine-type"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/creating-instance-with-custom-machine-type"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/creating-instance-with-custom-machine-type"
      ><span class="devsite-nav-text" tooltip>Create a VM with a custom machine type</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-vm-from-instance-template"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-vm-from-instance-template"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-vm-from-instance-template"
      ><span class="devsite-nav-text" tooltip>Create a VM from an instance template</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create a VM that has attached GPUs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/create-vm-with-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/create-vm-with-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/create-vm-with-gpus"
      ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/create-gpu-vm-accelerator-optimized"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/create-gpu-vm-accelerator-optimized"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/create-gpu-vm-accelerator-optimized"
      ><span class="devsite-nav-text" tooltip>Create an accelerator-optimized VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/create-gpu-vm-general-purpose"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/create-gpu-vm-general-purpose"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/create-gpu-vm-general-purpose"
      ><span class="devsite-nav-text" tooltip>Create an N1 VM that has attached GPUs</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/creating-managing-windows-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/creating-managing-windows-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/creating-managing-windows-instances"
      ><span class="devsite-nav-text" tooltip>Create and manage Windows Server VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/creating-sql-server-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/creating-sql-server-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/creating-sql-server-instances"
      ><span class="devsite-nav-text" tooltip>Create SQL Server VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-rhel-byos-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-rhel-byos-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-rhel-byos-vm"
      ><span class="devsite-nav-text" tooltip>Create a VM using a RHEL BYOS image</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-hpc-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-hpc-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-hpc-vm"
      ><span class="devsite-nav-text" tooltip>Create an HPC-ready VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-arm-vm-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-arm-vm-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-arm-vm-instance"
      ><span class="devsite-nav-text" tooltip>Create an Arm VM</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create Spot VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Spot VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/spot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/spot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/spot"
      ><span class="devsite-nav-text" tooltip>About Spot VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-use-spot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-use-spot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-use-spot"
      ><span class="devsite-nav-text" tooltip>Create and use Spot VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Preemptible VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-unsupported"><a href="/compute/docs/instances/preemptible"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/preemptible"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/preemptible"
      ><span class="devsite-nav-text" tooltip>About preemptible VMs</span><span class="devsite-nav-icon material-icons"
        data-icon="unsupported"
        data-title="No longer supported"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-unsupported"><a href="/compute/docs/instances/create-use-preemptible"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-use-preemptible"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-use-preemptible"
      ><span class="devsite-nav-text" tooltip>Create and use preemptible VMs</span><span class="devsite-nav-icon material-icons"
        data-icon="unsupported"
        data-title="No longer supported"
        aria-hidden="true"></span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instances/specify-min-cpu-platform"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/specify-min-cpu-platform"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/specify-min-cpu-platform"
      ><span class="devsite-nav-text" tooltip>Specify a minimum CPU platform for a VM</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create custom images</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/images/building-custom-os"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/building-custom-os"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/building-custom-os"
      ><span class="devsite-nav-text" tooltip>Requirements to build custom images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/create-custom"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/create-custom"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/create-custom"
      ><span class="devsite-nav-text" tooltip>Create custom images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/creating-custom-windows-byol-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/creating-custom-windows-byol-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/creating-custom-windows-byol-images"
      ><span class="devsite-nav-text" tooltip>Create custom Windows BYOL base images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/creating-windows-os-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/creating-windows-os-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/creating-windows-os-image"
      ><span class="devsite-nav-text" tooltip>Create custom Windows Server images</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create and manage instance templates</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-templates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-templates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-templates"
      ><span class="devsite-nav-text" tooltip>About instance templates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-templates/create-instance-templates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-templates/create-instance-templates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-templates/create-instance-templates"
      ><span class="devsite-nav-text" tooltip>Create instance templates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-templates/deterministic-instance-templates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-templates/deterministic-instance-templates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-templates/deterministic-instance-templates"
      ><span class="devsite-nav-text" tooltip>Deterministic instance templates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-templates/get-list-delete-instance-templates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-templates/get-list-delete-instance-templates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-templates/get-list-delete-instance-templates"
      ><span class="devsite-nav-text" tooltip>Get, list, and delete instance templates</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create multiple VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create a managed instance group (MIG)</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/creating-groups-of-managed-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/creating-groups-of-managed-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/creating-groups-of-managed-instances"
      ><span class="devsite-nav-text" tooltip>Basic scenarios for creating MIGs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-zonal-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-zonal-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-zonal-mig"
      ><span class="devsite-nav-text" tooltip>Create a MIG in a single zone</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/distributing-instances-with-regional-instance-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/distributing-instances-with-regional-instance-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/distributing-instances-with-regional-instance-groups"
      ><span class="devsite-nav-text" tooltip>Create a MIG in multiple zones in a region</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/instance-groups/create-mig-with-multiple-machine-types"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-with-multiple-machine-types"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-with-multiple-machine-types"
      ><span class="devsite-nav-text" tooltip>Create a MIG with multiple machine types</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-mig-from-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-from-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-from-vm"
      ><span class="devsite-nav-text" tooltip>Create a MIG from an existing VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-mig-with-basic-autoscaling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-with-basic-autoscaling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-with-basic-autoscaling"
      ><span class="devsite-nav-text" tooltip>Create a MIG with autoscaling</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-mig-with-preemptible-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-with-preemptible-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-with-preemptible-vms"
      ><span class="devsite-nav-text" tooltip>Create a MIG with preemptible VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-mig-with-gpu-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-with-gpu-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-with-gpu-vms"
      ><span class="devsite-nav-text" tooltip>Create a MIG with GPU VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-mig-with-basic-stateful-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-mig-with-basic-stateful-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-mig-with-basic-stateful-disks"
      ><span class="devsite-nav-text" tooltip>Create a MIG with stateful configuration</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Bulk creation of VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/multiple/about-bulk-creation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/multiple/about-bulk-creation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/multiple/about-bulk-creation"
      ><span class="devsite-nav-text" tooltip>About bulk creation of VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/multiple/create-in-bulk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/multiple/create-in-bulk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/multiple/create-in-bulk"
      ><span class="devsite-nav-text" tooltip>Create VMs in bulk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/create-gpu-vm-bulk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/create-gpu-vm-bulk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/create-gpu-vm-bulk"
      ><span class="devsite-nav-text" tooltip>Create GPU VMs in bulk</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create sole-tenant VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/nodes/sole-tenant-nodes"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/sole-tenant-nodes"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/sole-tenant-nodes"
      ><span class="devsite-nav-text" tooltip>Sole-tenancy overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/provisioning-sole-tenant-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/provisioning-sole-tenant-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/provisioning-sole-tenant-vms"
      ><span class="devsite-nav-text" tooltip>Provision a sole-tenant VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/sole-tenancy-advanced-maintenance-control"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/sole-tenancy-advanced-maintenance-control"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/sole-tenancy-advanced-maintenance-control"
      ><span class="devsite-nav-text" tooltip>Advanced maintenance control for sole-tenant nodes</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/sole-tenant-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/sole-tenant-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/sole-tenant-best-practices"
      ><span class="devsite-nav-text" tooltip>Sole-tenancy best practices</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/sole-tenancy-accounting-faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/sole-tenancy-accounting-faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/sole-tenancy-accounting-faq"
      ><span class="devsite-nav-text" tooltip>Sole-tenancy accounting FAQ</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create a virtual workstation</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/virtual-workstation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/virtual-workstation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/virtual-workstation"
      ><span class="devsite-nav-text" tooltip>About creating virtual workstations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/virtual-workstation/linux"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/virtual-workstation/linux"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/virtual-workstation/linux"
      ><span class="devsite-nav-text" tooltip>Create a virtual Linux workstation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/virtual-workstation/windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/virtual-workstation/windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/virtual-workstation/windows"
      ><span class="devsite-nav-text" tooltip>Create a virtual Windows workstation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/virtual-workstation/linux-gpu"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/virtual-workstation/linux-gpu"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/virtual-workstation/linux-gpu"
      ><span class="devsite-nav-text" tooltip>Create a virtual Linux workstation with an attached GPU</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/virtual-workstation/windows-gpu"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/virtual-workstation/windows-gpu"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/virtual-workstation/windows-gpu"
      ><span class="devsite-nav-text" tooltip>Create a virtual Windows workstation with an attached GPU</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Use nested virtualization</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/nested-virtualization/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/nested-virtualization/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/nested-virtualization/overview"
      ><span class="devsite-nav-text" tooltip>About nested virtualization</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/nested-virtualization/managing-constraint"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/nested-virtualization/managing-constraint"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/nested-virtualization/managing-constraint"
      ><span class="devsite-nav-text" tooltip>Manage the nested virtualization constraint</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/nested-virtualization/enabling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/nested-virtualization/enabling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/nested-virtualization/enabling"
      ><span class="devsite-nav-text" tooltip>Enable nested virtualization</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/nested-virtualization/creating-nested-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/nested-virtualization/creating-nested-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/nested-virtualization/creating-nested-vms"
      ><span class="devsite-nav-text" tooltip>Create nested VMs</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/enable-instance-virtual-display"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/enable-instance-virtual-display"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/enable-instance-virtual-display"
      ><span class="devsite-nav-text" tooltip>Enable virtual displays on a VM</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage VM boot disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/detach-reattach-boot-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/detach-reattach-boot-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/detach-reattach-boot-disk"
      ><span class="devsite-nav-text" tooltip>Detach and reattach a boot disk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/create-root-persistent-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/create-root-persistent-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/create-root-persistent-disks"
      ><span class="devsite-nav-text" tooltip>Create a customized boot disk</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Migrate VMs</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/import"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import"
      ><span class="devsite-nav-text" tooltip>Choose a migration path</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/nodes/bringing-your-own-licenses"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/bringing-your-own-licenses"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/bringing-your-own-licenses"
      ><span class="devsite-nav-text" tooltip>Bring your own licenses</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Import disks and images</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/import/requirements-export-import-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/requirements-export-import-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/requirements-export-import-images"
      ><span class="devsite-nav-text" tooltip>Prerequisites for importing and exporting VM images</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Automatic import</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/import/importing-virtual-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/importing-virtual-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/importing-virtual-disks"
      ><span class="devsite-nav-text" tooltip>Import virtual disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/import/import-ovf-files"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/import-ovf-files"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/import-ovf-files"
      ><span class="devsite-nav-text" tooltip>Import virtual appliances</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/import/import-aws-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/import-aws-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/import-aws-image"
      ><span class="devsite-nav-text" tooltip>Import images from AWS</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manual import</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/import/import-existing-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/import-existing-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/import-existing-image"
      ><span class="devsite-nav-text" tooltip>Manually import boot disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/import/configuring-imported-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/configuring-imported-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/configuring-imported-images"
      ><span class="devsite-nav-text" tooltip>Manually configure imported disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/creating-an-image-from-an-iso-file"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/creating-an-image-from-an-iso-file"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/creating-an-image-from-an-iso-file"
      ><span class="devsite-nav-text" tooltip>Create a persistent disk image from an ISO file</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Move a VM within Google Cloud</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/moving-instance-across-zones"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/moving-instance-across-zones"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/moving-instance-across-zones"
      ><span class="devsite-nav-text" tooltip>Move a VM between zones</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/migrating-interfaces-between-networks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/migrating-interfaces-between-networks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/migrating-interfaces-between-networks"
      ><span class="devsite-nav-text" tooltip>Migrate a VM between networks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/copy-vm-between-projects"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/copy-vm-between-projects"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/copy-vm-between-projects"
      ><span class="devsite-nav-text" tooltip>Copy VMs between projects</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/import/migrate-to-new-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/import/migrate-to-new-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/import/migrate-to-new-vm"
      ><span class="devsite-nav-text" tooltip>Move an existing VM to a new VM</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Connect to VMs</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Connect to a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/ssh"
      ><span class="devsite-nav-text" tooltip>About SSH connections</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Linux VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/connect/standard-ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/standard-ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/standard-ssh"
      ><span class="devsite-nav-text" tooltip>Connect to VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Connect through internal IP addresses</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-internal-ip"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-internal-ip"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-internal-ip"
      ><span class="devsite-nav-text" tooltip>Connection options for internal-only VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-using-iap"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-using-iap"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-using-iap"
      ><span class="devsite-nav-text" tooltip>Connect using IAP</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-using-bastion-host"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-using-bastion-host"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-using-bastion-host"
      ><span class="devsite-nav-text" tooltip>Connect using a bastion host</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-using-vpn"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-using-vpn"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-using-vpn"
      ><span class="devsite-nav-text" tooltip>Connect using Cloud VPN</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/connect/root-ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/root-ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/root-ssh"
      ><span class="devsite-nav-text" tooltip>Connect as the root user</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/set-up-service-account-ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/set-up-service-account-ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/set-up-service-account-ssh"
      ><span class="devsite-nav-text" tooltip>Connect using service accounts</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/service-account-ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/service-account-ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/service-account-ssh"
      ><span class="devsite-nav-text" tooltip>Configure apps to use SSH</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Best practices</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/solutions/connecting-securely"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /solutions/connecting-securely"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/solutions/connecting-securely"
      ><span class="devsite-nav-text" tooltip>Securely connect to VMs</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Windows VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/connecting-to-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/connecting-to-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/connecting-to-windows"
      ><span class="devsite-nav-text" tooltip>Connect to Windows VMs using RDP</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/connecting-to-sac"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/connecting-to-sac"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/connecting-to-sac"
      ><span class="devsite-nav-text" tooltip>Connect to Windows VMs using the SAC</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/connect/windows-ssh"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/windows-ssh"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/windows-ssh"
      ><span class="devsite-nav-text" tooltip>Connect to Windows VMs using SSH</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/connecting-powershell"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/connecting-powershell"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/connecting-powershell"
      ><span class="devsite-nav-text" tooltip>Connect to Windows VMs using PowerShell</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage access to VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Linux VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/access-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/access-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/access-overview"
      ><span class="devsite-nav-text" tooltip>Choose an access management method</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/oslogin"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/oslogin"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/oslogin"
      ><span class="devsite-nav-text" tooltip>About OS Login</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/oslogin/set-up-oslogin"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/oslogin/set-up-oslogin"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/oslogin/set-up-oslogin"
      ><span class="devsite-nav-text" tooltip>Set up OS Login</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/oslogin/security-keys"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/oslogin/security-keys"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/oslogin/security-keys"
      ><span class="devsite-nav-text" tooltip>Enable security keys with OS Login</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compute/docs/oslogin/manage-oslogin-in-an-org"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/oslogin/manage-oslogin-in-an-org"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/oslogin/manage-oslogin-in-an-org"
      ><span class="devsite-nav-text" tooltip>Manage OS Login in an organization</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/oslogin/view-audit-logs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/oslogin/view-audit-logs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/oslogin/view-audit-logs"
      ><span class="devsite-nav-text" tooltip>Monitor OS Login audit logs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/permissions-tutorial"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/permissions-tutorial"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/permissions-tutorial"
      ><span class="devsite-nav-text" tooltip>Configure granular access within VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Windows VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/generating-credentials"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/generating-credentials"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/generating-credentials"
      ><span class="devsite-nav-text" tooltip>Manage accounts and credentials on Windows VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/automate-pw-generation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/automate-pw-generation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/automate-pw-generation"
      ><span class="devsite-nav-text" tooltip>Automate Windows password generation</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manually manage SSH keys</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/connect/create-ssh-keys"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/create-ssh-keys"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/create-ssh-keys"
      ><span class="devsite-nav-text" tooltip>Create SSH keys</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/add-ssh-keys"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/add-ssh-keys"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/add-ssh-keys"
      ><span class="devsite-nav-text" tooltip>Add SSH keys to VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/restrict-ssh-keys"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/restrict-ssh-keys"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/restrict-ssh-keys"
      ><span class="devsite-nav-text" tooltip>Restrict SSH keys from VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Best practices for securing SSH access</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-best-practices"
      ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-best-practices/network-access"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-best-practices/network-access"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-best-practices/network-access"
      ><span class="devsite-nav-text" tooltip>Control network access</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-best-practices/login-access"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-best-practices/login-access"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-best-practices/login-access"
      ><span class="devsite-nav-text" tooltip>Control SSH login access</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-best-practices/credentials"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-best-practices/credentials"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-best-practices/credentials"
      ><span class="devsite-nav-text" tooltip>Protect SSH credentials</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/connect/ssh-best-practices/auditing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/connect/ssh-best-practices/auditing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/connect/ssh-best-practices/auditing"
      ><span class="devsite-nav-text" tooltip>Audit SSH access</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/tag-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tag-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tag-resources"
      ><span class="devsite-nav-text" tooltip>Manage tags for resources</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Transfer files to or from a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/transfer-files"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/transfer-files"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/transfer-files"
      ><span class="devsite-nav-text" tooltip>Transfer files to Linux VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/transfer-files-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/transfer-files-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/transfer-files-windows"
      ><span class="devsite-nav-text" tooltip>Transfer files to Windows VMs</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/ip-addresses"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/ip-addresses"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/ip-addresses"
      ><span class="devsite-nav-text" tooltip>IP addresses</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Internal DNS</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/internal-dns"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/internal-dns"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/internal-dns"
      ><span class="devsite-nav-text" tooltip>Overview of internal DNS</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/using-internal-dns"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/using-internal-dns"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/using-internal-dns"
      ><span class="devsite-nav-text" tooltip>Access VMs using internal DNS names</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/zonal-dns"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/zonal-dns"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/zonal-dns"
      ><span class="devsite-nav-text" tooltip>Use zonal DNS</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/create-ptr-record"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-ptr-record"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-ptr-record"
      ><span class="devsite-nav-text" tooltip>Create a PTR record for a VM</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/verifying-instance-identity"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/verifying-instance-identity"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/verifying-instance-identity"
      ><span class="devsite-nav-text" tooltip>Verify VM identity</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Manage storage</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>About disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks"
      ><span class="devsite-nav-text" tooltip>Choose a storage option</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/hyperdisks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/hyperdisks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/hyperdisks"
      ><span class="devsite-nav-text" tooltip>About Hyperdisk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/storage-pools"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/storage-pools"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/storage-pools"
      ><span class="devsite-nav-text" tooltip>About Hyperdisk Storage Pools</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/persistent-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/persistent-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/persistent-disks"
      ><span class="devsite-nav-text" tooltip>About Persistent Disk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/extreme-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/extreme-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/extreme-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Extreme Persistent Disk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/local-ssd"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/local-ssd"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/local-ssd"
      ><span class="devsite-nav-text" tooltip>About Local SSD disks</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure storage pools</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/create-storage-pools"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/create-storage-pools"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/create-storage-pools"
      ><span class="devsite-nav-text" tooltip>Create a storage pool</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/manage-storage-pools"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/manage-storage-pools"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/manage-storage-pools"
      ><span class="devsite-nav-text" tooltip>Manage storage pools</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Add disks to VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/use-storage-pool-capacity"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/use-storage-pool-capacity"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/use-storage-pool-capacity"
      ><span class="devsite-nav-text" tooltip>Add disks from a storage pool to VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/add-local-ssd"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/add-local-ssd"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/add-local-ssd"
      ><span class="devsite-nav-text" tooltip>Create a VM with Local SSD disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/add-hyperdisk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/add-hyperdisk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/add-hyperdisk"
      ><span class="devsite-nav-text" tooltip>Create a new Hyperdisk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/add-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/add-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/add-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Create a new Persistent Disk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/sharing-disks-between-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/sharing-disks-between-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/sharing-disks-between-vms"
      ><span class="devsite-nav-text" tooltip>Share a disk between VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/attach-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/attach-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/attach-disks"
      ><span class="devsite-nav-text" tooltip>Attach a disk to a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/mount-ram-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/mount-ram-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/mount-ram-disks"
      ><span class="devsite-nav-text" tooltip>Mount in-memory RAM disks</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Prepare disks for use</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/format-mount-disk-linux"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/format-mount-disk-linux"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/format-mount-disk-linux"
      ><span class="devsite-nav-text" tooltip>Format and mount a non-boot disk on Linux</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/format-mount-disk-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/format-mount-disk-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/format-mount-disk-windows"
      ><span class="devsite-nav-text" tooltip>Format and prepare a non-boot disk on Windows</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Access disks attached to a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/set-persistent-device-name-in-linux-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/set-persistent-device-name-in-linux-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/set-persistent-device-name-in-linux-vm"
      ><span class="devsite-nav-text" tooltip>Best practice: Use persistent device names</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/disk-symlinks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/disk-symlinks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/disk-symlinks"
      ><span class="devsite-nav-text" tooltip>Symbolic links to disks</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Transfer data to disks attached to a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/transfer-files"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/transfer-files"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/transfer-files"
      ><span class="devsite-nav-text" tooltip>Transfer files to Linux VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/transfer-files-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/transfer-files-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/transfer-files-windows"
      ><span class="devsite-nav-text" tooltip>Transfer files to Windows VMs</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Encrypt disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/disk-encryption"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/disk-encryption"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/disk-encryption"
      ><span class="devsite-nav-text" tooltip>About disk encryption</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/customer-supplied-encryption"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/customer-supplied-encryption"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/customer-supplied-encryption"
      ><span class="devsite-nav-text" tooltip>Encrypt disks with customer-supplied encryption keys</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/customer-managed-encryption"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/customer-managed-encryption"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/customer-managed-encryption"
      ><span class="devsite-nav-text" tooltip>Help protect resources by using Cloud KMS keys</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Modify disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/modify-hyperdisks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/modify-hyperdisks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/modify-hyperdisks"
      ><span class="devsite-nav-text" tooltip>Modify Hyperdisk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/migrate-to-hyperdisk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/migrate-to-hyperdisk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/migrate-to-hyperdisk"
      ><span class="devsite-nav-text" tooltip>Change the disk type</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/resize-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/resize-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/resize-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Increase the size of a Persistent Disk</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/modify-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/modify-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/modify-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Modify a Persistent Disk</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Evaluate disk performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/performance"
      ><span class="devsite-nav-text" tooltip>Configure disks to meet performance requirements</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Review disk performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/review-storage-pool-metrics"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/review-storage-pool-metrics"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/review-storage-pool-metrics"
      ><span class="devsite-nav-text" tooltip>Review storage pool metrics</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/review-disk-metrics"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/review-disk-metrics"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/review-disk-metrics"
      ><span class="devsite-nav-text" tooltip>Review disk performance metrics</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/analyze-iops-hyperdisk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/analyze-iops-hyperdisk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/analyze-iops-hyperdisk"
      ><span class="devsite-nav-text" tooltip>Analyze provisioned IOPS and throughput</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Benchmark disk performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/benchmark-hyperdisk-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/benchmark-hyperdisk-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/benchmark-hyperdisk-performance"
      ><span class="devsite-nav-text" tooltip>Benchmark Hyperdisk performance</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/benchmarking-pd-performance-linux"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/benchmarking-pd-performance-linux"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/benchmarking-pd-performance-linux"
      ><span class="devsite-nav-text" tooltip>Benchmark Persistent Disk performance on a Linux VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/benchmarking-pd-performance-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/benchmarking-pd-performance-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/benchmarking-pd-performance-windows"
      ><span class="devsite-nav-text" tooltip>Benchmark Persistent Disk performance on a Windows VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/benchmarking-local-ssd-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/benchmarking-local-ssd-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/benchmarking-local-ssd-performance"
      ><span class="devsite-nav-text" tooltip>Benchmark Local SSD performance</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Make disks highly available</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Persistent Disk Asynchronous Replication</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/about"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/about"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/about"
      ><span class="devsite-nav-text" tooltip>About Persistent Disk Asynchronous Replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/configure"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/configure"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/configure"
      ><span class="devsite-nav-text" tooltip>Configure replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/manage-replication"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/manage-replication"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/manage-replication"
      ><span class="devsite-nav-text" tooltip>Manage replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/failover-failback"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/failover-failback"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/failover-failback"
      ><span class="devsite-nav-text" tooltip>Failover and failback disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/manage-async-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/manage-async-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/manage-async-disks"
      ><span class="devsite-nav-text" tooltip>Manage asynchronous disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/manage-consistency-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/manage-consistency-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/manage-consistency-groups"
      ><span class="devsite-nav-text" tooltip>Manage consistency groups</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/async-pd/performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/async-pd/performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/async-pd/performance"
      ><span class="devsite-nav-text" tooltip>Review performance metrics</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Cross-zonal synchronous disk replication</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/about-regional-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/about-regional-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/about-regional-persistent-disk"
      ><span class="devsite-nav-text" tooltip>About synchronous disk replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/high-availability-regional-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/high-availability-regional-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/high-availability-regional-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Build high availability services using synchronous disk replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/regional-persistent-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/regional-persistent-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/regional-persistent-disk"
      ><span class="devsite-nav-text" tooltip>Create and manage synchronously replicated disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/repd-failover"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/repd-failover"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/repd-failover"
      ><span class="devsite-nav-text" tooltip>Manage failures for synchronous disk replication</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/design-considerations-for-resilient-workloads-with-regional-persistent-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/design-considerations-for-resilient-workloads-with-regional-persistent-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/design-considerations-for-resilient-workloads-with-regional-persistent-disks"
      ><span class="devsite-nav-text" tooltip>Design considerations for resilient workloads with replicated disks</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Back up and restore</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/disks/data-protection"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/data-protection"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/data-protection"
      ><span class="devsite-nav-text" tooltip>Data protection options</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Back up VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/machine-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/machine-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/machine-images"
      ><span class="devsite-nav-text" tooltip>Machine images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/machine-images/create-machine-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/machine-images/create-machine-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/machine-images/create-machine-images"
      ><span class="devsite-nav-text" tooltip>Create machine images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/machine-images/import-machine-from-virtual-appliance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/machine-images/import-machine-from-virtual-appliance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/machine-images/import-machine-from-virtual-appliance"
      ><span class="devsite-nav-text" tooltip>Import machine images from virtual appliances</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Back up disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Back up a disk in place</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/instant-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/instant-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/instant-snapshots"
      ><span class="devsite-nav-text" tooltip>About instant snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/create-instant-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/create-instant-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/create-instant-snapshots"
      ><span class="devsite-nav-text" tooltip>Create and manage instant snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/convert-instant-snapshot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/convert-instant-snapshot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/convert-instant-snapshot"
      ><span class="devsite-nav-text" tooltip>Copy an instant snapshot to a different location</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Back up a disk for disaster recovery</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/snapshots"
      ><span class="devsite-nav-text" tooltip>About disk snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/snapshot-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/snapshot-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/snapshot-best-practices"
      ><span class="devsite-nav-text" tooltip>Best practices for disk snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/snapshot-settings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/snapshot-settings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/snapshot-settings"
      ><span class="devsite-nav-text" tooltip>Set default storage location using snapshot settings</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/create-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/create-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/create-snapshots"
      ><span class="devsite-nav-text" tooltip>Create disk snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/manage-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/manage-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/manage-snapshots"
      ><span class="devsite-nav-text" tooltip>Manage disk snapshots</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create application consistent snapshots</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/creating-linux-application-consistent-pd-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/creating-linux-application-consistent-pd-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/creating-linux-application-consistent-pd-snapshots"
      ><span class="devsite-nav-text" tooltip>Create Linux application consistent snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/creating-windows-persistent-disk-snapshot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/creating-windows-persistent-disk-snapshot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/creating-windows-persistent-disk-snapshot"
      ><span class="devsite-nav-text" tooltip>Create a Windows disk snapshot (VSS snapshots)</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Schedule disk backups</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/about-snapshot-schedules"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/about-snapshot-schedules"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/about-snapshot-schedules"
      ><span class="devsite-nav-text" tooltip>About snapshot schedules</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/scheduled-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/scheduled-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/scheduled-snapshots"
      ><span class="devsite-nav-text" tooltip>Create snapshot schedules</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/manage-snapshot-schedules"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/manage-snapshot-schedules"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/manage-snapshot-schedules"
      ><span class="devsite-nav-text" tooltip>Manage snapshot schedules</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/create-alert-snapshot-schedule"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/create-alert-snapshot-schedule"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/create-alert-snapshot-schedule"
      ><span class="devsite-nav-text" tooltip>Configure alerts for snapshot schedules</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/disks/clone-duplicate-disks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/clone-duplicate-disks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/clone-duplicate-disks"
      ><span class="devsite-nav-text" tooltip>Duplicate a disk with clones</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Restore from a backup</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/machine-images/create-instance-from-machine-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/machine-images/create-instance-from-machine-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/machine-images/create-instance-from-machine-image"
      ><span class="devsite-nav-text" tooltip>Create VMs from machine images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/restore-snapshot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/restore-snapshot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/restore-snapshot"
      ><span class="devsite-nav-text" tooltip>Restore from a standard snapshot</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/restore-instant-snapshot"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/restore-instant-snapshot"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/restore-instant-snapshot"
      ><span class="devsite-nav-text" tooltip>Restore from an instant snapshot</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/disks/recover-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/recover-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/recover-vm"
      ><span class="devsite-nav-text" tooltip>Recover a VM with a corrupted or full disk</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Manage VMs</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Basic operations and lifecycle</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/instance-life-cycle"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/instance-life-cycle"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/instance-life-cycle"
      ><span class="devsite-nav-text" tooltip>VM instance lifecycle</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/stop-start-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/stop-start-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/stop-start-instance"
      ><span class="devsite-nav-text" tooltip>Stop or restart a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/suspend-resume-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/suspend-resume-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/suspend-resume-instance"
      ><span class="devsite-nav-text" tooltip>Suspend or resume a VM</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Schedule VM operations</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/schedule-instance-start-stop"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/schedule-instance-start-stop"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/schedule-instance-start-stop"
      ><span class="devsite-nav-text" tooltip>Schedule a VM to start and stop</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/limit-vm-runtime"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/limit-vm-runtime"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/limit-vm-runtime"
      ><span class="devsite-nav-text" tooltip>Limit the run time of a VM</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>View VM properties</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/detect-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/detect-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/detect-compute-engine"
      ><span class="devsite-nav-text" tooltip>Detect if a VM is running in Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/get-list"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/get-list"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/get-list"
      ><span class="devsite-nav-text" tooltip>Get a list of VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-vm-details"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-vm-details"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-vm-details"
      ><span class="devsite-nav-text" tooltip>Get the details of a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/get-uuid"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/get-uuid"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/get-uuid"
      ><span class="devsite-nav-text" tooltip>Get the UUID of a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-vm-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-vm-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-vm-image"
      ><span class="devsite-nav-text" tooltip>View the source image of a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-references-between-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-references-between-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-references-between-resources"
      ><span class="devsite-nav-text" tooltip>View referrers to VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-ip-address"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-ip-address"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-ip-address"
      ><span class="devsite-nav-text" tooltip>Locate IP addresses for a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-visible-cores"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-visible-cores"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-visible-cores"
      ><span class="devsite-nav-text" tooltip>View the number of visible CPU cores</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Update VM details</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/rename-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/rename-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/rename-instance"
      ><span class="devsite-nav-text" tooltip>Rename a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/update-instance-properties"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/update-instance-properties"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/update-instance-properties"
      ><span class="devsite-nav-text" tooltip>Update VM properties</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/changing-machine-type-of-stopped-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/changing-machine-type-of-stopped-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/changing-machine-type-of-stopped-instance"
      ><span class="devsite-nav-text" tooltip>Edit the machine type of a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/add-remove-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/add-remove-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/add-remove-gpus"
      ><span class="devsite-nav-text" tooltip>Add or remove GPUs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/change-service-account"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/change-service-account"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/change-service-account"
      ><span class="devsite-nav-text" tooltip>Change the attached service account</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Update the physical location of a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/placement-policies-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/placement-policies-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/placement-policies-overview"
      ><span class="devsite-nav-text" tooltip>About placement policies</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/use-spread-placement-policies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/use-spread-placement-policies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/use-spread-placement-policies"
      ><span class="devsite-nav-text" tooltip>Create and apply spread placement policies to VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-placement-policies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-placement-policies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-placement-policies"
      ><span class="devsite-nav-text" tooltip>View placement policies</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/manage-placement-policies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/manage-placement-policies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/manage-placement-policies"
      ><span class="devsite-nav-text" tooltip>Remove or delete placement policies</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure IP addresses</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/ip-addresses/configure-static-external-ip-address"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/ip-addresses/configure-static-external-ip-address"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/ip-addresses/configure-static-external-ip-address"
      ><span class="devsite-nav-text" tooltip>Configure static external IP addresses</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/ip-addresses/configure-static-internal-ip-address"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/ip-addresses/configure-static-internal-ip-address"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/ip-addresses/configure-static-internal-ip-address"
      ><span class="devsite-nav-text" tooltip>Configure static internal IP addresses</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/ip-addresses/configure-ipv6-address"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/ip-addresses/configure-ipv6-address"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/ip-addresses/configure-ipv6-address"
      ><span class="devsite-nav-text" tooltip>Configure IPv6 for instances and instance templates</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Delete VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/deleting-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/deleting-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/deleting-instance"
      ><span class="devsite-nav-text" tooltip>Delete a VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/preventing-accidental-vm-deletion"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/preventing-accidental-vm-deletion"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/preventing-accidental-vm-deletion"
      ><span class="devsite-nav-text" tooltip>Prevent accidental VM deletion</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/nodes/updating-vm-tenancy"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/updating-vm-tenancy"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/updating-vm-tenancy"
      ><span class="devsite-nav-text" tooltip>Update VM tenancy</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage groups of VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/working-with-managed-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/working-with-managed-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/working-with-managed-instances"
      ><span class="devsite-nav-text" tooltip>Work with managed VMs in a MIG</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/getting-info-about-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/getting-info-about-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/getting-info-about-migs"
      ><span class="devsite-nav-text" tooltip>View info about MIGs and managed instances</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/add-remove-vms-in-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/add-remove-vms-in-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/add-remove-vms-in-mig"
      ><span class="devsite-nav-text" tooltip>Add or remove VMs in a MIG</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/limit-vm-runtime-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/limit-vm-runtime-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/limit-vm-runtime-in-migs"
      ><span class="devsite-nav-text" tooltip>Limit the run time of VMs in a MIG</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Add GPU VMs all at once in a MIG</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/about-resize-requests-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/about-resize-requests-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/about-resize-requests-mig"
      ><span class="devsite-nav-text" tooltip>About resize requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/create-resize-requests-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/create-resize-requests-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/create-resize-requests-mig"
      ><span class="devsite-nav-text" tooltip>Create resize requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/manage-resize-requests-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/manage-resize-requests-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/manage-resize-requests-mig"
      ><span class="devsite-nav-text" tooltip>View, cancel, or delete resize requests</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-preview"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure instance flexibility in a MIG</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/about-instance-flexibility"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/about-instance-flexibility"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/about-instance-flexibility"
      ><span class="devsite-nav-text" tooltip>About instance flexibility</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/configure-instance-flexibility"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/configure-instance-flexibility"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/configure-instance-flexibility"
      ><span class="devsite-nav-text" tooltip>Add instance flexibility</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/view-instance-flexibility-configuration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/view-instance-flexibility-configuration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/view-instance-flexibility-configuration"
      ><span class="devsite-nav-text" tooltip>View instance flexibility configuration</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/change-or-remove-instance-flexibility-configuration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/change-or-remove-instance-flexibility-configuration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/change-or-remove-instance-flexibility-configuration"
      ><span class="devsite-nav-text" tooltip>Change or remove instance flexibility</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Distribute VMs across zones in a regional MIG</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-migs"
      ><span class="devsite-nav-text" tooltip>About regional MIGs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-mig-distribution-shape"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-mig-distribution-shape"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-mig-distribution-shape"
      ><span class="devsite-nav-text" tooltip>About target distribution shape</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-mig-set-target-distribution-shape"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-mig-set-target-distribution-shape"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-mig-set-target-distribution-shape"
      ><span class="devsite-nav-text" tooltip>Set a target distribution for VMs across zones</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-mig-enable-disable-proactive-redistribution"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-mig-enable-disable-proactive-redistribution"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-mig-enable-disable-proactive-redistribution"
      ><span class="devsite-nav-text" tooltip>Disable and reenable proactive instance redistribution</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-mig-rebalance-manually"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-mig-rebalance-manually"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-mig-rebalance-manually"
      ><span class="devsite-nav-text" tooltip>Manually rebalance a regional MIG</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/regional-mig-simulate-zonal-outage"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/regional-mig-simulate-zonal-outage"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/regional-mig-simulate-zonal-outage"
      ><span class="devsite-nav-text" tooltip>Simulate a zone outage for a regional MIG</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Work with suspended and stopped VMs in a MIG</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/instance-groups/suspended-and-stopped-vms-in-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/suspended-and-stopped-vms-in-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/suspended-and-stopped-vms-in-mig"
      ><span class="devsite-nav-text" tooltip>Overview</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/instance-groups/manually-suspend-or-stop-vms-in-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/manually-suspend-or-stop-vms-in-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/manually-suspend-or-stop-vms-in-mig"
      ><span class="devsite-nav-text" tooltip>Manually suspend or stop VMs in a MIG</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/instance-groups/accelerate-mig-scale-out-with-standby-pools"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/accelerate-mig-scale-out-with-standby-pools"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/accelerate-mig-scale-out-with-standby-pools"
      ><span class="devsite-nav-text" tooltip>Accelerate scale out with suspended and stopped VMs</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Apply new VM configurations in a MIG</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/updating-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/updating-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/updating-migs"
      ><span class="devsite-nav-text" tooltip>About applying new VM configurations to VMs in a MIG</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/rolling-out-updates-to-managed-instance-groups"
      ><span class="devsite-nav-text" tooltip>Automatically apply VM configuration updates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/updating-selected-instances-in-a-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/updating-selected-instances-in-a-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/updating-selected-instances-in-a-mig"
      ><span class="devsite-nav-text" tooltip>Selectively apply VM configuration updates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/update-on-repair"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/update-on-repair"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/update-on-repair"
      ><span class="devsite-nav-text" tooltip>Apply configuration updates during repairs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/set-mig-aic"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/set-mig-aic"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/set-mig-aic"
      ><span class="devsite-nav-text" tooltip>Override instance template properties with an all-instances configuration</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/upgrading-images-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/upgrading-images-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/upgrading-images-in-migs"
      ><span class="devsite-nav-text" tooltip>Perform one-click OS image upgrades</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Maintain high availability during VM failures</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/about-repair"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/about-repair"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/about-repair"
      ><span class="devsite-nav-text" tooltip>About repairing VMs for high availability</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Repair a VM when an application fails</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/autohealing-instances-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/autohealing-instances-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/autohealing-instances-in-migs"
      ><span class="devsite-nav-text" tooltip>Set up an application-based health check and autohealing</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/monitoring-managed-instance-health-state-changes"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/monitoring-managed-instance-health-state-changes"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/monitoring-managed-instance-health-state-changes"
      ><span class="devsite-nav-text" tooltip>Monitor VM health state changes</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/disabling-and-enabling-health-state-change-logs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/disabling-and-enabling-health-state-change-logs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/disabling-and-enabling-health-state-change-logs"
      ><span class="devsite-nav-text" tooltip>Disable and enable health state change logs</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/turn-off-vm-repairs-in-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/turn-off-vm-repairs-in-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/turn-off-vm-repairs-in-mig"
      ><span class="devsite-nav-text" tooltip>Turn off repairs in a MIG</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Support a stateful workload with a MIG</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/stateful-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/stateful-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/stateful-migs"
      ><span class="devsite-nav-text" tooltip>About stateful MIGs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure stateful MIGs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/configuring-stateful-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/configuring-stateful-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/configuring-stateful-migs"
      ><span class="devsite-nav-text" tooltip>Configure a stateful MIG</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/configuring-stateful-disks-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/configuring-stateful-disks-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/configuring-stateful-disks-in-migs"
      ><span class="devsite-nav-text" tooltip>Configure stateful persistent disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/configuring-stateful-metadata-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/configuring-stateful-metadata-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/configuring-stateful-metadata-in-migs"
      ><span class="devsite-nav-text" tooltip>Configure stateful metadata</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/configuring-stateful-ip-addresses-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/configuring-stateful-ip-addresses-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/configuring-stateful-ip-addresses-in-migs"
      ><span class="devsite-nav-text" tooltip>Configure stateful IP addresses</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/applying-viewing-removing-stateful-config-in-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/applying-viewing-removing-stateful-config-in-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/applying-viewing-removing-stateful-config-in-migs"
      ><span class="devsite-nav-text" tooltip>Apply, view, and remove stateful configuration</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/how-stateful-migs-work"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/how-stateful-migs-work"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/how-stateful-migs-work"
      ><span class="devsite-nav-text" tooltip>How stateful MIGs work</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/preserved-state"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/preserved-state"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/preserved-state"
      ><span class="devsite-nav-text" tooltip>How operations affect preserved state</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Group VMs together</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/migrate-workload-to-stateful-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/migrate-workload-to-stateful-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/migrate-workload-to-stateful-mig"
      ><span class="devsite-nav-text" tooltip>Migrate an existing workload to a stateful managed instance group</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/creating-groups-of-unmanaged-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/creating-groups-of-unmanaged-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/creating-groups-of-unmanaged-instances"
      ><span class="devsite-nav-text" tooltip>Group unmanaged VMs together</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/delete-mig"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/delete-mig"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/delete-mig"
      ><span class="devsite-nav-text" tooltip>Delete a MIG</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Host maintenance events</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/host-maintenance-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/host-maintenance-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/host-maintenance-overview"
      ><span class="devsite-nav-text" tooltip>About host events</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/live-migration-process"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/live-migration-process"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/live-migration-process"
      ><span class="devsite-nav-text" tooltip>Live migration process</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/setting-vm-host-options"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/setting-vm-host-options"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/setting-vm-host-options"
      ><span class="devsite-nav-text" tooltip>Set the host maintenance policy</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/metadata/getting-live-migration-notice"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/getting-live-migration-notice"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/getting-live-migration-notice"
      ><span class="devsite-nav-text" tooltip>Query metadata server for notices</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/simulating-host-maintenance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/simulating-host-maintenance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/simulating-host-maintenance"
      ><span class="devsite-nav-text" tooltip>Simulate a host maintenance event</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/gpu-host-maintenance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/gpu-host-maintenance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/gpu-host-maintenance"
      ><span class="devsite-nav-text" tooltip>Handle GPU host maintenance events</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/monitor-plan-host-maintenance-event"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/monitor-plan-host-maintenance-event"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/monitor-plan-host-maintenance-event"
      ><span class="devsite-nav-text" tooltip>Monitor and plan for a host maintenance event</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/trigger-host-maintenance-event"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/trigger-host-maintenance-event"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/trigger-host-maintenance-event"
      ><span class="devsite-nav-text" tooltip>Manually start host maintenance</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage metadata</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/metadata/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/overview"
      ><span class="devsite-nav-text" tooltip>About VM metadata</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/metadata/predefined-metadata-keys"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/predefined-metadata-keys"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/predefined-metadata-keys"
      ><span class="devsite-nav-text" tooltip>Predefined metadata keys</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/metadata/setting-custom-metadata"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/setting-custom-metadata"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/setting-custom-metadata"
      ><span class="devsite-nav-text" tooltip>Set and remove custom metadata</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/metadata/querying-metadata"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/querying-metadata"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/querying-metadata"
      ><span class="devsite-nav-text" tooltip>View and query VM metadata</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/metadata/manage-guest-attributes"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/metadata/manage-guest-attributes"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/metadata/manage-guest-attributes"
      ><span class="devsite-nav-text" tooltip>Set and query guest attributes</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Securing VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/about-shielded-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/about-shielded-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/about-shielded-vm"
      ><span class="devsite-nav-text" tooltip>About Shielded VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/about-confidential-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/about-confidential-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/about-confidential-vm"
      ><span class="devsite-nav-text" tooltip>About Confidential VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/protecting-resources-vpc-service-controls"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/protecting-resources-vpc-service-controls"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/protecting-resources-vpc-service-controls"
      ><span class="devsite-nav-text" tooltip>Protect resources with VPC Service Controls</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Manage operating systems</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Guest environment</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/images/guest-environment"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/guest-environment"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/guest-environment"
      ><span class="devsite-nav-text" tooltip>About the guest environment</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/install-guest-environment"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/install-guest-environment"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/install-guest-environment"
      ><span class="devsite-nav-text" tooltip>Install the guest environment</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/vm-manager"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/vm-manager"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/vm-manager"
      ><span class="devsite-nav-text" tooltip>Manage operating systems using VM Manager</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage OS images</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/images/image-management-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/image-management-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/image-management-best-practices"
      ><span class="devsite-nav-text" tooltip>Image management best practices</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/image-families-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/image-families-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/image-families-best-practices"
      ><span class="devsite-nav-text" tooltip>Image families best practices</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/premium/access-rhel-knowledgebase"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/access-rhel-knowledgebase"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/access-rhel-knowledgebase"
      ><span class="devsite-nav-text" tooltip>Access Red Hat Knowledgebase</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/managing-access-custom-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/managing-access-custom-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/managing-access-custom-images"
      ><span class="devsite-nav-text" tooltip>Manage access to custom images</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/restricting-image-access"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/restricting-image-access"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/restricting-image-access"
      ><span class="devsite-nav-text" tooltip>Set up trusted image policies</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/export-image"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/export-image"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/export-image"
      ><span class="devsite-nav-text" tooltip>Export a custom image to Cloud Storage</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/set-version-custom"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/set-version-custom"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/set-version-custom"
      ><span class="devsite-nav-text" tooltip>Set image versions in an image family</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/deprecate-custom"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/deprecate-custom"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/deprecate-custom"
      ><span class="devsite-nav-text" tooltip>Deprecate a custom image</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/images/delete-custom"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/delete-custom"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/delete-custom"
      ><span class="devsite-nav-text" tooltip>Delete a custom image</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/artifact-registry-os-packages"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/artifact-registry-os-packages"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/artifact-registry-os-packages"
      ><span class="devsite-nav-text" tooltip>Manage OS packages</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage licenses</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/licenses/about"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/licenses/about"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/licenses/about"
      ><span class="devsite-nav-text" tooltip>About licenses</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/licenses/view-append"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/licenses/view-append"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/licenses/view-append"
      ><span class="devsite-nav-text" tooltip>View and append licenses</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/images/premium/rhel/appending-els-licenses"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/rhel/appending-els-licenses"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/rhel/appending-els-licenses"
      ><span class="devsite-nav-text" tooltip>Append RHEL ELS licenses</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/images/premium/ubuntu-pro/upgrade-from-ubuntu"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/images/premium/ubuntu-pro/upgrade-from-ubuntu"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/images/premium/ubuntu-pro/upgrade-from-ubuntu"
      ><span class="devsite-nav-text" tooltip>Upgrade from Ubuntu to Ubuntu Pro</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Use startup scripts</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/startup-scripts"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/startup-scripts"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/startup-scripts"
      ><span class="devsite-nav-text" tooltip>Startup scripts overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/startup-scripts/linux"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/startup-scripts/linux"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/startup-scripts/linux"
      ><span class="devsite-nav-text" tooltip>Use startup scripts on Linux VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/startup-scripts/windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/startup-scripts/windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/startup-scripts/windows"
      ><span class="devsite-nav-text" tooltip>Use startup scripts on Windows VMs</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/shutdownscript"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/shutdownscript"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/shutdownscript"
      ><span class="devsite-nav-text" tooltip>Run shutdown scripts</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/configure-ntp"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/configure-ntp"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/configure-ntp"
      ><span class="devsite-nav-text" tooltip>Configure NTP</span></a></li>

  <li class="devsite-nav-item"><a href="/compute/docs/instances/enabling-virtio-rng"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/enabling-virtio-rng"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/enabling-virtio-rng"
      ><span class="devsite-nav-text" tooltip>Enable the virtual random number generator (Virtio RNG)</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Deploy workloads</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Set up authentication for workloads</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/access/app-authentication-methods"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/app-authentication-methods"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/app-authentication-methods"
      ><span class="devsite-nav-text" tooltip>Choose a workload authentication method</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/access/authenticate-workloads"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/authenticate-workloads"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/authenticate-workloads"
      ><span class="devsite-nav-text" tooltip>Authenticate workloads to Google Cloud API using service accounts</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/access/authenticate-workloads-over-mtls"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/access/authenticate-workloads-over-mtls"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/access/authenticate-workloads-over-mtls"
      ><span class="devsite-nav-text" tooltip>Authenticate workloads to other workloads over mTLS</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Web servers</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/basic-webserver-apache"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/basic-webserver-apache"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/basic-webserver-apache"
      ><span class="devsite-nav-text" tooltip>Deploy an Apache server</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/basic-webserver-iis"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/basic-webserver-iis"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/basic-webserver-iis"
      ><span class="devsite-nav-text" tooltip>Deploy an IIS server</span></a></li><li class="devsite-nav-item"><a href="/docs/terraform/get-started-with-terraform"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /docs/terraform/get-started-with-terraform"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/docs/terraform/get-started-with-terraform"
      ><span class="devsite-nav-text" tooltip>Deploy a Flask server by using Terraform</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Applications</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="https://console.cloud.google.com/getting-started?walkthrough_tutorial_id=compute_quickstart"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://console.cloud.google.com/getting-started?walkthrough_tutorial_id=compute_quickstart"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://console.cloud.google.com/getting-started?walkthrough_tutorial_id=compute_quickstart"
      ><span class="devsite-nav-text" tooltip>Interactive: Build a to-do app with MongoDB</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/deploy-aspnet-app"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/deploy-aspnet-app"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/deploy-aspnet-app"
      ><span class="devsite-nav-text" tooltip>Deploy an ASP.NET application</span></a></li><li class="devsite-nav-item"><a href="/community/tutorials/joomla-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/joomla-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/joomla-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Set up Joomla</span></a></li><li class="devsite-nav-item"><a href="/community/tutorials/setting-up-lamp"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/setting-up-lamp"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/setting-up-lamp"
      ><span class="devsite-nav-text" tooltip>Set up LAMP</span></a></li><li class="devsite-nav-item"><a href="/build/docs/deploying-builds/deploy-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /build/docs/deploying-builds/deploy-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/build/docs/deploying-builds/deploy-compute-engine"
      ><span class="devsite-nav-text" tooltip>Perform blue/green deployments using Cloud Build</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Send email from a VM</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/sending-mail"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/sending-mail"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/sending-mail"
      ><span class="devsite-nav-text" tooltip>About sending email</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/sending-mail/using-sendgrid"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/sending-mail/using-sendgrid"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/sending-mail/using-sendgrid"
      ><span class="devsite-nav-text" tooltip>Send email with SendGrid</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/sending-mail/using-mailgun"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/sending-mail/using-mailgun"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/sending-mail/using-mailgun"
      ><span class="devsite-nav-text" tooltip>Send email with Mailgun</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/sending-mail/using-mailjet"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/sending-mail/using-mailjet"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/sending-mail/using-mailjet"
      ><span class="devsite-nav-text" tooltip>Send email with Mailjet</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Databases</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>MySQL</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/setup-mysql"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/setup-mysql"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/setup-mysql"
      ><span class="devsite-nav-text" tooltip>Set up MySQL on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/mysql-remote-access"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/mysql-remote-access"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/mysql-remote-access"
      ><span class="devsite-nav-text" tooltip>Set up client access with a private IP address</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/cloning-a-mysql-database-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/cloning-a-mysql-database-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/cloning-a-mysql-database-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Cloning a MySQL database on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/deploying-highly-available-mysql-cluster-with-drbd-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/deploying-highly-available-mysql-cluster-with-drbd-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/deploying-highly-available-mysql-cluster-with-drbd-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Deploying a highly available MySQL 5.6 cluster with DRBD on Compute Engine</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>PostgreSQL</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/community/tutorials/setting-up-postgres"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/setting-up-postgres"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/setting-up-postgres"
      ><span class="devsite-nav-text" tooltip>Set up PostgreSQL on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/community/tutorials/setting-up-postgres-data-disk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/setting-up-postgres-data-disk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/setting-up-postgres-data-disk"
      ><span class="devsite-nav-text" tooltip>Set up a PostgreSQL data disk</span></a></li><li class="devsite-nav-item"><a href="/community/tutorials/setting-up-postgres-hot-standby"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/setting-up-postgres-hot-standby"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/setting-up-postgres-hot-standby"
      ><span class="devsite-nav-text" tooltip>Set up PostgreSQL with hot standby</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>SQL Server</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/best-practices"
      ><span class="devsite-nav-text" tooltip>Best practices for SQL Server VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/creating-high-performance-sql-server-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/creating-high-performance-sql-server-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/creating-high-performance-sql-server-instance"
      ><span class="devsite-nav-text" tooltip>Create a high-performance SQL Server VM</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/adding-sql-server-license-to-linux"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/adding-sql-server-license-to-linux"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/adding-sql-server-license-to-linux"
      ><span class="devsite-nav-text" tooltip>Add a SQL Server license to an existing Linux server</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/adding-sql-server-license"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/adding-sql-server-license"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/adding-sql-server-license"
      ><span class="devsite-nav-text" tooltip>Add a SQL Server license to an existing Windows server</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/creating-sql-server-instance-using-netapp"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/creating-sql-server-instance-using-netapp"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/creating-sql-server-instance-using-netapp"
      ><span class="devsite-nav-text" tooltip>Configure SQL Server on Google Cloud Platform using Cloud Volumes Service</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Configure</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/configure-availability"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/configure-availability"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/configure-availability"
      ><span class="devsite-nav-text" tooltip>Set up AlwaysOn availability groups</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/configure-failover-cluster-instance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/configure-failover-cluster-instance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/configure-failover-cluster-instance"
      ><span class="devsite-nav-text" tooltip>Set up a failover cluster VM that uses S2D</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/configure-failover-cluster-instance-pd-multi-writer"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/configure-failover-cluster-instance-pd-multi-writer"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/configure-failover-cluster-instance-pd-multi-writer"
      ><span class="devsite-nav-text" tooltip>Set up a failover cluster VM with multi-writer persistent disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/high-availability-linux-pacemaker"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/high-availability-linux-pacemaker"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/high-availability-linux-pacemaker"
      ><span class="devsite-nav-text" tooltip>Set up a SQL Server cluster on Linux with Alaways On availability groups and Pacemaker</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/cloning-a-microsoft-sql-server-database-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/cloning-a-microsoft-sql-server-database-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/cloning-a-microsoft-sql-server-database-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Cloning a Microsoft SQL Server database on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/load-testing-sql-server-hammerdb"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/load-testing-sql-server-hammerdb"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/load-testing-sql-server-hammerdb"
      ><span class="devsite-nav-text" tooltip>Load test SQL Server using HammerDB</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/disaster-recovery-for-microsoft-sql-server"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/disaster-recovery-for-microsoft-sql-server"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/disaster-recovery-for-microsoft-sql-server"
      ><span class="devsite-nav-text" tooltip>Disaster recovery for Microsoft SQL Server</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/dr-for-microsoft-sql-server-with-async-pd"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/dr-for-microsoft-sql-server-with-async-pd"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/dr-for-microsoft-sql-server-with-async-pd"
      ><span class="devsite-nav-text" tooltip>Disaster recovery for Microsoft SQL Server with Async PD</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/sql-server/deploying-microsoft-sql-server-multi-regional-disaster-recovery"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/sql-server/deploying-microsoft-sql-server-multi-regional-disaster-recovery"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/sql-server/deploying-microsoft-sql-server-multi-regional-disaster-recovery"
      ><span class="devsite-nav-text" tooltip>Deploying Microsoft SQL Server for multi-regional disaster recovery</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Redis</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/redis/deployment-options"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/redis/deployment-options"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/redis/deployment-options"
      ><span class="devsite-nav-text" tooltip>Deployment Options for Redis on Google Cloud </span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Containers</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/containers"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/containers"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/containers"
      ><span class="devsite-nav-text" tooltip>Containers on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/containers/deploying-containers"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/containers/deploying-containers"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/containers/deploying-containers"
      ><span class="devsite-nav-text" tooltip>Deploy containers on VMs and managed instance groups</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/containers/configuring-options-to-run-containers"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/containers/configuring-options-to-run-containers"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/containers/configuring-options-to-run-containers"
      ><span class="devsite-nav-text" tooltip>Configure options to run your container</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Microsoft Windows</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows"
      ><span class="devsite-nav-text" tooltip>Windows workloads</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/windows-best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/windows-best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/windows-best-practices"
      ><span class="devsite-nav-text" tooltip>Best practices for Windows Server VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/setup-active-directory"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/setup-active-directory"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/setup-active-directory"
      ><span class="devsite-nav-text" tooltip>Setting up Active Directory</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/best-practices"
      ><span class="devsite-nav-text" tooltip>Best practices for running Active Directory on Google Cloud</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/deploying-microsoft-sharepoint-server-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/deploying-microsoft-sharepoint-server-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/deploying-microsoft-sharepoint-server-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Deploy Microsoft SharePoint Server on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/windows/deploying-microsoft-exchange-server-2016-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/windows/deploying-microsoft-exchange-server-2016-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/windows/deploying-microsoft-exchange-server-2016-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Deploying Microsoft Exchange Server 2016 on Compute Engine</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Windows Server</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/performing-in-place-upgrade-windows-server"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/performing-in-place-upgrade-windows-server"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/performing-in-place-upgrade-windows-server"
      ><span class="devsite-nav-text" tooltip>Perform an in-place upgrade of Windows Server</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/compute/docs/tutorials/performing-an-automated-in-place-upgrade-windows-server"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/performing-an-automated-in-place-upgrade-windows-server"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/performing-an-automated-in-place-upgrade-windows-server"
      ><span class="devsite-nav-text" tooltip>Perform an automated in-place upgrade of Windows Server</span><span class="devsite-nav-icon material-icons"
        data-icon="beta"
        data-title="Beta"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/running-windows-server-failover-clustering"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/running-windows-server-failover-clustering"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/running-windows-server-failover-clustering"
      ><span class="devsite-nav-text" tooltip>Run Windows Server failover clustering</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Others</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Load testing</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/architecture/distributed-load-testing-using-gke"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /architecture/distributed-load-testing-using-gke"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/architecture/distributed-load-testing-using-gke"
      ><span class="devsite-nav-text" tooltip>Distributed load testing using Kubernetes</span></a></li><li class="devsite-nav-item"><a href="/community/tutorials/ssh-port-forwarding-set-up-load-testing-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /community/tutorials/ssh-port-forwarding-set-up-load-testing-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/community/tutorials/ssh-port-forwarding-set-up-load-testing-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>SSH port forwarding and load testing</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Analytics</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/architecture/monte-carlo-methods-with-hadoop-spark"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /architecture/monte-carlo-methods-with-hadoop-spark"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/architecture/monte-carlo-methods-with-hadoop-spark"
      ><span class="devsite-nav-text" tooltip>Monte Carlo methods using Apache Spark</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Machine learning</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/ml-inference-t4"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/ml-inference-t4"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/ml-inference-t4"
      ><span class="devsite-nav-text" tooltip>Run TensorFlow inference workloads with TensorRT5 and NVIDIA T4 GPU</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Monitor</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Monitor logs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/logging/audit-logging"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/logging/audit-logging"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/logging/audit-logging"
      ><span class="devsite-nav-text" tooltip>View audit logs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/logging/usage-export"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/logging/usage-export"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/logging/usage-export"
      ><span class="devsite-nav-text" tooltip>View usage reports</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/viewing-compute-operations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/viewing-compute-operations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/viewing-compute-operations"
      ><span class="devsite-nav-text" tooltip>View Compute Engine operations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/logging/migrating-from-activity-logs-to-audit-logs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/logging/migrating-from-activity-logs-to-audit-logs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/logging/migrating-from-activity-logs-to-audit-logs"
      ><span class="devsite-nav-text" tooltip>Migrate from activity logs to audit logs</span></a></li><li class="devsite-nav-item
           devsite-nav-deprecated"><a href="/compute/docs/logging/activity-logs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/logging/activity-logs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/logging/activity-logs"
      ><span class="devsite-nav-text" tooltip>View activity logs</span><span class="devsite-nav-icon material-icons"
        data-icon="deprecated"
        data-title="Deprecated"
        aria-hidden="true"></span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Monitor resources</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/nodes/determining-server-usage"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/determining-server-usage"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/determining-server-usage"
      ><span class="devsite-nav-text" tooltip>Monitor VM and sole-tenant node usage</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/observe-monitor-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/observe-monitor-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/observe-monitor-vms"
      ><span class="devsite-nav-text" tooltip>Observe and monitor VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Monitor GPU performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/monitor-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/monitor-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/monitor-gpus"
      ><span class="devsite-nav-text" tooltip>Monitor GPU performance on Linux VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/monitor-gpus-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/monitor-gpus-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/monitor-gpus-windows"
      ><span class="devsite-nav-text" tooltip>Monitor GPU performance on Windows VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Monitor disks</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/monitor-regional-persistent-disk-replica-state"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/monitor-regional-persistent-disk-replica-state"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/monitor-regional-persistent-disk-replica-state"
      ><span class="devsite-nav-text" tooltip>Monitor the replica states of regional persistent disk volumes</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-monitor"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-monitor"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-monitor"
      ><span class="devsite-nav-text" tooltip>Monitor reservations</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/labeling-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/labeling-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/labeling-resources"
      ><span class="devsite-nav-text" tooltip>Organize resources using labels</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Scale</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Autoscale groups of VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/autoscaler"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler"
      ><span class="devsite-nav-text" tooltip>About autoscaling groups of VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Create and manage autoscalers</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/scaling-cpu"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/scaling-cpu"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/scaling-cpu"
      ><span class="devsite-nav-text" tooltip>Scale based on CPU utilization</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/predictive-autoscaling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/predictive-autoscaling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/predictive-autoscaling"
      ><span class="devsite-nav-text" tooltip>Scale based on predictions</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/scaling-load-balancing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/scaling-load-balancing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/scaling-load-balancing"
      ><span class="devsite-nav-text" tooltip>Scale based on load balancing serving capacity</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/scaling-cloud-monitoring-metrics"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/scaling-cloud-monitoring-metrics"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/scaling-cloud-monitoring-metrics"
      ><span class="devsite-nav-text" tooltip>Scale based on Monitoring metrics</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/scaling-schedules"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/scaling-schedules"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/scaling-schedules"
      ><span class="devsite-nav-text" tooltip>Scale based on schedules</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/multiple-signals"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/multiple-signals"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/multiple-signals"
      ><span class="devsite-nav-text" tooltip>Use an autoscaling policy with multiple signals</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/managing-autoscalers"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/managing-autoscalers"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/managing-autoscalers"
      ><span class="devsite-nav-text" tooltip>Manage autoscalers</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/understanding-autoscaler-decisions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/understanding-autoscaler-decisions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/understanding-autoscaler-decisions"
      ><span class="devsite-nav-text" tooltip>Understand autoscaler decisions</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/autoscaler/viewing-autoscaler-logs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/autoscaler/viewing-autoscaler-logs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/autoscaler/viewing-autoscaler-logs"
      ><span class="devsite-nav-text" tooltip>View autoscaler logs</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/nodes/autoscaling-node-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/autoscaling-node-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/autoscaling-node-groups"
      ><span class="devsite-nav-text" tooltip>Autoscale node groups</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Reserve VM capacity</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-overview"
      ><span class="devsite-nav-text" tooltip>About reservations</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Reservations on demand</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-single-project"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-single-project"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-single-project"
      ><span class="devsite-nav-text" tooltip>Create a reservation for a single project</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-shared"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-shared"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-shared"
      ><span class="devsite-nav-text" tooltip>Create a shared reservation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-with-commitments"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-with-commitments"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-with-commitments"
      ><span class="devsite-nav-text" tooltip>Combine reservations with committed use discounts</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-view"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-view"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-view"
      ><span class="devsite-nav-text" tooltip>View your reservations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-consume"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-consume"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-consume"
      ><span class="devsite-nav-text" tooltip>Consume reservations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-modify"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-modify"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-modify"
      ><span class="devsite-nav-text" tooltip>Modify reservations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/reservations-delete"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservations-delete"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservations-delete"
      ><span class="devsite-nav-text" tooltip>Delete reservations</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-preview"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Future reservations</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/future-reservations-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/future-reservations-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/future-reservations-overview"
      ><span class="devsite-nav-text" tooltip>About future reservations requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-single-project-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-single-project-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-single-project-future-reservations"
      ><span class="devsite-nav-text" tooltip>Create single-project future reservation requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/create-shared-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/create-shared-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/create-shared-future-reservations"
      ><span class="devsite-nav-text" tooltip>Create shared future reservation requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/modify-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/modify-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/modify-future-reservations"
      ><span class="devsite-nav-text" tooltip>Modify future reservation requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/delete-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/delete-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/delete-future-reservations"
      ><span class="devsite-nav-text" tooltip>Cancel or delete future reservation requests</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-future-reservations"
      ><span class="devsite-nav-text" tooltip>View future reservation requests</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Load balancing</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/load-balancing-and-autoscaling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/load-balancing-and-autoscaling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/load-balancing-and-autoscaling"
      ><span class="devsite-nav-text" tooltip>About load balancing and scaling</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/adding-an-instance-group-to-a-load-balancer"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/adding-an-instance-group-to-a-load-balancer"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/adding-an-instance-group-to-a-load-balancer"
      ><span class="devsite-nav-text" tooltip>Add an instance group to a load balancer</span></a></li><li class="devsite-nav-item"><a href="/load-balancing/docs/https/setting-up-https"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /load-balancing/docs/https/setting-up-https"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/load-balancing/docs/https/setting-up-https"
      ><span class="devsite-nav-text" tooltip>Request routing to a multi-region external HTTPS load balancer</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/http-load-balancing-iis"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/http-load-balancing-iis"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/http-load-balancing-iis"
      ><span class="devsite-nav-text" tooltip>Cross-region load balancing for Microsoft IIS backends</span></a></li><li class="devsite-nav-item"><a href="/load-balancing/docs/internal/setting-up-internal"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /load-balancing/docs/internal/setting-up-internal"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/load-balancing/docs/internal/setting-up-internal"
      ><span class="devsite-nav-text" tooltip>Set up Internal TCP/UDP Load Balancing</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Build reliable and scalable applications</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/tutorials/high-availability-autohealing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/high-availability-autohealing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/high-availability-autohealing"
      ><span class="devsite-nav-text" tooltip>Use autohealing for highly available applications</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/high-availability-load-balancing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/high-availability-load-balancing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/high-availability-load-balancing"
      ><span class="devsite-nav-text" tooltip>Use load balancing for highly available applications</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/high-scalability-autoscaling"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/high-scalability-autoscaling"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/high-scalability-autoscaling"
      ><span class="devsite-nav-text" tooltip>Use autoscaling for highly scalable applications</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/tutorials/globally-autoscaling-a-web-service-on-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/tutorials/globally-autoscaling-a-web-service-on-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/tutorials/globally-autoscaling-a-web-service-on-compute-engine"
      ><span class="devsite-nav-text" tooltip>Globally autoscale a web service on Compute Engine</span></a></li><li class="devsite-nav-item"><a href="/architecture/scalable-and-resilient-apps"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /architecture/scalable-and-resilient-apps"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/architecture/scalable-and-resilient-apps"
      ><span class="devsite-nav-text" tooltip>Patterns for scalable and resilient applications</span></a></li><li class="devsite-nav-item"><a href="/architecture/patterns-for-floating-ip-addresses-in-compute-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /architecture/patterns-for-floating-ip-addresses-in-compute-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/architecture/patterns-for-floating-ip-addresses-in-compute-engine"
      ><span class="devsite-nav-text" tooltip>Patterns for using floating IP addresses on Compute Engine</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Optimize</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Resource utilization</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Use recommendations to manage resources</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/apply-machine-type-recommendations-for-instances"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/apply-machine-type-recommendations-for-instances"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/apply-machine-type-recommendations-for-instances"
      ><span class="devsite-nav-text" tooltip>Apply machine type recommendations to VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/apply-machine-type-recommendations-managed-instance-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/apply-machine-type-recommendations-managed-instance-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/apply-machine-type-recommendations-managed-instance-groups"
      ><span class="devsite-nav-text" tooltip>Apply machine type recommendations to MIGs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/viewing-and-applying-idle-resources-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/viewing-and-applying-idle-resources-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/viewing-and-applying-idle-resources-recommendations"
      ><span class="devsite-nav-text" tooltip>View and apply idle resources recommendations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-and-understand-vm-insights"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-and-understand-vm-insights"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-and-understand-vm-insights"
      ><span class="devsite-nav-text" tooltip>View and understand VM insights</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instance-groups/view-and-understand-mig-insights"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instance-groups/view-and-understand-mig-insights"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instance-groups/view-and-understand-mig-insights"
      ><span class="devsite-nav-text" tooltip>View and understand MIG insights</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage idle VM recommendations</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/idle-vm-recommendations-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/idle-vm-recommendations-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/idle-vm-recommendations-overview"
      ><span class="devsite-nav-text" tooltip>Idle VM recommendations overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/viewing-and-applying-idle-vm-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/viewing-and-applying-idle-vm-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/viewing-and-applying-idle-vm-recommendations"
      ><span class="devsite-nav-text" tooltip>View and apply idle VM recommendations</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/instances/configuring-idle-vm-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/configuring-idle-vm-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/configuring-idle-vm-recommendations"
      ><span class="devsite-nav-text" tooltip>Configure idle VM recommendations</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-preview"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage reservation recommendations</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/reservation-recommendations-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/reservation-recommendations-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/reservation-recommendations-overview"
      ><span class="devsite-nav-text" tooltip>Reservation recommendations overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-and-apply-idle-reservation-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-and-apply-idle-reservation-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-and-apply-idle-reservation-recommendations"
      ><span class="devsite-nav-text" tooltip>View and apply idle reservation recommendations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/view-and-apply-underutilized-reservation-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/view-and-apply-underutilized-reservation-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/view-and-apply-underutilized-reservation-recommendations"
      ><span class="devsite-nav-text" tooltip>View and apply underutilized reservation recommendations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/configure-idle-reservation-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/configure-idle-reservation-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/configure-idle-reservation-recommendations"
      ><span class="devsite-nav-text" tooltip>Configure idle reservation recommendations</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/configure-underutilized-reservation-recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/configure-underutilized-reservation-recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/configure-underutilized-reservation-recommendations"
      ><span class="devsite-nav-text" tooltip>Configure underutilized reservation recommendations</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/overcommitting-cpus-sole-tenant-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/overcommitting-cpus-sole-tenant-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/overcommitting-cpus-sole-tenant-vms"
      ><span class="devsite-nav-text" tooltip>Overcommit CPUs on sole-tenant VMs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manual live migration</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/nodes/about-manual-live-migration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/about-manual-live-migration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/about-manual-live-migration"
      ><span class="devsite-nav-text" tooltip>About manual live migration</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/manually-live-migrate"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/manually-live-migrate"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/manually-live-migrate"
      ><span class="devsite-nav-text" tooltip>Manually live migrate VMs</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/nodes/share-node-groups"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/nodes/share-node-groups"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/nodes/share-node-groups"
      ><span class="devsite-nav-text" tooltip>Share sole-tenant node groups</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/dynamic-resource-management"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/dynamic-resource-management"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/dynamic-resource-management"
      ><span class="devsite-nav-text" tooltip>Next generation dynamic resource management</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Cost savings</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Get discounts for committed usage</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/committed-use-discounts-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/committed-use-discounts-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/committed-use-discounts-overview"
      ><span class="devsite-nav-text" tooltip>About commitments and committed use discounts (CUDs)</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/signing-up-committed-use-discounts"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/signing-up-committed-use-discounts"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/signing-up-committed-use-discounts"
      ><span class="devsite-nav-text" tooltip>Resource-based CUDs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Manage resource-based commitments</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/renew-commitments-automatically"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/renew-commitments-automatically"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/renew-commitments-automatically"
      ><span class="devsite-nav-text" tooltip>Renew commitments automatically</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/committed-use-discounts/extend-commitment-term"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/committed-use-discounts/extend-commitment-term"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/committed-use-discounts/extend-commitment-term"
      ><span class="devsite-nav-text" tooltip>Extend the term length of commitments</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/merge-and-split-commitments"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/merge-and-split-commitments"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/merge-and-split-commitments"
      ><span class="devsite-nav-text" tooltip>Merge and split commitments</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/upgrade-commitment-term"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/upgrade-commitment-term"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/upgrade-commitment-term"
      ><span class="devsite-nav-text" tooltip>Upgrade the term of commitments</span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item"><a href="/compute/docs/sustained-use-discounts"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/sustained-use-discounts"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/sustained-use-discounts"
      ><span class="devsite-nav-text" tooltip>Get discounts for sustained usage</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Disk performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/disks/optimize-hyperdisk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/optimize-hyperdisk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/optimize-hyperdisk"
      ><span class="devsite-nav-text" tooltip>Optimize Hyperdisk performance</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/optimizing-pd-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/optimizing-pd-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/optimizing-pd-performance"
      ><span class="devsite-nav-text" tooltip>Optimize Persistent Disk performance</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/disks/optimizing-local-ssd-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/disks/optimizing-local-ssd-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/disks/optimizing-local-ssd-performance"
      ><span class="devsite-nav-text" tooltip>Optimize Local SSD performance</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Workload performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/instances/set-threads-per-core"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/set-threads-per-core"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/set-threads-per-core"
      ><span class="devsite-nav-text" tooltip>Set the number of threads per core</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/customize-visible-cores"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/customize-visible-cores"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/customize-visible-cores"
      ><span class="devsite-nav-text" tooltip>Customize the number of visible CPU cores</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Analyze the CPU performance using the PMU</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/pmu-overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/pmu-overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/pmu-overview"
      ><span class="devsite-nav-text" tooltip>PMU overview</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/enable-pmu-in-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/enable-pmu-in-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/enable-pmu-in-vms"
      ><span class="devsite-nav-text" tooltip>Enable the PMU in VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/manage-pmu-in-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/manage-pmu-in-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/manage-pmu-in-vms"
      ><span class="devsite-nav-text" tooltip>Manage the PMU in VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Accelerated workloads with GPUs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>GPUs on Compute Engine</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/about-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/about-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/about-gpus"
      ><span class="devsite-nav-text" tooltip>About GPUs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Install drivers</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/install-drivers-gpu"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/install-drivers-gpu"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/install-drivers-gpu"
      ><span class="devsite-nav-text" tooltip>Install GPU drivers</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/install-grid-drivers"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/install-grid-drivers"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/install-grid-drivers"
      ><span class="devsite-nav-text" tooltip>Install drivers for NVIDIA RTX Virtual Workstations (vWS)</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/grid-drivers-table"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/grid-drivers-table"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/grid-drivers-table"
      ><span class="devsite-nav-text" tooltip>Drivers for NVIDIA RTX Virtual Workstations (vWS)</span></a></li></ul></div></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Network performance</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/network-bandwidth"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/network-bandwidth"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/network-bandwidth"
      ><span class="devsite-nav-text" tooltip>Network bandwidth</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/using-gvnic"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/using-gvnic"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/using-gvnic"
      ><span class="devsite-nav-text" tooltip>Use Google Virtual NIC</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/using-idpf"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/using-idpf"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/using-idpf"
      ><span class="devsite-nav-text" tooltip>Use IDPF network interface</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/configure-vm-with-high-bandwidth-configuration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/configure-vm-with-high-bandwidth-configuration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/configure-vm-with-high-bandwidth-configuration"
      ><span class="devsite-nav-text" tooltip>Configure a VM with higher bandwidth</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/instances/use-compact-placement-policies"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/instances/use-compact-placement-policies"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/instances/use-compact-placement-policies"
      ><span class="devsite-nav-text" tooltip>Reduce latency by using compact placement policies</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/tcp-optimization-for-network-performance-in-gcp-and-hybrid"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/tcp-optimization-for-network-performance-in-gcp-and-hybrid"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/tcp-optimization-for-network-performance-in-gcp-and-hybrid"
      ><span class="devsite-nav-text" tooltip>Optimize TCP network performance</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/benchmarking-higher-bandwidth-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/benchmarking-higher-bandwidth-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/benchmarking-higher-bandwidth-vms"
      ><span class="devsite-nav-text" tooltip>Benchmark higher bandwidth VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/load-balancing/optimize-app-latency"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/load-balancing/optimize-app-latency"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/load-balancing/optimize-app-latency"
      ><span class="devsite-nav-text" tooltip>Optimize app latency with load balancing</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/networking/use-dpdk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/networking/use-dpdk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/networking/use-dpdk"
      ><span class="devsite-nav-text" tooltip>Use DPDK to improve network performance</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Network performance and GPU VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/gpus/gpu-network-bandwidth"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/gpu-network-bandwidth"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/gpu-network-bandwidth"
      ><span class="devsite-nav-text" tooltip>Network bandwidths and GPUs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/optimize-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/optimize-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/optimize-gpus"
      ><span class="devsite-nav-text" tooltip>Use higher network bandwidth</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/gpus/gpudirect"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/gpus/gpudirect"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/gpus/gpudirect"
      ><span class="devsite-nav-text" tooltip>Maximize GPU network performance with GPUDirect-TCPX</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Troubleshoot</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/general-tips"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/general-tips"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/general-tips"
      ><span class="devsite-nav-text" tooltip>General tips</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot connectivity</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-rdp"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-rdp"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-rdp"
      ><span class="devsite-nav-text" tooltip>Troubleshoot RDP</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-ssh-errors"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-ssh-errors"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-ssh-errors"
      ><span class="devsite-nav-text" tooltip>Troubleshoot SSH</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshoot-os-login"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshoot-os-login"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshoot-os-login"
      ><span class="devsite-nav-text" tooltip>Troubleshoot OS Login</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot VM operations</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-vm-creation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-vm-creation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-vm-creation"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM creation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-resource-availability"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-resource-availability"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-resource-availability"
      ><span class="devsite-nav-text" tooltip>Troubleshoot resource availability errors</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-bulk-vm-creation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-bulk-vm-creation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-bulk-vm-creation"
      ><span class="devsite-nav-text" tooltip>Troubleshoot bulk API VM creation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-reboots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-reboots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-reboots"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM reboots and shutdowns</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-suspend-resume"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-suspend-resume"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-suspend-resume"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM suspension</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot unresponsive VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/vm-startup"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/vm-startup"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/vm-startup"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM startup</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/fstab-errors"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/fstab-errors"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/fstab-errors"
      ><span class="devsite-nav-text" tooltip>Troubleshoot fstab errors</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/kernel-panic"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/kernel-panic"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/kernel-panic"
      ><span class="devsite-nav-text" tooltip>Troubleshoot kernel panic</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/collecting-diagnostic-information"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/collecting-diagnostic-information"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/collecting-diagnostic-information"
      ><span class="devsite-nav-text" tooltip>Collecting diagnostic information</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/collecting-core-dumps"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/collecting-core-dumps"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/collecting-core-dumps"
      ><span class="devsite-nav-text" tooltip>Collecting core dumps</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/rescue-vm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/rescue-vm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/rescue-vm"
      ><span class="devsite-nav-text" tooltip>Rescue an inaccessible VM</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot VM configurations</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-arm-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-arm-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-arm-vms"
      ><span class="devsite-nav-text" tooltip>Troubleshoot Arm VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-gpus"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-gpus"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-gpus"
      ><span class="devsite-nav-text" tooltip>Troubleshoot GPU VMs</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-nested-vms"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-nested-vms"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-nested-vms"
      ><span class="devsite-nav-text" tooltip>Troubleshoot nested virtualization</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/capturing-vm-screenshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/capturing-vm-screenshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/capturing-vm-screenshots"
      ><span class="devsite-nav-text" tooltip>Troubleshoot using VM screenshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-sole-tenancy"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-sole-tenancy"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-sole-tenancy"
      ><span class="devsite-nav-text" tooltip>Troubleshoot sole-tenant nodes</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-performance"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM performance issues</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-sudoers-file"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-sudoers-file"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-sudoers-file"
      ><span class="devsite-nav-text" tooltip>Troubleshoot sudoers files</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot Windows VMs</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-windows"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-windows"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-windows"
      ><span class="devsite-nav-text" tooltip>Troubleshoot Windows VMs</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot using the serial console</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-using-serial-console"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-using-serial-console"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-using-serial-console"
      ><span class="devsite-nav-text" tooltip>Troubleshoot using the serial console</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/viewing-serial-port-output"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/viewing-serial-port-output"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/viewing-serial-port-output"
      ><span class="devsite-nav-text" tooltip>Viewing serial port output</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot instance groups</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-migs"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-migs"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-migs"
      ><span class="devsite-nav-text" tooltip>Troubleshoot managed instance groups (MIGs)</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot OS management</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/import-migrate"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/import-migrate"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/import-migrate"
      ><span class="devsite-nav-text" tooltip>Troubleshoot licenses</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-import-export-images"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-import-export-images"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-import-export-images"
      ><span class="devsite-nav-text" tooltip>Troubleshoot image import and export</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-suse-registration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-suse-registration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-suse-registration"
      ><span class="devsite-nav-text" tooltip>Troubleshooting SLES pay-as-you-go registration</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-ubuntu-pro-registration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-ubuntu-pro-registration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-ubuntu-pro-registration"
      ><span class="devsite-nav-text" tooltip>Troubleshooting Ubuntu Pro Registration</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot metadata server</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshoot-metadata-server"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshoot-metadata-server"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshoot-metadata-server"
      ><span class="devsite-nav-text" tooltip>Troubleshoot metadata server</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot networking issues</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-networking"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-networking"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-networking"
      ><span class="devsite-nav-text" tooltip>Troubleshoot common networking issues</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/gvnic"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/gvnic"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/gvnic"
      ><span class="devsite-nav-text" tooltip>Troubleshoot gVNIC</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-performance"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-performance"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-performance"
      ><span class="devsite-nav-text" tooltip>Troubleshoot VM performance issues</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot storage</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-disk-full-resize"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-disk-full-resize"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-disk-full-resize"
      ><span class="devsite-nav-text" tooltip>Troubleshoot full disks and disk resizing</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-disk-nvme"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-disk-nvme"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-disk-nvme"
      ><span class="devsite-nav-text" tooltip>Troubleshoot NVMe disks</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-instant-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-instant-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-instant-snapshots"
      ><span class="devsite-nav-text" tooltip>Troubleshoot instant snapshots</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-snapshots"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-snapshots"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-snapshots"
      ><span class="devsite-nav-text" tooltip>Troubleshoot standard snapshots</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot reservations and commitments</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-reservation-creation"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-reservation-creation"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-reservation-creation"
      ><span class="devsite-nav-text" tooltip>Troubleshoot reservation creation</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-reservation-consumption"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-reservation-consumption"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-reservation-consumption"
      ><span class="devsite-nav-text" tooltip>Troubleshoot reservation consumption</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-reservation-monitoring"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-reservation-monitoring"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-reservation-monitoring"
      ><span class="devsite-nav-text" tooltip>Troubleshooting reservation monitoring</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-reservation-updates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-reservation-updates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-reservation-updates"
      ><span class="devsite-nav-text" tooltip>Troubleshoot reservation updates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshoot-future-reservations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshoot-future-reservations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshoot-future-reservations"
      ><span class="devsite-nav-text" tooltip>Troubleshoot future reservation creation and updates</span></a></li><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/automatic-commitment-renewal"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/automatic-commitment-renewal"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/automatic-commitment-renewal"
      ><span class="devsite-nav-text" tooltip>Troubleshoot automatic commitment renewal</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Troubleshoot workload authentication</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compute/docs/troubleshooting/troubleshooting-default-service-accounts"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-default-service-accounts"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-default-service-accounts"
      ><span class="devsite-nav-text" tooltip>Troubleshoot default service accounts</span></a></li><li class="devsite-nav-item
           devsite-nav-preview"><a href="/compute/docs/troubleshooting/troubleshooting-workload-to-workload-auth"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /compute/docs/troubleshooting/troubleshooting-workload-to-workload-auth"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/compute/docs/troubleshooting/troubleshooting-workload-to-workload-auth"
      ><span class="devsite-nav-text" tooltip>Troubleshoot workload to workload authentication</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li></ul></div></li>
          </ul>
        
        
          
    
  
    
      
      <ul class="devsite-nav-list" menu="Technology areas"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/ai-ml"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: AI and ML"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      AI and ML
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/application-development"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Application development"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Application development
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/application-hosting"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Application hosting"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Application hosting
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/compute-area"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compute"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Compute
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/data"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Data analytics and pipelines"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Data analytics and pipelines
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/databases"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Databases"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Databases
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/dhm-cloud"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Distributed, hybrid, and multicloud"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Distributed, hybrid, and multicloud
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/generative-ai"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Generative AI"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Generative AI
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/industry"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Industry solutions"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Industry solutions
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/networking"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Networking"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Networking
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/observability"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Observability and monitoring"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Observability and monitoring
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/security"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Security"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Security
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/storage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Storage
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Cross-product tools"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/access-resources"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Access and resources management"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Access and resources management
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/costs-usage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Costs and usage management"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Costs and usage management
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/devtools"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud SDK, languages, frameworks, and tools"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud SDK, languages, frameworks, and tools
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/iac"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Infrastructure as code"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Infrastructure as code
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/migration"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Migration"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Migration
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Related sites"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Home"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Home
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/free"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Free Trial and Free Tier"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Free Trial and Free Tier
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/architecture"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Architecture Center"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Architecture Center
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://cloud.google.com/blog"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Blog"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Blog
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/contact"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Contact Sales"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Contact Sales
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/developers"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Developer Center"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Developer Center
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://developers.google.com/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Developer Center"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Developer Center
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://console.cloud.google.com/marketplace"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Marketplace"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Marketplace
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/marketplace/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Marketplace Documentation"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Marketplace Documentation
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://www.cloudskillsboost.google/paths"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Skills Boost"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Skills Boost
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/solutions"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Solution Center"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Solution Center
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/support-hub"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Support"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Support
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://www.youtube.com/@googlecloudtech"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Cloud Tech Youtube Channel"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Cloud Tech Youtube Channel
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
        
        
          
    
  
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
              has-book-nav
              has-sidebar
            >
          
          
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="On this page"
                            depth="2"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          
          <devsite-content>
            
              














<article class="devsite-article">
  
  
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Breadcrumb">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://cloud.google.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Google Cloud"
      
    >
    
        Home
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://cloud.google.com/compute"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Compute Engine: Virtual Machines (VMs)"
      
    >
    
        Compute Engine
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://cloud.google.com/compute/docs"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail="Compute Engine Documentation"
      
    >
    
        Documentation
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://cloud.google.com/compute/docs/overview"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="4"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="4"
      
        track-metadata-eventdetail=""
      
    >
    
        Guides
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
    <devsite-feedback
  position="header"
  project-name="Compute Engine Documentation"
  product-id="81820"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241017-r01-rc00.464273994115616581"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="header"
  class="nocontent"
  
  
    project-feedback-url="https://issuetracker.google.com/issues/new?component=187134&amp;template=0"
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/super_cloud.png"
  
  
  
  >

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Create and start a Compute Engine instance
      
    </h1>
  <devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="Dismiss"

      
      close-button-text="Got it">

    
    <devsite-bookmark></devsite-bookmark>

    <span slot="popout-heading">
      
      Stay organized with collections
    </span>
    <span slot="popout-contents">
      
      Save and categorize content based on your preferences.
    </span>
  </devsite-feature-tooltip>
  <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>
  

  <devsite-toc class="devsite-nav"
    depth="2"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  

  






<div class="devsite-article-body clearfix
  ">

  
    
    

    
    
  <hr class="cloud-divider">
    

    

    

    

    
    

    


<div class="video-wrapper">
  <devsite-video video-id="jVPPQ8jCFrE"></devsite-video>
</div>

<p>This document explains how to create a virtual machine (VM) or bare metal
instance by using a boot disk image, a boot disk snapshot, or a container image.
Some <a href="/compute/docs/images">images</a> support
<a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features, which
offer security features such as UEFI-compliant firmware, Secure Boot, and
vTPM-protected Measured Boot.
On Shielded VMs,
<a href="/compute/shielded-vm/docs/modifying-shielded-vm">vTPM and integrity monitoring</a>
are enabled by default.</p>

<p>While creating your compute instance, you can create one or more disks for it.
You can also <a href="/compute/docs/disks/add-persistent-disk">add more disks</a>
to the instance after it&#39;s created. Compute Engine automatically starts
the instance after you create it.</p>

<p>While creating a compute instance, you can also <a href="/vpc/docs/create-use-multiple-interfaces#creating_virtual_machine_instances_with_multiple_network_interfaces">add multiple network interfaces</a>.
To mitigate your instance&#39;s exposure to threats on the internet, you can omit
the external IP address when you add a network interface to the instance.
In such cases, the instance is accessible only from other compute instances in
the same VPC network or a linked network unless you configure
<a href="/nat/docs/overview">Cloud NAT</a>.</p>

<p>If you are creating a compute instance for the first time, see
<a href="/compute/docs/create-linux-vm-instance">Quickstart using a Linux VM</a>
or <a href="/compute/docs/create-windows-server-vm-instance">Quickstart using a Windows Server VM</a>.</p>

<p>For more specific or complicated Compute Engine instance creation, see the
following resources:</p>

<ul>
  <li><a href="/compute/docs/access/create-enable-service-accounts-for-instances">
  Create a VM that uses a user-managed service account</a>.</li>
  <li><a href="/compute/docs/instances/windows/creating-managing-windows-instances">
  Create Windows Server instances</a>.</li>
  <li><a href="/compute/docs/instances/sql-server/creating-sql-server-instances">
  Create SQL Server instances</a>.</li>
  <li><a href="/compute/docs/nodes/create-nodes">
  Create instances on sole-tenant nodes</a>.</li>
  <li><a href="/compute/docs/instances/custom-hostname-vm">
  Create a VM instance with a custom hostname</a>.</li>
  <li><a href="/compute/docs/networking/using-gvnic#create_a_vm_with_gvnic_support">
  Create VM instances that use the gVNIC network interface</a>.</li>
  <li><a href="/compute/docs/instances/create-arm-vm-instance">
  Create and start an Arm VM instance</a>.</li>
  <li><a href="/compute/docs/gpus/create-vm-with-gpus">
  Create a VM instance with attached GPUs</a>.</li>
  <li><a href="/compute/docs/instances/create-hpc-vm">
  Create a VM instance with a high performance computing (HPC) image</a>.</li>
  
  <li><a href="/compute/docs/instances/multiple/create-in-bulk">
  Create VMs in bulk</a>.</li>
  
  <li><a href="/compute/docs/instances/schedule-instance-start-stop#attaching_to_a_new_VM">
  Create a VM instance with an attached instance schedule</a>.</li>
  <li><a href="/compute/docs/instance-groups/creating-groups-of-managed-instances#basic_scenarios_for_creating_a_mig">
  Create a managed instance group (MIG)</a>.</li>
  <li><a href="/confidential-computing/confidential-vm/docs/creating-cvm-instance">
  Create a Confidential VM instance</a>.</li>
  <li><a href="/compute/docs/instances/reservations-overview">
  Reserve instances</a> and <a href="/compute/docs/instances/reservations-overview#consuming_reserved_instances">consume reserved instances</a>.</li>
  <li><a href="/compute/docs/networking/configure-vm-with-high-bandwidth-configuration">
  Configure a VM instance with higher bandwidth</a>.</li>
</ul>

<p>If you are bringing an existing license, see
<a href="/compute/docs/nodes/bringing-your-own-licenses">Bringing your own licenses</a>.</p>



    
    









  
  
















  



<h2 id="byb" data-text="Before you begin" tabindex="-1">Before you begin</h2>
<ul>


  
<li>When creating compute instances from images or disks by using the
Google Cloud CLI or REST, there&#39;s a limit of 20 instances per
second. If you need to create a higher number of instances per second,
<a href="/docs/quotas/view-manage#requesting_higher_quota">request a higher quota limit</a>
for the <b>Images</b> resource.</li>



  <li>
  
  If you haven't already, set up authentication.
  <a href="/compute/docs/authentication">Authentication</a> is
  the process by which your identity is verified for access to Google Cloud services and APIs.
  To run code or samples from a local development environment, you can authenticate to
  Compute Engine as follows.<br/>
  
  
  



















 


  

















 




  
    
      <p>Select the tab for how you plan to use the samples on this page:</p>
     
   

  
    <div class="ds-selector-tabs" data-ds-scope="code-sample">
   

  
  
    
      <section>
        <h3 id="console" data-text="Console" tabindex="-1">Console</h3>
     
      <p>
        When you use the Google Cloud console to access Google Cloud services and
        APIs, you don't need to set up authentication.
      </p>
    
      </section>
     
   

  
  
    
      <section>
        <h3 id="gcloud" data-text="gcloud" tabindex="-1">gcloud</h3>
     
        


  




  



 


  <ol><li>

 
  









  











  
    
    <p>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI, then
      <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">initialize</a> it by running the following command:
    </p>
    <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
    <aside class="note"><strong>Note:</strong> If you installed the gcloud CLI
      previously, make sure you have the latest version by running <code translate="no" dir="ltr">gcloud components
      update</code>.
    </aside>
  
  
  






  
  
</li><li><a href="/compute/docs/gcloud-compute#set_default_zone_and_region_in_your_local_client">
  Set a default region and zone</a>.</li></ol>
  



     
    
      </section>
     
   

   
 
    
      <section>
        <h3 id="terraform" data-text="Terraform" tabindex="-1">Terraform</h3>
     
        

  <p>
  To use the Terraform samples on this page in a local
  development environment, install and initialize the gcloud CLI, and
  then set up Application Default Credentials with your user credentials.
  </p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
    
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

   
      </section>
     
   

  
  
    
      
        <section>
          <h3 id="c" data-text="C#" tabindex="-1">C#</h3>
       
      
        

<p>
    To use the .NET samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

       
      
        </section>
       
     
   

   
   

  
  
    
      
        <section>
          <h3 id="go" data-text="Go" tabindex="-1">Go</h3>
       
      
        

<p>
    To use the Go samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

       
      
        </section>
       
     
   

   
  
    
      
        <section>
          <h3 id="java" data-text="Java" tabindex="-1">Java</h3>
       
      
        

<p>
    To use the Java samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

       
      
        </section>
       
     
   

  
  
    
      
        <section>
          <h3 id="node.js" data-text="Node.js" tabindex="-1">Node.js</h3>
       
      
        

<p>
    To use the Node.js samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

       
      
        </section>
       
     
   

    
  
    
      
        <section>
          <h3 id="php" data-text="PHP" tabindex="-1">PHP</h3>
       
      
        

<p>
    To use the PHP samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

    
      
      
        </section>
       
     
   

  
  
    
      
      <section>
        <h3 id="python" data-text="Python" tabindex="-1">Python</h3>
       
      
        

<p>
    To use the Python samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

       
      
      </section>
       
     
   

  
  
    
      
        <section>
          <h3 id="ruby" data-text="Ruby" tabindex="-1">Ruby</h3>
       
      
        

<p>
    To use the Ruby samples on this page in a local
    development environment, install and initialize the gcloud CLI, and
    then set up Application Default Credentials with your user credentials.
</p>


        



<ol>
  









  







  





  
    <li>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI.
    </li>
    
    <li>
      <p>
        To <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
          target="_blank">initialize</a> the gcloud CLI, run the following command:
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
    </li>
  
  






  
  









  







  
    <li>
  
      <p>
  
        If you're using a local shell, then create local authentication credentials for your user
        account:
  
      </p>
      <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud auth application-default login</pre>
  
      <p>You don't need to do this if you're using Cloud Shell.</p>
  
  
  
  
    </li>
  





  
</ol>
  
<p>
  
    For more information, see
    <a href="/compute/docs/authentication#local-development">
      
      Set up authentication for a local development environment</a>.
  
</p>

    
      
      
        </section>
       
     
   

  
  

   

  
  
    
      <section>
        <h3 id="rest" data-text="REST" tabindex="-1">REST</h3>
     
        



<p>
  To use the REST API samples on this page in a local development environment,
  you use the credentials you provide to the gcloud CLI.
</p>

<ol>
  









  











  
    
    <p>
      <a href="/sdk/docs/install" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">Install</a> the Google Cloud CLI, then
      <a href="/sdk/docs/initializing" track-type="commonIncludes" track-name="sdkLink"
        target="_blank">initialize</a> it by running the following command:
    </p>
    <pre class="prettyprint lang-sh" translate="no" dir="ltr">gcloud init</pre>
    
  

  

  
  
  
  






  
</ol>
<p>
  For more information, see
  <a href="/docs/authentication/rest">Authenticate for using REST</a>
  in the Google Cloud authentication documentation.
</p>

     

    
      </section>
     
   
  
    </div>
   

  
   

  
 














  
  
  </li>


</ul>

    

    

<h3 id="required-roles" data-text="Required roles" tabindex="-1">Required roles</h3>















  
  
  



























  
  

  
  
    
    
    
    
    
    
      
      
        
        
      
      
    
    
    
    
    
  




  








  
  
    
  
  
  
  
  
    
    
    
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  
    
    
    
    
      
      
      
      
      
      
        
        
          
          
          
          
        
      
      
      
      
      
    
  










  <p>
    
      To get the permissions that you need to create VMs,
    
      ask your administrator to grant you the
    
  
  <a href="https://cloud.google.com/iam/docs/understanding-roles#compute.instanceAdmin.v1">Compute Instance Admin (v1) </a> (<code translate="no" dir="ltr">roles/compute.instanceAdmin.v1</code>) IAM role on the project.
  

  
  
  For more information about granting roles, see <a href="/iam/docs/granting-changing-revoking-access">Manage access to projects, folders, and organizations</a>.
  
  </p>

  
    <p>
      
        
          This predefined role contains
        
        the permissions required to create VMs. To see the exact permissions that are
        required, expand the <strong>Required permissions</strong> section:
      
    
      </p>

      <devsite-expandable>
        <h4 class="showalways" id="required-permissions" data-text="Required permissions" tabindex="-1">Required permissions</h4>
        <p>The following permissions are required to create VMs:</p>
        <ul>
          
              
                <li>
                  <code translate="no" dir="ltr"> compute.instances.create</code>
                  
                  on the project</li>
              
            
          
              <li>
                To use a custom image to create the VM:
                  <code translate="no" dir="ltr"> compute.images.useReadOnly</code>
                  on the image
                
              </li>
            
          
              <li>
                To use a snapshot to create the VM:
                  <code translate="no" dir="ltr"> compute.snapshots.useReadOnly</code>
                  on the snapshot
                
              </li>
            
          
              <li>
                To use an instance template to create the VM:
                  <code translate="no" dir="ltr"> compute.instanceTemplates.useReadOnly</code>
                  on the instance  template
                
              </li>
            
          
              <li>
                To assign a <a href="/vpc/docs/legacy">legacy network</a> to the VM:
                  <code translate="no" dir="ltr"> compute.networks.use</code>
                  on the project
                
              </li>
            
          
              <li>
                To specify a static IP address for the VM:
                  <code translate="no" dir="ltr"> compute.addresses.use</code>
                  on the project
                
              </li>
            
          
              <li>
                To assign an external IP address to the VM when using a legacy network:
                  <code translate="no" dir="ltr"> compute.networks.useExternalIp</code>
                  on the project
                
              </li>
            
          
              <li>
                To specify a subnet for your VM:
                  <code translate="no" dir="ltr"> compute.subnetworks.use</code>
                  on the project or on the chosen subnet
                
              </li>
            
          
              <li>
                To assign an external IP address to the VM when using a VPC network:
                  <code translate="no" dir="ltr">  compute.subnetworks.useExternalIp</code>
                  on the project or on the chosen subnet
                
              </li>
            
          
              <li>
                To set VM instance metadata for the VM:
                  <code translate="no" dir="ltr"> compute.instances.setMetadata</code>
                  on the project
                
              </li>
            
          
              <li>
                To set tags for the VM:
                  <code translate="no" dir="ltr"> compute.instances.setTags</code>
                  on the VM
                
              </li>
            
          
              <li>
                To set labels for the VM:
                  <code translate="no" dir="ltr"> compute.instances.setLabels</code>
                  on the VM
                
              </li>
            
          
              <li>
                To set a service account for the VM to use:
                  <code translate="no" dir="ltr"> compute.instances.setServiceAccount</code>
                  on the VM
                
              </li>
            
          
              <li>
                To create a new disk for the VM:
                  <code translate="no" dir="ltr"> compute.disks.create</code>
                  on the project
                
              </li>
            
          
              <li>
                To attach an existing disk in read-only or read-write mode:
                  <code translate="no" dir="ltr"> compute.disks.use</code>
                  on the disk
                
              </li>
            
          
              <li>
                To attach an existing disk in read-only mode:
                  <code translate="no" dir="ltr"> compute.disks.useReadOnly</code>
                  on the disk
                
              </li>
            
          
        </ul>
      </devsite-expandable>

    
  
  
    
      <p>
        You might also be able to get
          these permissions
        with <a href="/iam/docs/creating-custom-roles">custom roles</a> or
        other <a href="/iam/docs/understanding-roles">predefined roles</a>.
      </p>
      
      

  

 
























<h2 id="startinginstancewithimage" data-text="Create a VM instance from an image" tabindex="-1">Create a VM instance from an image</h2>

<p>This section explains how to create a VM from a <a href="/compute/docs/images">public OS
image</a> or a <a href="/compute/docs/images/create-delete-deprecate-private-images">custom image</a>.
A VM contains a bootloader, a boot file system, and an OS image.</p>

<h3 id="view-images" data-text="View a list of public images available on Compute Engine" tabindex="-1">View a list of public images available on Compute Engine</h3>



<p>Before you create a VM by using a public image, review the list of public
images that are available on Compute Engine.</p>

<p>For more information about the features available with each public image,
see <a href="/compute/docs/images/os-details">Feature support by operating system</a>.</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="console" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>Images</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/images" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewImages" class="button button-primary">Go to Images</a> </p></li>
</ol></section>
<section><h3 id="gcloud" data-text=" gcloud " tabindex="-1"> gcloud </h3><ol>
<li><p>Run the following command:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>gcloud compute images list</pre></devsite-code></li>
<li><p>Make a note of the name of the image or image family and the name of the
project containing the image.</p></li>
<li><p>Optional: To determine whether the image supports
<a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
 run the following command:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute images describe <var translate="no">IMAGE_NAME</var> \
    --project=<var translate="no">IMAGE_PROJECT</var>
</pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE_NAME</var></code>: name of the image to check for
support of Shielded VM features</li>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>:
<a href="/compute/docs/images#os-compute-support">project</a> containing the
image</li>
</ul>

<p>If the image supports Shielded VM features, the following line
appears in the output: <code translate="no" dir="ltr">type: UEFI_COMPATIBLE</code>.</p></li>
</ol></section>
<section><h3 id="c" data-text=" C# " tabindex="-1"> C# </h3>






  
  



  
  
  
    
  




  



  









  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">C#</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="csharp"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/ListImagesAsync.cs"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/dotnet/docs/reference/Google.Cloud.Compute.V1/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="csharp"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/ListImagesAsync.cs"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">C#</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  







  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/dotnet-docs-samples/compute/api/Compute.Samples/ListImagesAsync.cs/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/ListImagesAsync.cs" feedback-context="{&#34;language&#34;: &#34;csharp&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/ListImagesAsync.cs&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="csharp" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/compute/api/Compute.Samples/ListImagesAsync.cs" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="C#"><code translate="no" dir="ltr">
<span class="devsite-syntax-k">using</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">Google.Cloud.Compute.V1</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">using</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">System</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">using</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">System.Threading.Tasks</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-k">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">ListImagesAsyncSample</span>
<span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Task</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">ListImagesAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// TODO(developer): Set your own default values for these parameters or pass different values when calling this method.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">projectId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"your-project-id"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Initialize client that will be used to send requests. This client only needs to be created</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// once, and can be reused for multiple requests.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">CreateAsync</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Make the request to list all non-deprecated images in a project.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">ListImagesRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ListImagesRequest</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Project</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Filter</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"deprecated.state != DEPRECATED"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// MaxResults indicates the maximum number of items that will be returned per page.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">MaxResults</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">100</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Although the MaxResults parameter is specified in the request, the sequence returned</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// by the ListAsync() method hides the pagination mechanic. The library makes multiple</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// requests to the API for you, so you can simply iterate over all the images.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">foreach</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">ListAsync</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// The result is an Image collection.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">WriteLine</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">$"Image: {image.Name}"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="go" data-text=" Go " tabindex="-1"> Go </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Go</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="go"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/print_images_list.go"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/go/docs/reference/cloud.google.com/go/compute/latest/apiv1"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="go"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/print_images_list.go"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">Go</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/golang-samples/compute/print_images_list.go/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/print_images_list.go" feedback-context="{&#34;language&#34;: &#34;go&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/print_images_list.go&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="go" data-github-path="GoogleCloudPlatform/golang-samples/compute/print_images_list.go" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"context"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"fmt"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"io"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1/computepb"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/api/iterator"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/protobuf/proto"</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// printImagesList prints a list of all non-deprecated image names available in given project.</span>
<span class="devsite-syntax-kd">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">printImagesList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">io</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Writer</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// projectID := "your_project_id"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewImagesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewImagesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ListImagesRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MaxResults</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Uint32</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">3</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Filter</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">     </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"deprecated.state != DEPRECATED"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// Although the `MaxResults` parameter is specified in the request, the iterator returned</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// by the `list()` method hides the pagination mechanic. The library makes multiple</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// requests to the API for you, so you can simply iterate over all the images.</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">it</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">List</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">image</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">it</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Next</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">iterator</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Done</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-k">break</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"- %s\n"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">image</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GetName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="java" data-text=" Java " tabindex="-1"> Java </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Java</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="java"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/ListImages.java"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/java/docs/reference/google-cloud-compute/latest/overview"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="java"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/ListImages.java"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">Java</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/ListImages.java/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/ListImages.java" feedback-context="{&#34;language&#34;: &#34;java&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/ListImages.java&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="java" data-github-path="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/ListImages.java" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr">
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Image</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ImagesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ImagesClient.ListPage</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ListImagesRequest</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.io.IOException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Prints a list of all non-deprecated image names available in given project.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">listImages</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Initialize client that will be used to send requests. This client only needs to be created</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// once, and can be reused for multiple requests. After completing all of your requests, call</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// the `instancesClient.close()` method on the client to</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// safely clean up any remaining background resources.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">ListImagesRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imagesRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ListImagesRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setProject</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setMaxResults</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">100</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setFilter</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"deprecated.state != DEPRECATED"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Although the `setMaxResults` parameter is specified in the request, the iterable returned</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// by the `list()` method hides the pagination mechanic. The library makes multiple</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// requests to the API for you, so you can simply iterate over all the images.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imageCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">list</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">imagesRequest</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">iterateAll</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">imageCount</span><span class="devsite-syntax-o">++</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getName</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Image count in %s is: %s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imageCount</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="node.js" data-text=" Node.js " tabindex="-1"> Node.js </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Node.js</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="nodejs"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/listImages.js"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/nodejs/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="nodejs"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/listImages.js"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">Node.js</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/nodejs-docs-samples/compute/listImages.js/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/listImages.js" feedback-context="{&#34;language&#34;: &#34;nodejs&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/listImages.js&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="nodejs" data-github-path="GoogleCloudPlatform/nodejs-docs-samples/compute/listImages.js" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm"> * TODO(developer): Uncomment and replace these variables before running the sample.</span>
<span class="devsite-syntax-cm"> */</span>
<span class="devsite-syntax-c1">// const projectId = 'YOUR_PROJECT_ID';</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">require</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'@google-cloud/compute'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">listImages</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ImagesClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">images</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">listAsync</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">maxResults</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mf">3</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">filter</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'deprecated.state != DEPRECATED'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Although the `maxResults` parameter is specified in the request, the iterable returned</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// by the `listAsync()` method hides the pagination mechanic. The library makes multiple</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// requests to the API for you, so you can simply iterate over all the images.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">images</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sb">` - </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">image</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">`</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">listImages</span><span class="devsite-syntax-p">();</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="php" data-text=" PHP " tabindex="-1"> PHP </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">PHP</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="php"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/php-docs-samples/blob//compute/instances/src/list_all_images.php"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/php/docs/reference/cloud-compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="php"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/php-docs-samples/blob//compute/instances/src/list_all_images.php"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">PHP</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/php-docs-samples/compute/instances/src/list_all_images.php/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/compute/instances/src/list_all_images.php" feedback-context="{&#34;language&#34;: &#34;php&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/compute/instances/src/list_all_images.php&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="php" data-github-path="GoogleCloudPlatform/php-docs-samples/compute/instances/src/list_all_images.php" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="PHP"><code translate="no" dir="ltr"><span class="devsite-syntax-x">use Google\Cloud\Compute\V1\Client\ImagesClient;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\ListImagesRequest;</span>

<span class="devsite-syntax-x">/**</span>
<span class="devsite-syntax-x"> * Prints a list of all non-deprecated image names available in given project.</span>
<span class="devsite-syntax-x"> *</span>
<span class="devsite-syntax-x"> * @param string $projectId Project ID or project number of the Cloud project you want to list images from.</span>
<span class="devsite-syntax-x"> *</span>
<span class="devsite-syntax-x"> * @throws \Google\ApiCore\ApiException if the remote call fails.</span>
<span class="devsite-syntax-x"> */</span>
<span class="devsite-syntax-x">function list_all_images(string $projectId)</span>
<span class="devsite-syntax-x">{</span>
<span class="devsite-syntax-x">    $imagesClient = new ImagesClient();</span>
<span class="devsite-syntax-x">    // Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-x">    $optionalArgs = ['maxResults' =&gt; 100, 'filter' =&gt; 'deprecated.state != DEPRECATED'];</span>

<span class="devsite-syntax-x">    /**</span>
<span class="devsite-syntax-x">     * Although the maxResults parameter is specified in the request, the iterateAllElements() method</span>
<span class="devsite-syntax-x">     * hides the pagination mechanic. The library makes multiple requests to the API for you,</span>
<span class="devsite-syntax-x">     * so you can simply iterate over all the images.</span>
<span class="devsite-syntax-x">     */</span>
<span class="devsite-syntax-x">    $request = (new ListImagesRequest())</span>
<span class="devsite-syntax-x">        -&gt;setProject($projectId)</span>
<span class="devsite-syntax-x">        -&gt;setMaxResults($optionalArgs['maxResults'])</span>
<span class="devsite-syntax-x">        -&gt;setFilter($optionalArgs['filter']);</span>
<span class="devsite-syntax-x">    $pagedResponse = $imagesClient-&gt;list($request);</span>
<span class="devsite-syntax-x">    print('=================== Flat list of images ===================' . PHP_EOL);</span>
<span class="devsite-syntax-x">    foreach ($pagedResponse-&gt;iterateAllElements() as $element) {</span>
<span class="devsite-syntax-x">        printf(' - %s' . PHP_EOL, $element-&gt;getName());</span>
<span class="devsite-syntax-x">    }</span>
<span class="devsite-syntax-x">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="python" data-text=" Python " tabindex="-1"> Python </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Python</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="python"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/images/pagination.py"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/python/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="python"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/images/pagination.py"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">Python</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/images/pagination.py/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/images/pagination.py" feedback-context="{&#34;language&#34;: &#34;python&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/images/pagination.py&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="python" data-github-path="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/images/pagination.py" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">google.cloud.compute_v1</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-nn">compute_v1</span>

<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">print_images_list</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Prints a list of all non-deprecated image names available in given project.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project: project ID or project number of the Cloud project you want to list images from.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        The output as a string.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">images_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-c1"># Listing only non-deprecated images to reduce the size of the reply.</span>
    <span class="devsite-syntax-n">images_list_request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ListImagesRequest</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">max_results</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">100</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-nb">filter</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"deprecated.state != DEPRECATED"</span>
    <span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">output</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[]</span>

    <span class="devsite-syntax-c1"># Although the `max_results` parameter is specified in the request, the iterable returned</span>
    <span class="devsite-syntax-c1"># by the `list()` method hides the pagination mechanic. The library makes multiple</span>
    <span class="devsite-syntax-c1"># requests to the API for you, so you can simply iterate over all the images.</span>
    <span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">img</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">images_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">list</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">images_list_request</span><span class="devsite-syntax-p">):</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" -  </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">img</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">output</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" -  </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">img</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-s2">"</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">output</span><span class="devsite-syntax-p">)</span>

</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="ruby" data-text=" Ruby " tabindex="-1"> Ruby </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Ruby</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="ruby"
             track-metadata-snippet-file-url="https://github.com/googleapis/google-cloud-ruby/blob//google-cloud-compute-v1/samples/pagination.rb"
             track-metadata-position="compute_images_list">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/ruby/docs/reference/google-cloud-compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="ruby"
     track-metadata-snippet-file-url="https://github.com/googleapis/google-cloud-ruby/blob//google-cloud-compute-v1/samples/pagination.rb"
     track-metadata-region-tag="compute_images_list">Compute Engine <span class="notranslate">Ruby</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="googleapis/google-cloud-ruby/google-cloud-compute-v1/samples/pagination.rb/HEAD/compute_images_list" data-code-snippet="true" data-github-includecode-link="https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-compute-v1/samples/pagination.rb" feedback-context="{&#34;language&#34;: &#34;ruby&#34;, &#34;region_tag&#34;: &#34;compute_images_list&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-compute-v1/samples/pagination.rb&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="ruby" data-github-path="googleapis/google-cloud-ruby/google-cloud-compute-v1/samples/pagination.rb" data-git-revision="HEAD" data-region-tag="compute_images_list" dir="ltr" is-upgraded syntax="Ruby"><code translate="no" dir="ltr">
<span class="devsite-syntax-nb">require</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"google/cloud/compute/v1"</span>

<span class="devsite-syntax-c1"># Prints a list of all non-deprecated image names available in given project.</span>
<span class="devsite-syntax-c1">#</span>
<span class="devsite-syntax-c1"># @param [String] project project ID or project number of the Cloud project you want to list images from.</span>
<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">print_images_list</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">project</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Google</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Cloud</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Compute</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">V1</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Images</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Rest</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">new</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Make the request to list all non-deprecated images in a project.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1"># max_results indicates the maximum number of items that will be returned per page.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">max_results</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">100</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1"># Listing only non-deprecated images to reduce the size of the reply.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">filter</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"deprecated.state != DEPRECATED"</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Although the `max_results` parameter is specified in the request, the iterable returned</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># by the `list` method hides the pagination mechanic. The library makes multiple</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># requests to the API for you, so you can simply iterate over all the images.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">list</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">each</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">do</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">|</span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-o">|</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nb">puts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">" - </span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">end</span>
<span class="devsite-syntax-k">end</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="rest" data-text=" REST " tabindex="-1"> REST </h3><ol>
<li><p>Run the following command:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
GET https://compute.googleapis.com/compute/v1/projects/<var translate="no">IMAGE_PROJECT</var>/global/images/
</pre></devsite-code></li>
<li><p>Make a note of the name of the image or image family and the name of the
project containing the image.</p></li>
<li><p>Optional: To determine whether the image supports
<a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
run the following command:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
GET https://compute.googleapis.com/compute/v1/projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE_NAME</var>
</pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>:
<a href="/compute/docs/images#os-compute-support">project</a> containing the
image</li>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE_NAME</var></code>: name of the image to check for
support of Shielded VM features</li>
</ul>

<p>If the image supports Shielded VM features, the following line
appears in the output: <code translate="no" dir="ltr">type: UEFI_COMPATIBLE</code>.</p></li>
</ol></section>
</div>
<h3 id="publicimage" data-text="Create a VM instance from a public image" tabindex="-1">Create a VM instance from a public image</h3>



<p>Google, open source communities, and third-party vendors provide and
maintain <a href="/compute/docs/images#os-compute-support">public OS images</a>. By
default, all Google Cloud projects can create VMs from public OS images. However, if
your Google Cloud project has a defined list of
<a href="/compute/docs/images/restricting-image-access">trusted images</a>,
you can use only the images on that list to create a VM.</p>

<p>If you create a <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a>
image with a <a href="/compute/docs/disks#localssds">local SSD</a>, you can&#39;t shield data
with
<a href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity monitoring</a>
or the
<a href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual platform trusted module (vTPM)</a>.</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="startinstanceconsole" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your VM. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>Optional: Change the <strong>Zone</strong> for this VM. If you select <strong>Any</strong>,
Google automatically chooses a zone for you based on machine
type and availability.</p></li>
<li><p>Select a <strong>Machine configuration</strong> for your VM.</p></li>
<li><p>In the <strong>Boot disk</strong> section, click <strong>Change</strong>, and then do the
following:</p>

<ol>
<li>On the <strong>Public images</strong> tab, choose the following:
<ul>
<li>Operating system</li>
<li>OS version</li>
<li>Boot disk type</li>
<li>Boot disk size</li>
</ul></li>
<li>Optional: For advanced configuration options, click <strong>Show advanced
configuration</strong>.</li>
<li>To confirm your boot disk options, click <strong>Select</strong>.</li>
</ol>
<aside class="note"><strong>Note:</strong><span> Unless you explicitly choose a different boot disk, if the name of
the new VM matches the name of an existing persistent disk, then the
existing persistent disk automatically attaches to the new VM as the
boot disk.</span></aside></li>
<li><p>In the <strong>Firewall</strong> section, to permit HTTP or HTTPS traffic to
the VM, select <strong>Allow HTTP
traffic</strong> or <strong>Allow HTTPS traffic</strong>. When you
select one of these, Compute Engine adds a network tag to your
VM, which associates the firewall rule with the VM. Then,
Compute Engine creates the corresponding ingress
<a href="/firewall/docs/firewalls">firewall rule</a> that allows all incoming
traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or <code translate="no" dir="ltr">tcp:443</code> (HTTPS).</p></li>
<li><p>Optional: If you chose an OS image that supports Shielded VM
features, you can modify the <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a>
settings.
To modify Shielded VM settings, expand the <strong>Security</strong> section
in the <strong>Advanced options</strong> section, and then do the
following as required:</p>

<ul>
<li><p>To turn on <a href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure Boot</a>,
select <strong>Turn on Secure Boot</strong>. Secure Boot is
<a href="/compute/shielded-vm/docs/modifying-shielded-vm">disabled by default</a>.</p></li>
<li><p>To turn off <a href="/compute/shielded-vm/docs/shielded-vm#vtpm">vTPM</a>, clear
the <strong>Turn on vTPM</strong> checkbox. vTPM is
<a href="/compute/shielded-vm/docs/modifying-shielded-vm">enabled by default</a>.
Disabling vTPM also disables
<a href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity monitoring</a>
because integrity monitoring relies on data gathered by
<a href="/compute/shielded-vm/docs/shielded-vm#measured-boot">Measured Boot</a>.</p></li>
<li><p>To turn off <a href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity monitoring</a>,
clear the <strong>Turn on Integrity Monitoring</strong>
checkbox. Integrity monitoring is
<a href="/compute/shielded-vm/docs/modifying-shielded-vm">enabled by default</a>.</p></li>
</ul></li>
<li><p>To create and start the VM, click <strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="startinstancegcloud" data-text=" gcloud " tabindex="-1"> gcloud </h3><ol>
<li>Select a <a href="#view-images">public image</a>. Make a note of the name of the image
or image family and the name of the project containing the image.</li>
<li><p>Use the <a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create</code> command</a>
to create a VM from an image family or from a specific version of an
OS image.</p>

<p>If you specify the optional <code translate="no" dir="ltr">--shielded-secure-boot</code> flag,
Compute Engine creates a VM with all three of the <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features
enabled:</p>

<ul>
<li><a href="/compute/shielded-vm/docs/shielded-vm#vtpm">Virtual trusted platform module (vTPM)</a></li>
<li><a href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">Integrity monitoring</a></li>
<li><a href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure Boot</a></li>
</ul>

<p>After Compute Engine starts your VM, you must stop the VM to
<a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify Shielded VM</a>
options.</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create <var translate="no">VM_NAME</var> \
    --zone=<var translate="no">ZONE</var> \
    [--image=<var translate="no">IMAGE</var> | --image-family=<var translate="no">IMAGE_FAMILY</var>] \
    --image-project=<var translate="no">IMAGE_PROJECT</var> \
    --machine-type=<var translate="no">MACHINE_TYPE</var></pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>:
<a href="/compute/docs/naming-resources#resource-name-format">name</a> of the
new VM</li>
<li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the instance in</li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code> or <code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>:
specify one of the following:</p>

<ul>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: a specific version of a
public image</p>

<p>For example, <code translate="no" dir="ltr">--image=debian-10-buster-v20200309</code>.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: an
<a href="/compute/docs/images/os-details#general-info">image family</a>.</p>

<p>This creates the VM from the most recent, non-deprecated OS image.
For example, if you specify <code translate="no" dir="ltr">--image-family=debian-10</code>,
Compute Engine creates a VM from the latest version of the
OS image in the Debian 10 image family.</p></li>
</ul></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: <a href="/compute/docs/images/os-details#general-info">project</a>
containing the image</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type,
<a href="/compute/docs/machine-resource">predefined</a>
or <a href="/compute/docs/instances/creating-instance-with-custom-machine-type">custom</a>,
for the new VM</p>

<p>To get a list of the machine types available in a zone, use the
<a href="/sdk/gcloud/reference/compute/machine-types/list"><code translate="no" dir="ltr">gcloud compute machine-types list</code> command</a> with the <code translate="no" dir="ltr">--zones</code> flag.</p></li>
</ul></li>
<li><p>Verify that Compute Engine created the VM:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances describe <var translate="no">VM_NAME</var>
</pre></devsite-code>

<p>Replace <code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code> with the name of the VM.</p></li>
</ol></section>
<section><h3 id="terraform" data-text="Terraform" tabindex="-1">Terraform</h3><p>To create a VM, you can use the <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_instance"><code translate="no" dir="ltr">google_compute_instance</code>
resource</a>.</p>























  
  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  

















  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy"
       
       track-metadata-position="terraform-google-modules/terraform-docs-samples/compute/basic_vm/main.tf/main/compute_instances_create"
       
       data-code-snippet="true"
       data-github-includecode-link="https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/basic_vm/main.tf"
       
       feedback-context="{&#34;language&#34;: &#34;terraform&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/basic_vm/main.tf&#34;}"
       feedback-product="1634365"
       feedback-bucket="infraops"
       
       
       language="terraform"
       
       
       
       
       data-github-path="terraform-google-modules/terraform-docs-samples/compute/basic_vm/main.tf"
       
       
       data-git-revision="main"
       
       
       data-region-tag="compute_instances_create"
       
       
       
       
        dir="ltr" is-upgraded><code translate="no" dir="ltr">
# Create a VM instance from a public image
# in the `default` VPC network and subnet

resource &quot;google_compute_instance&quot; &quot;default&quot; {
  name         = &quot;my-vm&quot;
  machine_type = &quot;n1-standard-1&quot;
  zone         = &quot;us-central1-a&quot;

  boot_disk {
    initialize_params {
      image = &quot;ubuntu-minimal-2210-kinetic-amd64-v20230126&quot;
    }
  }

  network_interface {
    network = &quot;default&quot;
    access_config {}
  }
}</code></pre></devsite-code>
</div>




























<p>To learn how to apply or remove a Terraform configuration, see
<a href="/docs/terraform/basic-commands">Basic Terraform commands</a>.</p>





  


    To generate the Terraform code, you can use the <strong>Equivalent code</strong> component in the Google Cloud console.
    <ol>
      <li>In the Google Cloud console, go to the <strong>VM instances</strong> page.
        <p><a href="https://console.cloud.google.com/compute/instances" class="button button-primary" target="console"
          track-type="tasks" track-name="consoleLink" track-metadata-position="body"
          track-metadata-end-goal="connectToVm">Go to VM Instances</a></p></li>
      <li>Click <strong>Create instance</strong>.</li>
      <li>Specify the parameters you want.</li>
      <li>At the top or bottom of the page, click <strong>Equivalent code</strong>, and then click
       the <strong>Terraform</strong> tab to view the Terraform code.</li>
    </ol></section>
<section><h3 id="c_1" data-text=" C# " tabindex="-1"> C# </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  <h3 id="compute_instances_create-csharp" track-metadata-position="compute_instances_create" track-metadata-region-tag="compute_instances_create" data-text="C#" tabindex="-1"><span class="notranslate">C#</span></h3>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">C#</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="csharp"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob//compute/api/Compute.Samples/CreateInstanceAsync.cs"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/dotnet/docs/reference/Google.Cloud.Compute.V1/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="csharp"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob//compute/api/Compute.Samples/CreateInstanceAsync.cs"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">C#</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  







  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/dotnet-docs-samples/compute/api/Compute.Samples/CreateInstanceAsync.cs/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/CreateInstanceAsync.cs" feedback-context="{&#34;language&#34;: &#34;csharp&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/compute/api/Compute.Samples/CreateInstanceAsync.cs&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="csharp" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/compute/api/Compute.Samples/CreateInstanceAsync.cs" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="C#"><code translate="no" dir="ltr">
<span class="devsite-syntax-k">using</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">Google.Cloud.Compute.V1</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">using</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">System.Threading.Tasks</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-k">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">CreateInstanceAsyncSample</span>
<span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Task</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">CreateInstanceAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// TODO(developer): Set your own default values for these parameters or pass different values when calling this method.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">projectId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"your-project-id"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"us-central1-a"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"test-machine"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskImage</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"projects/debian-cloud/global/images/family/debian-12"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">long</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">10</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"default"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// See https://cloud.google.com/compute/docs/machine-types for more information on machine types.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">MachineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">$"zones/{zone}/machineTypes/{machineType}"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Instance creation requires at least one persistent disk.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Disks</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDisk</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">AutoDelete</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">Boot</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ComputeEnumConstants</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">Persistent</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">InitializeParams</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-c1">// See https://cloud.google.com/compute/docs/images for more information on available images.</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">SourceImage</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskImage</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">DiskSizeGb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">NetworkInterfaces</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Initialize client that will be used to send requests. This client only needs to be created</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// once, and can be reused for multiple requests.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">CreateAsync</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Insert the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kt">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceCreation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">InsertAsync</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">projectId</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instance</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Wait for the operation to complete using client-side polling.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// The server-side operation is not affected by polling,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// and might finish successfully even if polling times out.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceCreation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">PollUntilCompletedAsync</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="go_1" data-text=" Go " tabindex="-1"> Go </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  <h3 id="compute_instances_create-go" track-metadata-position="compute_instances_create" track-metadata-region-tag="compute_instances_create" data-text="Go" tabindex="-1"><span class="notranslate">Go</span></h3>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Go</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="go"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/create_instance.go"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/go/docs/reference/cloud.google.com/go/compute/latest/apiv1"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="go"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/create_instance.go"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">Go</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/golang-samples/compute/create_instance.go/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/create_instance.go" feedback-context="{&#34;language&#34;: &#34;go&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/create_instance.go&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="go" data-github-path="GoogleCloudPlatform/golang-samples/compute/create_instance.go" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"context"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"fmt"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"io"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1/computepb"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/protobuf/proto"</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// createInstance sends an instance creation request to the Compute Engine API and waits for it to complete.</span>
<span class="devsite-syntax-kd">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstance</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">io</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Writer</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">networkName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// projectID := "your_project_id"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// zone := "europe-central2-b"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// instanceName := "your_instance_name"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// machineType := "n1-standard-1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// sourceImage := "projects/debian-cloud/global/images/family/debian-12"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// networkName := "global/networks/default"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewInstancesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewInstancesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InsertInstanceRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Zone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">InstanceResource</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Instance</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Disks</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">InitializeParams</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskSizeGb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Int64</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">SourceImage</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">AutoDelete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk_PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">()),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">MachineType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/%s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">NetworkInterfaces</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NetworkInterface</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">networkName</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to create instance: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Wait</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">);</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to wait for the operation: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Instance created\n"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="java_1" data-text=" Java " tabindex="-1"> Java </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Java</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="java"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstance.java"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/java/docs/reference/google-cloud-compute/latest/overview"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="java"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstance.java"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">Java</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstance.java/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstance.java" feedback-context="{&#34;language&#34;: &#34;java&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstance.java&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="java" data-github-path="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstance.java" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr">
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.api.gax.longrunning.OperationFuture</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk.Type</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDiskInitializeParams</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InsertInstanceRequest</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Instance</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InstancesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.NetworkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Operation</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.io.IOException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.ExecutionException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeUnit</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeoutException</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">CreateInstance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">main</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-o">[]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">args</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// TODO(developer): Replace these variables before running the sample.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"your-project-id"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"zone-name"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"instance-name"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">createInstance</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>


<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Create a new instance with the provided "instanceName" value in the specified project and zone.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createInstance</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Below are sample values that can be replaced.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// machineType: machine type of the VM being created.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// *   This value uses the format zones/{zone}/machineTypes/{type_name}.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// *   For a list of machine types, see https://cloud.google.com/compute/docs/machine-types</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// sourceImage: path to the operating system image to mount.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// *   For details about images you can mount, see https://cloud.google.com/compute/docs/images</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// diskSizeGb: storage size of the boot disk to attach to the instance.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// networkName: network interface to associate with the instance.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/n1-standard-1"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"projects/debian-cloud/global/images/family/%s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"debian-11"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-kt">long</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">10L</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"default"</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Initialize client that will be used to send requests. This client only needs to be created</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// once, and can be reused for multiple requests. After completing all of your requests, call</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// the `instancesClient.close()` method on the client to safely</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// clean up any remaining background resources.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Instance creation requires at least one persistent disk and one network interface.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setBoot</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setAutoDelete</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toString</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDeviceName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"disk-1"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInitializeParams</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                  </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                      </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setSourceImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                      </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskSizeGb</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                      </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Use the network interface provided in the networkName argument.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">networkName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setMachineType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addNetworkInterfaces</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Creating instance: %s at %s %n"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Insert the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setProject</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setZone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInstanceResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">OperationFuture&lt;Operation</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Operation</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">insertAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Wait for the operation to complete.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">3</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeUnit</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">MINUTES</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">hasError</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Instance creation failed ! ! "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Operation Status: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getStatus</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="node.js_1" data-text=" Node.js " tabindex="-1"> Node.js </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Node.js</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="nodejs"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/createInstance.js"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/nodejs/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="nodejs"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/createInstance.js"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">Node.js</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/nodejs-docs-samples/compute/createInstance.js/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/createInstance.js" feedback-context="{&#34;language&#34;: &#34;nodejs&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/createInstance.js&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="nodejs" data-github-path="GoogleCloudPlatform/nodejs-docs-samples/compute/createInstance.js" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm"> * TODO(developer): Uncomment and replace these variables before running the sample.</span>
<span class="devsite-syntax-cm"> */</span>
<span class="devsite-syntax-c1">// const projectId = 'YOUR_PROJECT_ID';</span>
<span class="devsite-syntax-c1">// const zone = 'europe-central2-b'</span>
<span class="devsite-syntax-c1">// const instanceName = 'YOUR_INSTANCE_NAME'</span>
<span class="devsite-syntax-c1">// const machineType = 'n1-standard-1';</span>
<span class="devsite-syntax-c1">// const sourceImage = 'projects/debian-cloud/global/images/family/debian-11';</span>
<span class="devsite-syntax-c1">// const networkName = 'global/networks/default';</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">require</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'@google-cloud/compute'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-c1">// Create a new instance with the values provided above in the specified project and zone.</span>
<span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstance</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InstancesClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sb">`Creating the </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb"> instance in </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">...`</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">insert</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">instanceResource</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">disks</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-c1">// Describe the size and source image of the boot disk to attach to the instance.</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">initializeParams</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskSizeGb</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'10'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">autoDelete</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">boot</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'PERSISTENT'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/machineTypes/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">networkInterfaces</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-c1">// Use the network interface provided in the networkName argument.</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">networkName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">latestResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ZoneOperationsClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Wait for the create operation to complete.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">status</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'DONE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">wait</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">split</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'/'</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-nx">pop</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Instance created.'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">createInstance</span><span class="devsite-syntax-p">();</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="php_1" data-text=" PHP " tabindex="-1"> PHP </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">PHP</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="php"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/php-docs-samples/blob//compute/instances/src/create_instance.php"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/php/docs/reference/cloud-compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="php"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/php-docs-samples/blob//compute/instances/src/create_instance.php"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">PHP</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/php-docs-samples/compute/instances/src/create_instance.php/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/compute/instances/src/create_instance.php" feedback-context="{&#34;language&#34;: &#34;php&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/compute/instances/src/create_instance.php&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="php" data-github-path="GoogleCloudPlatform/php-docs-samples/compute/instances/src/create_instance.php" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="PHP"><code translate="no" dir="ltr"><span class="devsite-syntax-x">use Google\Cloud\Compute\V1\AttachedDisk;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\AttachedDiskInitializeParams;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\Client\InstancesClient;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\Enums\AttachedDisk\Type;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\InsertInstanceRequest;</span>

<span class="devsite-syntax-x">/**</span>
<span class="devsite-syntax-x"> * To correctly handle string enums in Cloud Compute library</span>
<span class="devsite-syntax-x"> * use constants defined in the Enums subfolder.</span>
<span class="devsite-syntax-x"> */</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\Instance;</span>
<span class="devsite-syntax-x">use Google\Cloud\Compute\V1\NetworkInterface;</span>

<span class="devsite-syntax-x">/**</span>
<span class="devsite-syntax-x"> * Creates an instance in the specified project and zone.</span>
<span class="devsite-syntax-x"> *</span>
<span class="devsite-syntax-x"> * @param string $projectId Project ID of the Cloud project to create the instance in.</span>
<span class="devsite-syntax-x"> * @param string $zone Zone to create the instance in (like "us-central1-a").</span>
<span class="devsite-syntax-x"> * @param string $instanceName Unique name for this Compute Engine instance.</span>
<span class="devsite-syntax-x"> * @param string $machineType Machine type of the instance being created.</span>
<span class="devsite-syntax-x"> * @param string $sourceImage Boot disk image name or family.</span>
<span class="devsite-syntax-x"> * @param string $networkName Network interface to associate with the instance.</span>
<span class="devsite-syntax-x"> *</span>
<span class="devsite-syntax-x"> * @throws \Google\ApiCore\ApiException if the remote call fails.</span>
<span class="devsite-syntax-x"> * @throws \Google\ApiCore\ValidationException if local error occurs before remote call.</span>
<span class="devsite-syntax-x"> */</span>
<span class="devsite-syntax-x">function create_instance(</span>
<span class="devsite-syntax-x">    string $projectId,</span>
<span class="devsite-syntax-x">    string $zone,</span>
<span class="devsite-syntax-x">    string $instanceName,</span>
<span class="devsite-syntax-x">    string $machineType = 'n1-standard-1',</span>
<span class="devsite-syntax-x">    string $sourceImage = 'projects/debian-cloud/global/images/family/debian-11',</span>
<span class="devsite-syntax-x">    string $networkName = 'global/networks/default'</span>
<span class="devsite-syntax-x">) {</span>
<span class="devsite-syntax-x">    // Set the machine type using the specified zone.</span>
<span class="devsite-syntax-x">    $machineTypeFullName = sprintf('zones/%s/machineTypes/%s', $zone, $machineType);</span>

<span class="devsite-syntax-x">    // Describe the source image of the boot disk to attach to the instance.</span>
<span class="devsite-syntax-x">    $diskInitializeParams = (new AttachedDiskInitializeParams())</span>
<span class="devsite-syntax-x">        -&gt;setSourceImage($sourceImage);</span>
<span class="devsite-syntax-x">    $disk = (new AttachedDisk())</span>
<span class="devsite-syntax-x">        -&gt;setBoot(true)</span>
<span class="devsite-syntax-x">        -&gt;setAutoDelete(true)</span>
<span class="devsite-syntax-x">        -&gt;setType(Type::PERSISTENT)</span>
<span class="devsite-syntax-x">        -&gt;setInitializeParams($diskInitializeParams);</span>

<span class="devsite-syntax-x">    // Use the network interface provided in the $networkName argument.</span>
<span class="devsite-syntax-x">    $network = (new NetworkInterface())</span>
<span class="devsite-syntax-x">        -&gt;setName($networkName);</span>

<span class="devsite-syntax-x">    // Create the Instance object.</span>
<span class="devsite-syntax-x">    $instance = (new Instance())</span>
<span class="devsite-syntax-x">        -&gt;setName($instanceName)</span>
<span class="devsite-syntax-x">        -&gt;setDisks([$disk])</span>
<span class="devsite-syntax-x">        -&gt;setMachineType($machineTypeFullName)</span>
<span class="devsite-syntax-x">        -&gt;setNetworkInterfaces([$network]);</span>

<span class="devsite-syntax-x">    // Insert the new Compute Engine instance using InstancesClient.</span>
<span class="devsite-syntax-x">    $instancesClient = new InstancesClient();</span>
<span class="devsite-syntax-x">    $request = (new InsertInstanceRequest())</span>
<span class="devsite-syntax-x">        -&gt;setInstanceResource($instance)</span>
<span class="devsite-syntax-x">        -&gt;setProject($projectId)</span>
<span class="devsite-syntax-x">        -&gt;setZone($zone);</span>
<span class="devsite-syntax-x">    $operation = $instancesClient-&gt;insert($request);</span>

<span class="devsite-syntax-x">    // Wait for the operation to complete.</span>
<span class="devsite-syntax-x">    $operation-&gt;pollUntilComplete();</span>
<span class="devsite-syntax-x">    if ($operation-&gt;operationSucceeded()) {</span>
<span class="devsite-syntax-x">        printf('Created instance %s' . PHP_EOL, $instanceName);</span>
<span class="devsite-syntax-x">    } else {</span>
<span class="devsite-syntax-x">        $error = $operation-&gt;getError();</span>
<span class="devsite-syntax-x">        printf('Instance creation failed: %s' . PHP_EOL, $error?-&gt;getMessage());</span>
<span class="devsite-syntax-x">    }</span>
<span class="devsite-syntax-x">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="python_1" data-text=" Python " tabindex="-1"> Python </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Python</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="python"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create.py"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/python/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="python"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create.py"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">Python</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create.py/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create.py" feedback-context="{&#34;language&#34;: &#34;python&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create.py&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="python" data-github-path="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create.py" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">__future__</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">annotations</span>

<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">re</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">sys</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">typing</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">Any</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">warnings</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.api_core.extended_operation</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">ExtendedOperation</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.cloud</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">compute_v1</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Retrieve the newest image that is part of a given family in a project.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project: project ID or project number of the Cloud project you want to get image from.</span>
<span class="devsite-syntax-sd">        family: name of the image family you want to get image from.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        An Image object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">image_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-c1"># List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details</span>
    <span class="devsite-syntax-n">newest_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">image_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">newest_image</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">disk_from_image</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disk_size_gb</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">source_image</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">auto_delete</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create an AttachedDisk object to be used in VM instance creation. Uses an image as the</span>
<span class="devsite-syntax-sd">    source for the new disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">         disk_type: the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-sd">            "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)".</span>
<span class="devsite-syntax-sd">            For example: "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-sd">        disk_size_gb: size of the new disk in gigabytes</span>
<span class="devsite-syntax-sd">        boot: boolean flag indicating whether this disk should be used as a boot disk of an instance</span>
<span class="devsite-syntax-sd">        source_image: source image to use when creating this disk. You must have read access to this disk. This can be one</span>
<span class="devsite-syntax-sd">            of the publicly available images or an image from one of your projects.</span>
<span class="devsite-syntax-sd">            This value uses the following format: "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-sd">        auto_delete: boolean flag indicating whether this disk should be deleted with the VM that uses it</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">boot_disk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">source_image</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_size_gb</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_size_gb</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_type</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">initialize_params</span>
    <span class="devsite-syntax-c1"># Remember to set auto_delete to True if you want the disk to be deleted when you delete</span>
    <span class="devsite-syntax-c1"># your VM instance.</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">auto_delete</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">auto_delete</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">boot</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">boot</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">boot_disk</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">ExtendedOperation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"operation"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">300</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">Any</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Waits for the extended (long-running) operation to complete.</span>

<span class="devsite-syntax-sd">    If the operation is successful, it will return its result.</span>
<span class="devsite-syntax-sd">    If the operation ends with an error, an exception will be raised.</span>
<span class="devsite-syntax-sd">    If there were any warnings during the execution of the operation</span>
<span class="devsite-syntax-sd">    they will be printed to sys.stderr.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        operation: a long-running operation you want to wait on.</span>
<span class="devsite-syntax-sd">        verbose_name: (optional) a more verbose name of the operation,</span>
<span class="devsite-syntax-sd">            used only during error and warning reporting.</span>
<span class="devsite-syntax-sd">        timeout: how long (in seconds) to wait for operation to finish.</span>
<span class="devsite-syntax-sd">            If None, wait indefinitely.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Whatever the operation.result() returns.</span>

<span class="devsite-syntax-sd">    Raises:</span>
<span class="devsite-syntax-sd">        This method will raise the exception received from `operation.exception()`</span>
<span class="devsite-syntax-sd">        or RuntimeError if there is no exception set, but there is an `error_code`</span>
<span class="devsite-syntax-sd">        set for the `operation`.</span>

<span class="devsite-syntax-sd">        In case of an operation taking longer than `timeout` seconds to complete,</span>
<span class="devsite-syntax-sd">        a `concurrent.futures.TimeoutError` will be raised.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">result</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Error during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: [Code: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">]: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Operation ID: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">raise</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-ne">RuntimeError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Warnings during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">:</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">warning</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" - </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">result</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_instance</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">],</span>
    <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"global/networks/default"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AcceleratorConfig</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_termination_action</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"STOP"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">custom_hostname</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Send an instance creation request to the Compute Engine API and wait for it to complete.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        disks: a list of compute_v1.AttachedDisk objects describing the disks</span>
<span class="devsite-syntax-sd">            you want to attach to your new instance.</span>
<span class="devsite-syntax-sd">        machine_type: machine type of the VM being created. This value uses the</span>
<span class="devsite-syntax-sd">            following format: "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-sd">            For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-sd">        network_link: name of the network you want the new instance to use.</span>
<span class="devsite-syntax-sd">            For example: "global/networks/default" represents the network</span>
<span class="devsite-syntax-sd">            named "default", which is created automatically for each project.</span>
<span class="devsite-syntax-sd">        subnetwork_link: name of the subnetwork you want the new instance to use.</span>
<span class="devsite-syntax-sd">            This value uses the following format:</span>
<span class="devsite-syntax-sd">            "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-sd">        internal_ip: internal IP address you want to assign to the new instance.</span>
<span class="devsite-syntax-sd">            By default, a free address from the pool of available internal IP addresses of</span>
<span class="devsite-syntax-sd">            used subnet will be used.</span>
<span class="devsite-syntax-sd">        external_access: boolean flag indicating if the instance should have an external IPv4</span>
<span class="devsite-syntax-sd">            address assigned.</span>
<span class="devsite-syntax-sd">        external_ipv4: external IPv4 address to be assigned to this instance. If you specify</span>
<span class="devsite-syntax-sd">            an external IP address, it must live in the same region as the zone of the instance.</span>
<span class="devsite-syntax-sd">            This setting requires `external_access` to be set to True to work.</span>
<span class="devsite-syntax-sd">        accelerators: a list of AcceleratorConfig objects describing the accelerators that will</span>
<span class="devsite-syntax-sd">            be attached to the new instance.</span>
<span class="devsite-syntax-sd">        preemptible: boolean value indicating if the new instance should be preemptible</span>
<span class="devsite-syntax-sd">            or not. Preemptible VMs have been deprecated and you should now use Spot VMs.</span>
<span class="devsite-syntax-sd">        spot: boolean value indicating if the new instance should be a Spot VM or not.</span>
<span class="devsite-syntax-sd">        instance_termination_action: What action should be taken once a Spot VM is terminated.</span>
<span class="devsite-syntax-sd">            Possible values: "STOP", "DELETE"</span>
<span class="devsite-syntax-sd">        custom_hostname: Custom hostname of the new VM instance.</span>
<span class="devsite-syntax-sd">            Custom hostnames must conform to RFC 1035 requirements for valid hostnames.</span>
<span class="devsite-syntax-sd">        delete_protection: boolean value indicating if the new virtual machine should be</span>
<span class="devsite-syntax-sd">            protected against deletion or not.</span>
<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">instance_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">()</span>

    <span class="devsite-syntax-c1"># Use the network interface provided in the network_link argument.</span>
    <span class="devsite-syntax-n">network_interface</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">network_link</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">subnetwork</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">subnetwork_link</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">internal_ip</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">access</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">type_</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ONE_TO_ONE_NAT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"External NAT"</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_tier</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkTier</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PREMIUM</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">nat_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">external_ipv4</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">access_configs</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">access</span><span class="devsite-syntax-p">]</span>

    <span class="devsite-syntax-c1"># Collect information into the Instance object.</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_interfaces</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_name</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disks</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">re</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">match</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">r</span><span class="devsite-syntax-s2">"^zones/[a-z\d\-]+/machineTypes/[a-z\d\-]+$"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">):</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">machine_type</span>
    <span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/machineTypes/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">guest_accelerators</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">accelerators</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">on_host_maintenance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">OnHostMaintenance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TERMINATE</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the preemptible setting</span>
        <span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warn</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-s2">"Preemptible VMs are being replaced by Spot VMs."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-ne">DeprecationWarning</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">preemptible</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the Spot VM setting</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">provisioning_model</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ProvisioningModel</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SPOT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_termination_action</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_termination_action</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">custom_hostname</span> <span class="devsite-syntax-ow">is</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the custom hostname for the instance</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">hostname</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">custom_hostname</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the delete protection bit</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">deletion_protection</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-c1"># Prepare the request to insert an instance.</span>
    <span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">zone</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">zone</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">project</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">project_id</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_resource</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance</span>

    <span class="devsite-syntax-c1"># Wait for the create operation to complete.</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Creating the </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> instance in </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">..."</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"instance creation"</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Instance </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> created."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">)</span>

</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="ruby_1" data-text=" Ruby " tabindex="-1"> Ruby </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Ruby</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="ruby"
             track-metadata-snippet-file-url="https://github.com/googleapis/google-cloud-ruby/blob//google-cloud-compute-v1/samples/quickstart.rb"
             track-metadata-position="compute_instances_create">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/ruby/docs/reference/google-cloud-compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="ruby"
     track-metadata-snippet-file-url="https://github.com/googleapis/google-cloud-ruby/blob//google-cloud-compute-v1/samples/quickstart.rb"
     track-metadata-region-tag="compute_instances_create">Compute Engine <span class="notranslate">Ruby</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="googleapis/google-cloud-ruby/google-cloud-compute-v1/samples/quickstart.rb/HEAD/compute_instances_create" data-code-snippet="true" data-github-includecode-link="https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-compute-v1/samples/quickstart.rb" feedback-context="{&#34;language&#34;: &#34;ruby&#34;, &#34;region_tag&#34;: &#34;compute_instances_create&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-compute-v1/samples/quickstart.rb&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="ruby" data-github-path="googleapis/google-cloud-ruby/google-cloud-compute-v1/samples/quickstart.rb" data-git-revision="HEAD" data-region-tag="compute_instances_create" dir="ltr" is-upgraded syntax="Ruby"><code translate="no" dir="ltr">
<span class="devsite-syntax-nb">require</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"google/cloud/compute/v1"</span>

<span class="devsite-syntax-c1"># Sends an instance creation request to the Compute Engine API and waits for it to complete.</span>
<span class="devsite-syntax-c1">#</span>
<span class="devsite-syntax-c1"># @param [String] project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-c1"># @param [String] zone name of the zone you want to use. For example: "us-west3-b"</span>
<span class="devsite-syntax-c1"># @param [String] instance_name name of the new virtual machine.</span>
<span class="devsite-syntax-c1"># @param [String] machine_type machine type of the VM being created. For example: "e2-standard-2"</span>
<span class="devsite-syntax-c1">#         See https://cloud.google.com/compute/docs/machine-types for more information</span>
<span class="devsite-syntax-c1">#         on machine types.</span>
<span class="devsite-syntax-c1"># @param [String] source_image path to the operating system image to mount on your boot</span>
<span class="devsite-syntax-c1">#         disk. This can be one of the public images</span>
<span class="devsite-syntax-c1">#         (like "projects/debian-cloud/global/images/family/debian-11")</span>
<span class="devsite-syntax-c1">#         or a private image you have access to.</span>
<span class="devsite-syntax-c1">#         See https://cloud.google.com/compute/docs/images for more information on available images.</span>
<span class="devsite-syntax-c1"># @param [String] network_name name of the network you want the new instance to use.</span>
<span class="devsite-syntax-c1">#         For example: "global/networks/default" represents the `default`</span>
<span class="devsite-syntax-c1">#         network interface, which is created automatically for each project.</span>
<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">create_instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">project</span><span class="devsite-syntax-p">:,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">zone</span><span class="devsite-syntax-p">:,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">instance_name</span><span class="devsite-syntax-p">:,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-ss">machine_type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"n2-standard-2"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-ss">source_image</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"projects/debian-cloud/global/images/family/debian-11"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-ss">network_name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"global/networks/default"</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Initialize client that will be used to send requests. This client only needs to be created</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># once, and can be reused for multiple requests.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Google</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Cloud</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Compute</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">V1</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Instances</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Rest</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">new</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Construct the instance object.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># It can be either a hash or ::Google::Cloud::Compute::V1::Instance instance.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nb">name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">machine_type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/machineTypes/</span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1"># Instance creation requires at least one persistent disk.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">disks</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-ss">auto_delete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kp">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-ss">boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kp">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-ss">type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">:PERSISTENT</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-ss">initialize_params</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-ss">source_image</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">source_image</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-ss">disk_size_gb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">10</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-o">]</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-ss">network_interfaces</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">network_name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-o">]</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Prepare a request to create the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">zone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">instance_resource</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nb">puts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Creating the </span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> instance in </span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">..."</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">begin</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1"># Send the insert request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">insert</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">request</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1"># Wait for the create operation to complete.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">wait_until_done</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ss">operation</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error?</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nb">warn</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Error during creation:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">else</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">compute_operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">operation</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nb">warn</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Warning during creation:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">compute_operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">unless</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">compute_operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">empty?</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nb">puts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Instance </span><span class="devsite-syntax-si">#{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> created."</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">end</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">rescue</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Google</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Cloud</span><span class="devsite-syntax-o">::</span><span class="devsite-syntax-no">Error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">e</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nb">warn</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Exception during creation:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">e</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">end</span>
<span class="devsite-syntax-k">end</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="startinstanceapi" data-text=" REST " tabindex="-1"> REST </h3><ol>
<li>Select a <a href="#view-images">public image</a>. Make a note of the name of the image
or image family and the name of the project containing the image.</li>
<li><p>Use the
<a href="/compute/docs/reference/rest/v1/instances/insert"><code translate="no" dir="ltr">instances.insert</code> method</a>
to create a VM from an image family or from a specific version of an OS image:</p>

<p>

















<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>/zones/<code translate="no" dir="ltr"><var translate="no">ZONE</var></code>/instances

{
   "machineType":"zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
   "name":"<code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>",
   
   "disks":[
      {
         "initializeParams":{
            "sourceImage":"projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
         },
         "boot":true
      }
   ],
   
   
   "networkInterfaces":[
      {
         "network":"global/networks/<var translate="no">NETWORK_NAME</var>"
      }
   ],
   
  
   "shieldedInstanceConfig":{
      "enableSecureBoot":"<var translate="no">ENABLE_SECURE_BOOT</var>"
   }
}
</pre></devsite-code>



<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone containing the machine type to use for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type, <a
    href="/compute/docs/machine-resource">predefined</a>
    or <a
    href="/compute/docs/general-purpose-machines#custom_machine_types">custom</a>,
    for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a
    href="/compute/docs/naming-resources#resource-name-format">name</a>
    of the new VM</li>

  
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: <a
    href="/compute/docs/images#os-compute-support">project</a>
    containing the image<br>
    For example, if you specify <code translate="no" dir="ltr">debian-10</code> as the image
    family, specify <code translate="no" dir="ltr">debian-cloud</code> as the image project.</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE or IMAGE_FAMILY</var></code>: specify one of the following:<ul>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: a specific version of a public image<br>
    For example,
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/debian-10-buster-v20200309"</code></li>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: an <a
    href="/compute/docs/images/os-details#general-info">image
    family<br>
    </a>This creates the VM from the most recent, non-deprecated OS
    image. For example, if you specify
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/family/debian-10"</code>,
    Compute Engine creates a
    VM from the latest version of the OS image in the <code translate="no" dir="ltr">Debian 10</code> image family.</li>
    </ul>
   </li>
 
 
 
    <li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: the VPC network that you want to use
      for the VM. You can specify <code translate="no" dir="ltr">default</code> to use your default network.</li>
 
 
  <li><p><code translate="no" dir="ltr"><var translate="no">ENABLE_SECURE_BOOT</var></code>: Optional: If you chose an image that supports
   <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
    Compute Engine, by default, enables the <a
    href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual
    trusted platform module (vTPM)</a> and <a
    href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity
    monitoring</a>. Compute Engine does not enable <a
    href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure
    Boot</a> by default.</p>
    <p>If you specify <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">enableSecureBoot</code>, Compute Engine
    creates a VM with all three Shielded VM features enabled. After Compute Engine
    starts your VM, to <a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify
    Shielded VM</a> options, you must stop the VM.</p></li>
</ul>


</p></li>
</ol></section>
</div>
<h3 id="baremetal" data-text="Create a bare metal instance from a public image" tabindex="-1">Create a bare metal instance from a public image</h3>

<p>Google, open source communities, and third-party vendors provide and
maintain <a href="/compute/docs/images#os-compute-support">public OS images</a>. By
default, all Google Cloud projects can create bare metal instances using supported
public OS images. However, if your Google Cloud project has a defined list of
<a href="/compute/docs/images/restricting-image-access">trusted images</a>,
you can use only the images on that list to create a bare metal instance.</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="startinstanceconsole" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your instance. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>Optional: Change the <strong>Zone</strong> for this instance. If you choose a zone
that doesn&#39;t have any available bare metal servers, you are prompted to
choose a different zone.</p></li>
<li><p>In the <strong>Machine configuration</strong> section, do one of the following:</p>

<ul>
<li>Click the <strong>General purpose</strong> tab, and then select <strong>C3</strong>.</li>
<li>Click the <strong>Memory optimized</strong> tab, and then select <strong>X4</strong>.</li>
</ul></li>
<li><p>For the <strong>Machine type</strong>, click the list. In the filter box, type in
<code translate="no" dir="ltr">metal</code>, and then select one of the available types.</p></li>
<li><p>In the <strong>Availability policies</strong> section, click
<strong>VM provisioning model advanced settings</strong> to expand the section.
Make sure the value for <strong>On host maintenance</strong> is
<code translate="no" dir="ltr">Terminate instance</code>.</p></li>
<li><p>In the <strong>Boot disk</strong> section, click <strong>Change</strong>, and then do the
following:</p>

<ol>
<li>On the <strong>Public images</strong> tab, choose the following:
<ul>
<li>Operating system</li>
<li>OS version</li>
<li>Boot disk type</li>
<li>Boot disk size</li>
<li>Optional: For Hyperdisk Balanced boot disks, choose the <strong>Provisioned IOPS</strong>
and <strong>Provisioned throughput</strong> settings for the disk.</li>
</ul></li>
<li>Optional: For additional disk configuration options, click
<strong>Show advanced configuration</strong>.</li>
<li><p>To confirm your boot disk options, click <strong>Select</strong>.</p>
<aside class="note"><strong>Note:</strong><span> Unless you explicitly choose a different boot disk, if the name of
the new instance matches the name of an existing disk, then the
existing disk automatically attaches to the new instance as the
boot disk.</span></aside></li>
</ol></li>
<li><p>In the <strong>Firewall</strong> section, to permit HTTP or HTTPS traffic to
the bare metal instance, select <strong>Allow HTTP traffic</strong> or
<strong>Allow HTTPS traffic</strong>. When you select one of these options,
Compute Engine adds a network tag to your instance, which
associates the firewall rule with the instance. Then, Compute Engine
creates the corresponding ingress <a href="/firewall/docs/firewalls">firewall rule</a>
that allows all incoming traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or <code translate="no" dir="ltr">tcp:443</code> (HTTPS).</p>

<p></p></li>
</ul></li>
<li><p>Expand the <strong>Advanced options</strong> section, and then expand the
<strong>Networking</strong> section. Make sure the <strong>Network interface card</strong> is set
to <strong>IDPF</strong>.</p></li>
<li><p>To create and start the bare metal instance, click <strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="startinstancegcloud" data-text=" gcloud " tabindex="-1"> gcloud </h3><ol>
<li>Select a <a href="#view-images">public image</a> that supports bare metal instances.
Make a note of the name of the
image or image family and the name of the project containing the image.</li>
<li><p>Use the <a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create</code> command</a>
to create a bare metal instance from an image family or from a specific
version of an OS image.</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" style="white-space: pre-wrap; translate="no" dir="ltr" is-upgraded>
gcloud compute instances create <var translate="no">INSTANCE_NAME</var> \
    --zone=<var translate="no">ZONE</var> \
    --machine-type=<var translate="no">MACHINE_TYPE</var> \
    --network-interface=nic-type=IDPF \
    --maintenance-policy=TERMINATE \
    --create-disk=boot=yes,image=projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>,provisioned-iops=<var translate="no">IOPS</var>,provisioned-throughput=<var translate="no">THROUGHPUT</var>,size=<var translate="no">SIZE</var>,type=hyperdisk-balanced \
    --no-shielded-secure-boot
</pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">INSTANCE_NAME</var></code>: a
<a href="/compute/docs/naming-resources#resource-name-format">name</a> for the
new bare metal instance</li>
<li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the bare metal
instance in</li>
<li><p><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: the bare metal machine type to
use for the instance. The name of the machine type must end in
<code translate="no" dir="ltr">-metal</code>.</p>

<p>To get a list of the machine types available in a zone, use the
<a href="/sdk/gcloud/reference/compute/machine-types/list"><code translate="no" dir="ltr">gcloud compute machine-types list</code> command</a>
with the <code translate="no" dir="ltr">--zones</code> flag.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: the
<a href="/compute/docs/images/os-details#general-info">image project</a>
that contains the image</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: specify one of the following:</p>

<ul>
<li>A specific version of the OS image&mdash;for example,
<code translate="no" dir="ltr">sles-15-sp4-sap-v20240208-x86-6</code>.</li>
<li>An <a href="/compute/docs/images/os-details">image family</a>, which must be
formatted as <code translate="no" dir="ltr">family/<var translate="no">IMAGE_FAMILY</var></code>. This creates
the instance from the most recent, non-deprecated OS image. For
example, if you specify <code translate="no" dir="ltr">family/sles-15-sp4-sap</code>, Compute Engine
creates a bare metal instance from the latest version of the OS
image in the SUSE Linux Enterprise Server 15 SP4 image family. For
more information about using image families, see
<a href="/compute/docs/images/image-families-best-practices">Image families best practices</a>.</li>
</ul></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IOPS</var></code>: Optional: the highest number of I/O
operations per second (IOPS) that the disk can handle.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">THROUGHPUT</var></code>: Optional: an integer that
represents the highest throughput, measured in MiB per second, that
the disk can handle.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">SIZE</var></code>: Optional: the size of the new
disk. The value must be a whole number. The default unit of
measurement is GiB.</p></li>
</ul></li>
<li><p>Verify that Compute Engine created the instance:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances describe <var translate="no">INSTANCE_NAME</var>
</pre></devsite-code>

<p>Replace <code translate="no" dir="ltr"><var translate="no">INSTANCE_NAME</var></code> with the name of the
new instance.</p></li>
</ol></section>
<section><h3 id="startinstanceapi" data-text=" REST " tabindex="-1"> REST </h3><ol>
<li>Select a <a href="#view-images">public image</a> that supports bare metal instances.
Make a note of the name of the
image or image family and the name of the project containing the image.</li>
<li><p>Use the
<a href="/compute/docs/reference/rest/v1/instances/insert"><code translate="no" dir="ltr">instances.insert</code> method</a>
to create a bare metal instance from an image family or from a specific
version of an OS image:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">ZONE</var>/instances
{
 "machineType": "projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
 "name": "<var translate="no">INSTANCE_NAME</var>",
 "disks": [
   {
     "boot": true,
     "initializeParams": {
       "diskSizeGb": "<var translate="no">DISK_SIZE</var>",
       "diskType": "hyperdisk-balanced",
       "provisionedIops": "<var translate="no">IOPS_LIMIT</var>",
       "provisionedThroughput": "<var translate="no">THROUGHPUT_LIMIT</var>",
       "sourceImage": "projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
     }
   }
 ],
 "networkInterfaces": [
   {
     "nicType": "IDPF"
   }
 ],
 "scheduling": {
   "onHostMaintenance": "TERMINATE"
 }
}
</pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the
bare metal instance in</li>
<li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the bare metal
instance in</li>
<li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone that contains the
machine type to use for the new bare metal instance</li>
<li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: the machine type to
use for the instance. The name of the machine type must end in
<code translate="no" dir="ltr">-metal</code>.</li>
<li><code translate="no" dir="ltr"><var translate="no">INSTANCE_NAME</var></code>:
<a href="/compute/docs/naming-resources#resource-name-format">name</a> of the
new instance</li>
<li><code translate="no" dir="ltr"><var translate="no">DISK_SIZE</var></code>: disk size in GiB</li>
<li><code translate="no" dir="ltr"><var translate="no">IOPS_LIMIT</var></code>: the number of I/O operations per
second that you want to provision for the disk.</li>
<li><code translate="no" dir="ltr"><var translate="no">THROUGHPUT_LIMIT</var></code>: an integer that represents
the throughput, measured in MB per second, that you want to provision
for the disk.</li>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: the
<a href="/compute/docs/images/os-details#general-info">image project</a>
that contains the image</li>
<li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: specify one of the following:
<ul>
<li>A specific version of the OS image&mdash;for example,
<code translate="no" dir="ltr">sles-15-sp4-sap-v20240208-x86-6</code>.</li>
<li>An <a href="/compute/docs/images/os-details">image family</a>, which must be
formatted as <code translate="no" dir="ltr">family/<var translate="no">IMAGE_FAMILY</var></code>. This creates
the instance from the most recent, non-deprecated OS image. For
example, if you specify <code translate="no" dir="ltr">family/sles-15-sp4-sap</code>, Compute Engine
creates a bare metal instance from the latest version of the OS
image in the SUSE Linux Enterprise Server 15 SP4 image family. For
more information about using image families, see
<a href="/compute/docs/images/image-families-best-practices">Image families best practices</a>.</li>
</ul></li>
</ul></li>
</ol></section>
</div>
<h3 id="create_a_vm_from_a_custom_image" data-text="Create a VM from a custom image" tabindex="-1">Create a VM from a custom image</h3>



<p>A custom image belongs only to your project. To create a VM with a
custom image, you must first
<a href="/compute/docs/images/create-delete-deprecate-private-images#creating_a_custom_image">create a custom image</a>
if you don&#39;t already have one.</p>
<aside class="note"><strong>Note:</strong><span> You must have access to the custom image to use it when you
create a VM. By default, you have access to all custom images
in your project. However, if your project has a defined
list of <a href="/compute/docs/images/restricting-image-access">trusted images</a>,
you can use only the images on that list to create a VM.</span></aside><div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="console_1" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your VM. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>Optional: Change the <strong>Zone</strong> for this VM. If you select <strong>Any</strong>,
Google automatically chooses a zone for you based on machine
type and availability.</p></li>
<li><p>Select a <strong>Machine configuration</strong> for your VM.</p></li>
<li><p>In the <strong>Boot disk</strong> section, click <strong>Change</strong>, and then do the
following:</p>

<ol>
<li>Select the <strong>Custom Images</strong> tab.</li>
<li>To select the image project, click <strong>Select a project</strong>, and then do
the following:
<ol>
<li>Select the project that contains the image.</li>
<li>Click <strong>Open</strong>.</li>
</ol></li>
<li>In the <strong>Image</strong> list, click the image that you want to import.</li>
<li>Select the type and size of your boot disk.</li>
<li>Optional: For advanced configuration options, click <strong>Show advanced
configuration</strong>.</li>
<li>To confirm your boot disk options, click <strong>Select</strong>.</li>
</ol></li>
<li><p>In the <strong>Firewall</strong> section, to permit HTTP or HTTPS traffic to the VM,
select <strong>Allow HTTP traffic</strong> or <strong>Allow HTTPS traffic</strong>.</p>

<p>The Google Cloud console adds a network tag to your VM and
creates the corresponding ingress firewall rule that allows all
incoming traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or <code translate="no" dir="ltr">tcp:443</code> (HTTPS). The network
tag associates the firewall rule with the VM. For more
information, see <a href="/firewall/docs/firewalls">Firewall rules overview</a> in
the Cloud Next Generation Firewall documentation.</p></li>
<li><p>To create and start the VM, click <strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="gcloud_1" data-text=" gcloud " tabindex="-1"> gcloud </h3><p>
</p>

<ol>
<li>








  
  
    
    <p>In the Google Cloud console, activate Cloud Shell.</p>
    <p><a
       href="https://console.cloud.google.com/?cloudshell=true"
       target="console" track-type="commonIncludes"
       track-name="consoleLink"
       track-metadata-end-goal="launchCloudShell"
       class="button button-primary">Activate Cloud Shell</a></p>
    <p>
      At the bottom of the Google Cloud console, a
      <a href="/shell/docs/how-cloud-shell-works">Cloud Shell</a>
      session starts and displays a command-line prompt. Cloud Shell is a shell environment
      with the Google Cloud CLI
      already installed and with values already set for
      your current project. It can take a few seconds for the session to initialize.
    </p>
    
  



  </li>
<li><p>Run the <a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create</code> command</a>
to create a VM with a custom image:</p>

<p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create <var translate="no">VM_NAME</var> \
    --image-project <var translate="no">IMAGE_PROJECT</var> \
    [--image <var translate="no">IMAGE</var> | --image-family <var translate="no">IMAGE_FAMILY</var>]
    --subnet <var translate="no">SUBNET</var>
</pre></devsite-code>


<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: name of the VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: Project ID that
    contains the image</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code> or <code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>:
    specify one of the following:
    <ul>
      <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: name of your custom image
        <p>For example, <code translate="no" dir="ltr">--image=my-debian-image-v2</code>.</p></li>
      <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: if you created your custom images
        as part of a <a href="/compute/docs/images#custom-families">custom image family</a>,
        specify that custom image family.
        <p>This creates the VM from the most
        recent, non-deprecated OS image and OS version in your custom image family.
        For example, if you specify <code translate="no" dir="ltr">--image-family=my-debian-family</code>,
        Compute Engine creates a VM from the latest OS image in your custom
    <code translate="no" dir="ltr">my-debian-family</code> image family.</p></li></ul>
    <aside class="note">
    <b>Note:</b> Compute Engine uses the default image family and
    project if you don't specify an image. The default image family and
    project are <code translate="no" dir="ltr">debian-10</code> and <code translate="no" dir="ltr">debian-cloud</code>, respectively.
    </aside></li>
  <li><p><code translate="no" dir="ltr"><var translate="no">SUBNET</var></code>: If the subnet and instance are in the same project, replace
    <var translate="no">SUBNET</var> with the name of a subnet that is in the same region as the
    instance. </p>
    
  </li>
</ul></p></li>
</ol></section>
<section><h3 id="terraform_1" data-text=" Terraform " tabindex="-1"> Terraform </h3>



  


    To generate the Terraform code, you can use the <strong>Equivalent code</strong> component in the Google Cloud console.
    <ol>
      <li>In the Google Cloud console, go to the <strong>VM instances</strong> page.
        <p><a href="https://console.cloud.google.com/compute/instances" class="button button-primary" target="console"
          track-type="tasks" track-name="consoleLink" track-metadata-position="body"
          track-metadata-end-goal="connectToVm">Go to VM Instances</a></p></li>
      <li>Click <strong>Create instance</strong>.</li>
      <li>Specify the parameters you want.</li>
      <li>At the top or bottom of the page, click <strong>Equivalent code</strong>, and then click
       the <strong>Terraform</strong> tab to view the Terraform code.</li>
    </ol></section>
<section><h3 id="go_2" data-text=" Go " tabindex="-1"> Go </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Go</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="go"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_from_custom_image.go"
             track-metadata-position="compute_instances_create_from_custom_image">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/go/docs/reference/cloud.google.com/go/compute/latest/apiv1"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="go"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_from_custom_image.go"
     track-metadata-region-tag="compute_instances_create_from_custom_image">Compute Engine <span class="notranslate">Go</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_from_custom_image.go/HEAD/compute_instances_create_from_custom_image" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_from_custom_image.go" feedback-context="{&#34;language&#34;: &#34;go&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_custom_image&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_from_custom_image.go&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="go" data-github-path="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_from_custom_image.go" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_custom_image" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"context"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"fmt"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"io"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1/computepb"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/protobuf/proto"</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// createInstanceFromCustomImage creates a new VM instance with custom image used as its boot disk.</span>
<span class="devsite-syntax-kd">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstanceFromCustomImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">io</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Writer</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">customImageLink</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// projectID := "your_project_id"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// zone := "europe-central2-b"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// instanceName := "your_instance_name"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// customImageLink := "projects/project_name/global/images/image_name"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewInstancesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewInstancesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InsertInstanceRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Zone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">InstanceResource</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Instance</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Disks</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">InitializeParams</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskSizeGb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Int64</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">SourceImage</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">customImageLink</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">AutoDelete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk_PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">()),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">MachineType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/n1-standard-1"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">NetworkInterfaces</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NetworkInterface</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"global/networks/default"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to create instance: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Wait</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">);</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to wait for the operation: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Instance created\n"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="java_2" data-text=" Java " tabindex="-1"> Java </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Java</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="java"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
             track-metadata-position="compute_instances_create_from_custom_image">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/java/docs/reference/google-cloud-compute/latest/overview"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="java"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
     track-metadata-region-tag="compute_instances_create_from_custom_image">Compute Engine <span class="notranslate">Java</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java/HEAD/compute_instances_create_from_custom_image" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" feedback-context="{&#34;language&#34;: &#34;java&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_custom_image&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="java" data-github-path="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_custom_image" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr">
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.api.gax.longrunning.OperationFuture</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk.Type</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDiskInitializeParams</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Image</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ImagesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InsertInstanceRequest</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Instance</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InstancesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.NetworkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Operation</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.io.IOException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.Vector</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.ExecutionException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeUnit</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeoutException</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">CreateInstancesAdvanced</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create an AttachedDisk object to be used in VM instance creation. Uses an image as the source</span>
<span class="devsite-syntax-cm">   * for the new disk.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param diskType the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)". For example:</span>
<span class="devsite-syntax-cm">   * "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-cm">   * @param diskSizeGb size of the new disk in gigabytes</span>
<span class="devsite-syntax-cm">   * @param boot boolean flag indicating whether this disk should be used as a boot disk of an</span>
<span class="devsite-syntax-cm">   * instance</span>
<span class="devsite-syntax-cm">   * @param sourceImage source image to use when creating this disk. You must have read access to</span>
<span class="devsite-syntax-cm">   * this disk. This can be one of the publicly available images or an image from one of your</span>
<span class="devsite-syntax-cm">   * projects. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-cm">   * @return AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">diskFromImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setBoot</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Remember to set auto_delete to True if you want the disk to be deleted when</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// you delete your VM instance.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setAutoDelete</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toString</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInitializeParams</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setSourceImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskSizeGb</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>


<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Send an instance creation request to the Compute Engine API and wait for it to complete.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-cm">   * @param zone name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-cm">   * @param instanceName name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-cm">   * @param disks a list of compute_v1.AttachedDisk objects describing the disks you want to attach</span>
<span class="devsite-syntax-cm">   * to your new instance.</span>
<span class="devsite-syntax-cm">   * @param machineType machine type of the VM being created. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-cm">   * For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-cm">   * @param network name of the network you want the new instance to use. For example:</span>
<span class="devsite-syntax-cm">   * "global/networks/default" represents the network named "default", which is created</span>
<span class="devsite-syntax-cm">   * automatically for each project.</span>
<span class="devsite-syntax-cm">   * @param subnetwork name of the subnetwork you want the new instance to use. This value uses the</span>
<span class="devsite-syntax-cm">   * following format: "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-cm">   * @return Instance object.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createWithDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Vector&lt;AttachedDisk&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Use the network interface provided in the networkName argument.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">setSubnetwork</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/%s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setMachineType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addAllDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addNetworkInterfaces</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Creating instance: %s at %s "</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Insert the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setProject</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setZone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInstanceResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">OperationFuture&lt;Operation</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Operation</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">insertAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Wait for the operation to complete.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">3</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeUnit</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">MINUTES</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">hasError</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Instance creation failed ! ! "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Operation Status: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getStatus</span><span class="devsite-syntax-p">());</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create a new VM instance with custom image used as its boot disk.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-cm">   * @param zone name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-cm">   * @param instanceName name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-cm">   * @param customImage link to the custom image you want to use in the form of:</span>
<span class="devsite-syntax-cm">   * "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-cm">   * @return Instance object.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createFromCustomImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">customImage</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Vector&lt;AttachedDisk&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Vector</span>&lt;&gt;<span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskFromImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">customImage</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">createWithDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s">"global/networks/default"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="node.js_2" data-text=" Node.js " tabindex="-1"> Node.js </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Node.js</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="nodejs"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceFromCustomImage.js"
             track-metadata-position="compute_instances_create_from_custom_image">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/nodejs/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="nodejs"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceFromCustomImage.js"
     track-metadata-region-tag="compute_instances_create_from_custom_image">Compute Engine <span class="notranslate">Node.js</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceFromCustomImage.js/HEAD/compute_instances_create_from_custom_image" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceFromCustomImage.js" feedback-context="{&#34;language&#34;: &#34;nodejs&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_custom_image&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceFromCustomImage.js&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="nodejs" data-github-path="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceFromCustomImage.js" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_custom_image" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm"> * TODO(developer): Uncomment and replace these variables before running the sample.</span>
<span class="devsite-syntax-cm"> */</span>
<span class="devsite-syntax-c1">// const projectId = 'YOUR_PROJECT_ID';</span>
<span class="devsite-syntax-c1">// const zone = 'europe-central2-b';</span>
<span class="devsite-syntax-c1">// const instanceName = 'YOUR_INSTANCE_NAME';</span>
<span class="devsite-syntax-c1">// const customImageLink = 'projects/YOUR_PROJECT/global/images/YOUR_IMAGE_NAME';</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">require</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'@google-cloud/compute'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-c1">// Creates a new VM instance with custom image used as its boot disk.</span>
<span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstanceFromCustomImage</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InstancesClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">insert</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">instanceResource</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">disks</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">initializeParams</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskSizeGb</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'10'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">customImageLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/diskTypes/pd-standard`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">autoDelete</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">boot</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'PERSISTENT'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/machineTypes/n1-standard-1`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">networkInterfaces</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'global/networks/default'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">latestResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ZoneOperationsClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Wait for the create operation to complete.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">status</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'DONE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">wait</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">split</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'/'</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-nx">pop</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Instance created.'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">createInstanceFromCustomImage</span><span class="devsite-syntax-p">();</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="python_2" data-text=" Python " tabindex="-1"> Python </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Python</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="python"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py"
             track-metadata-position="compute_instances_create_from_custom_image">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/python/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="python"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py"
     track-metadata-region-tag="compute_instances_create_from_custom_image">Compute Engine <span class="notranslate">Python</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py/HEAD/compute_instances_create_from_custom_image" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py" feedback-context="{&#34;language&#34;: &#34;python&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_custom_image&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="python" data-github-path="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_start_instance/create_from_custom_image.py" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_custom_image" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">__future__</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">annotations</span>

<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">re</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">sys</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">typing</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">Any</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">warnings</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.api_core.extended_operation</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">ExtendedOperation</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.cloud</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">compute_v1</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Retrieve the newest image that is part of a given family in a project.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project: project ID or project number of the Cloud project you want to get image from.</span>
<span class="devsite-syntax-sd">        family: name of the image family you want to get image from.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        An Image object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">image_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-c1"># List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details</span>
    <span class="devsite-syntax-n">newest_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">image_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">newest_image</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">disk_from_image</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disk_size_gb</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">source_image</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">auto_delete</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create an AttachedDisk object to be used in VM instance creation. Uses an image as the</span>
<span class="devsite-syntax-sd">    source for the new disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">         disk_type: the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-sd">            "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)".</span>
<span class="devsite-syntax-sd">            For example: "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-sd">        disk_size_gb: size of the new disk in gigabytes</span>
<span class="devsite-syntax-sd">        boot: boolean flag indicating whether this disk should be used as a boot disk of an instance</span>
<span class="devsite-syntax-sd">        source_image: source image to use when creating this disk. You must have read access to this disk. This can be one</span>
<span class="devsite-syntax-sd">            of the publicly available images or an image from one of your projects.</span>
<span class="devsite-syntax-sd">            This value uses the following format: "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-sd">        auto_delete: boolean flag indicating whether this disk should be deleted with the VM that uses it</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">boot_disk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">source_image</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_size_gb</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_size_gb</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_type</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">initialize_params</span>
    <span class="devsite-syntax-c1"># Remember to set auto_delete to True if you want the disk to be deleted when you delete</span>
    <span class="devsite-syntax-c1"># your VM instance.</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">auto_delete</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">auto_delete</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">boot</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">boot</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">boot_disk</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">ExtendedOperation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"operation"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">300</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">Any</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Waits for the extended (long-running) operation to complete.</span>

<span class="devsite-syntax-sd">    If the operation is successful, it will return its result.</span>
<span class="devsite-syntax-sd">    If the operation ends with an error, an exception will be raised.</span>
<span class="devsite-syntax-sd">    If there were any warnings during the execution of the operation</span>
<span class="devsite-syntax-sd">    they will be printed to sys.stderr.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        operation: a long-running operation you want to wait on.</span>
<span class="devsite-syntax-sd">        verbose_name: (optional) a more verbose name of the operation,</span>
<span class="devsite-syntax-sd">            used only during error and warning reporting.</span>
<span class="devsite-syntax-sd">        timeout: how long (in seconds) to wait for operation to finish.</span>
<span class="devsite-syntax-sd">            If None, wait indefinitely.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Whatever the operation.result() returns.</span>

<span class="devsite-syntax-sd">    Raises:</span>
<span class="devsite-syntax-sd">        This method will raise the exception received from `operation.exception()`</span>
<span class="devsite-syntax-sd">        or RuntimeError if there is no exception set, but there is an `error_code`</span>
<span class="devsite-syntax-sd">        set for the `operation`.</span>

<span class="devsite-syntax-sd">        In case of an operation taking longer than `timeout` seconds to complete,</span>
<span class="devsite-syntax-sd">        a `concurrent.futures.TimeoutError` will be raised.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">result</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Error during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: [Code: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">]: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Operation ID: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">raise</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-ne">RuntimeError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Warnings during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">:</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">warning</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" - </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">result</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_instance</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">],</span>
    <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"global/networks/default"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AcceleratorConfig</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_termination_action</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"STOP"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">custom_hostname</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Send an instance creation request to the Compute Engine API and wait for it to complete.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        disks: a list of compute_v1.AttachedDisk objects describing the disks</span>
<span class="devsite-syntax-sd">            you want to attach to your new instance.</span>
<span class="devsite-syntax-sd">        machine_type: machine type of the VM being created. This value uses the</span>
<span class="devsite-syntax-sd">            following format: "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-sd">            For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-sd">        network_link: name of the network you want the new instance to use.</span>
<span class="devsite-syntax-sd">            For example: "global/networks/default" represents the network</span>
<span class="devsite-syntax-sd">            named "default", which is created automatically for each project.</span>
<span class="devsite-syntax-sd">        subnetwork_link: name of the subnetwork you want the new instance to use.</span>
<span class="devsite-syntax-sd">            This value uses the following format:</span>
<span class="devsite-syntax-sd">            "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-sd">        internal_ip: internal IP address you want to assign to the new instance.</span>
<span class="devsite-syntax-sd">            By default, a free address from the pool of available internal IP addresses of</span>
<span class="devsite-syntax-sd">            used subnet will be used.</span>
<span class="devsite-syntax-sd">        external_access: boolean flag indicating if the instance should have an external IPv4</span>
<span class="devsite-syntax-sd">            address assigned.</span>
<span class="devsite-syntax-sd">        external_ipv4: external IPv4 address to be assigned to this instance. If you specify</span>
<span class="devsite-syntax-sd">            an external IP address, it must live in the same region as the zone of the instance.</span>
<span class="devsite-syntax-sd">            This setting requires `external_access` to be set to True to work.</span>
<span class="devsite-syntax-sd">        accelerators: a list of AcceleratorConfig objects describing the accelerators that will</span>
<span class="devsite-syntax-sd">            be attached to the new instance.</span>
<span class="devsite-syntax-sd">        preemptible: boolean value indicating if the new instance should be preemptible</span>
<span class="devsite-syntax-sd">            or not. Preemptible VMs have been deprecated and you should now use Spot VMs.</span>
<span class="devsite-syntax-sd">        spot: boolean value indicating if the new instance should be a Spot VM or not.</span>
<span class="devsite-syntax-sd">        instance_termination_action: What action should be taken once a Spot VM is terminated.</span>
<span class="devsite-syntax-sd">            Possible values: "STOP", "DELETE"</span>
<span class="devsite-syntax-sd">        custom_hostname: Custom hostname of the new VM instance.</span>
<span class="devsite-syntax-sd">            Custom hostnames must conform to RFC 1035 requirements for valid hostnames.</span>
<span class="devsite-syntax-sd">        delete_protection: boolean value indicating if the new virtual machine should be</span>
<span class="devsite-syntax-sd">            protected against deletion or not.</span>
<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">instance_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">()</span>

    <span class="devsite-syntax-c1"># Use the network interface provided in the network_link argument.</span>
    <span class="devsite-syntax-n">network_interface</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">network_link</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">subnetwork</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">subnetwork_link</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">internal_ip</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">access</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">type_</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ONE_TO_ONE_NAT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"External NAT"</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_tier</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkTier</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PREMIUM</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">nat_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">external_ipv4</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">access_configs</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">access</span><span class="devsite-syntax-p">]</span>

    <span class="devsite-syntax-c1"># Collect information into the Instance object.</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_interfaces</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_name</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disks</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">re</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">match</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">r</span><span class="devsite-syntax-s2">"^zones/[a-z\d\-]+/machineTypes/[a-z\d\-]+$"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">):</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">machine_type</span>
    <span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/machineTypes/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">guest_accelerators</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">accelerators</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">on_host_maintenance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">OnHostMaintenance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TERMINATE</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the preemptible setting</span>
        <span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warn</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-s2">"Preemptible VMs are being replaced by Spot VMs."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-ne">DeprecationWarning</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">preemptible</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the Spot VM setting</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">provisioning_model</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ProvisioningModel</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SPOT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_termination_action</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_termination_action</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">custom_hostname</span> <span class="devsite-syntax-ow">is</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the custom hostname for the instance</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">hostname</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">custom_hostname</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the delete protection bit</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">deletion_protection</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-c1"># Prepare the request to insert an instance.</span>
    <span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">zone</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">zone</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">project</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">project_id</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_resource</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance</span>

    <span class="devsite-syntax-c1"># Wait for the create operation to complete.</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Creating the </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> instance in </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">..."</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"instance creation"</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Instance </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> created."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">)</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_from_custom_image</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">custom_image_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create a new VM instance with custom image used as its boot disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        custom_image_link: link to the custom image you want to use in the form of:</span>
<span class="devsite-syntax-sd">            "projects/{project_name}/global/images/{image_name}"</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/diskTypes/pd-standard"</span>
    <span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">disk_from_image</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">custom_image_link</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)]</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_instance</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance</span>

</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="rest_1" data-text=" REST " tabindex="-1"> REST </h3><p>The process for creating a VM with a custom image in the API
is the same as if you were creating a VM with a
<a href="#publicimage">publicly available image</a>.</p>

<p>To create the VM from a custom image, use the
<a href="/compute/docs/reference/rest/v1/instances/insert"><code translate="no" dir="ltr">instances.insert</code> method</a>.</p>

<p>

















<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>/zones/<code translate="no" dir="ltr"><var translate="no">ZONE</var></code>/instances

{
   "machineType":"zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
   "name":"<code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>",
   
   "disks":[
      {
         "initializeParams":{
            "sourceImage":"projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
         },
         "boot":true
      }
   ],
   
   
   "networkInterfaces":[
      {
         "network":"global/networks/<var translate="no">NETWORK_NAME</var>"
      }
   ],
   
  
   "shieldedInstanceConfig":{
      "enableSecureBoot":"<var translate="no">ENABLE_SECURE_BOOT</var>"
   }
}
</pre></devsite-code>



<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone containing the machine type to use for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type, <a
    href="/compute/docs/machine-resource">predefined</a>
    or <a
    href="/compute/docs/general-purpose-machines#custom_machine_types">custom</a>,
    for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a
    href="/compute/docs/naming-resources#resource-name-format">name</a>
    of the new VM</li>

  
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: name of the project that contains the custom image</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code> or <code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>:
      specify one of the following:
    <ul>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: name of your custom image.
    For example,
    <code translate="no" dir="ltr">"sourceImage": "projects/my-project-1234/global/images/my-debian-image-v2"</code>.</li>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: if you created your custom images
        as part of a <a href="/compute/docs/images#custom-families">custom image family</a>,
        specify that custom image family.

        <p>This creates the VM from the most
        recent, non-deprecated OS image in your custom image family.
        For example, if you specify
        <code translate="no" dir="ltr">"sourceImage": "projects/my-project-1234/global/images/family/my-debian-family"</code>,
        Compute Engine creates a VM from the latest version of the OS image
        in the custom <code translate="no" dir="ltr">my-debian-family</code> image family.</p></li>
   </ul>
  </li>
    
 
 
    <li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: the VPC network that you want to use
      for the VM. You can specify <code translate="no" dir="ltr">default</code> to use your default network.</li>
 
 
  <li><p><code translate="no" dir="ltr"><var translate="no">ENABLE_SECURE_BOOT</var></code>: Optional: If you chose an image that supports
   <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
    Compute Engine, by default, enables the <a
    href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual
    trusted platform module (vTPM)</a> and <a
    href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity
    monitoring</a>. Compute Engine does not enable <a
    href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure
    Boot</a> by default.</p>
    <p>If you specify <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">enableSecureBoot</code>, Compute Engine
    creates a VM with all three Shielded VM features enabled. After Compute Engine
    starts your VM, to <a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify
    Shielded VM</a> options, you must stop the VM.</p></li>
</ul>


</p></section>
</div>
<h3 id="create_a_vm_instance_with_additional_non-boot_disks" data-text="Create a VM instance with additional non-boot disks" tabindex="-1">Create a VM instance with additional non-boot disks</h3>



<p>When you create a VM, you can also create and attach additional non-boot disks
to the VM at the same time.</p>

<p>However, if you want to create a disk in multi-writer mode,
you can&#39;t create the disk at the same time that you create the VM. You must
<a href="/compute/docs/disks/add-hyperdisk">create the disk</a> first,
then you can <a href="/compute/docs/disks/attach-disks">attach it to the VM</a>.</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="console_2" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your VM. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>Optional: Change the <strong>Zone</strong> for this VM. If you select <strong>Any</strong>,
Google automatically chooses a zone for you based on machine
type and availability.</p></li>
<li><p>Select a <strong>Machine configuration</strong> for your VM.</p></li>
<li><p>In the <strong>Boot disk</strong> section, click <strong>Change</strong>, and then do the
following:</p>

<ol>
<li>In the <strong>Public images</strong> tab, choose the following:
<ul>
<li>Operating system</li>
<li>OS version</li>
<li>Boot disk type</li>
<li>Boot disk size</li>
</ul></li>
<li>Optional: For advanced configuration options, click <strong>Show advanced
configuration</strong>.</li>
<li>To confirm your boot disk options, click <strong>Select</strong>.</li>
</ol>
<aside class="note"><strong>Note:</strong><span> Unless you explicitly choose a different boot disk, if the name of
the new VM matches the name of an existing persistent disk, then
the existing persistent disk automatically attaches to the new VM
as the boot disk.</span></aside></li>
<li><p>In the <strong>Firewall</strong> section, to permit HTTP or HTTPS traffic to
the VM, select <strong>Allow HTTP
traffic</strong> or <strong>Allow HTTPS traffic</strong>. When you select one of these,
Compute Engine adds a network tag to your VM, which associates
the firewall rule with the VM. Then, Compute Engine creates the
corresponding ingress <a href="/firewall/docs/firewalls">firewall rule</a> that
allows all incoming traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or <code translate="no" dir="ltr">tcp:443</code> (HTTPS).</p></li>
<li><p>To add non-boot disks to your VM, expand the
<strong>Advanced options</strong> section, and then do the following:</p>

<ol>
<li>Expand the <strong>Disks</strong> section.</li>
<li>Click <strong>Add new disk</strong>, and then do the following:
<ol>
<li>Specify a disk <strong>Name</strong>, <strong>Type</strong>, <strong>Source type</strong>, and <strong>Size</strong>.</li>
<li>In the <strong>Attachment settings</strong> section, select disk&#39;s attachment
<strong>Mode</strong> and the <strong>Deletion rule</strong>. For more information about
adding new disks, see
<a href="/compute/docs/disks/add-persistent-disk">Add a persistent disk to your VM</a>.</li>
<li>Click <strong>Save</strong>.</li>
</ol></li>
</ol></li>
<li><p>To create and start the VM, click <strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="gcloud_2" data-text=" gcloud " tabindex="-1"> gcloud </h3><p>
</p>

<ol>
<li>








  
  
    
    <p>In the Google Cloud console, activate Cloud Shell.</p>
    <p><a
       href="https://console.cloud.google.com/?cloudshell=true"
       target="console" track-type="commonIncludes"
       track-name="consoleLink"
       track-metadata-end-goal="launchCloudShell"
       class="button button-primary">Activate Cloud Shell</a></p>
    <p>
      At the bottom of the Google Cloud console, a
      <a href="/shell/docs/how-cloud-shell-works">Cloud Shell</a>
      session starts and displays a command-line prompt. Cloud Shell is a shell environment
      with the Google Cloud CLI
      already installed and with values already set for
      your current project. It can take a few seconds for the session to initialize.
    </p>
    
  



  </li>
<li><p>Run the
<a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create</code> command</a>
to create a VM with additional non-boot disks.</p>

<p>You can add up to 127 non-boot disks while you&#39;re creating your
VM. Specify the <code translate="no" dir="ltr">--create-disk</code> flag for each non-boot disk you
create.</p>

<p>To create non-boot disks from a public or stock image, specify the <code translate="no" dir="ltr">image</code>
or <code translate="no" dir="ltr">image-family</code> and <code translate="no" dir="ltr">image-project</code> properties with the <code translate="no" dir="ltr">--create-disk</code>
flag. To create a blank disk, don&#39;t include these properties. You can optionally
include properties for the disk <code translate="no" dir="ltr">size</code> and <code translate="no" dir="ltr">type</code>. Include the property
<code translate="no" dir="ltr">replica-zones</code> to create regional persistent disks.</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create <var translate="no">VM_NAME</var> \
  --zone=<var translate="no">ZONE</var> \
  [--image=<var translate="no">IMAGE</var> | --image-family=<var translate="no">IMAGE_FAMILY</var>] \
  --image-project=<var translate="no">IMAGE_PROJECT</var> \
  --create-disk [image=<var translate="no">DISK_IMAGE</var> | image-family=<var translate="no">DISK_IMAGE_FAMILY</var> ], \
    image-project=<var translate="no">DISK_IMAGE_PROJECT</var>,size=<var translate="no">SIZE_GB</var>,type=<var translate="no">DISK_TYPE</var> \
  --create-disk device-name=<var translate="no">DISK_NAME</var>, \
    replica-zones=^:^<var translate="no">ZONE</var>:<var translate="no">REMOTE-ZONE</var>,boot=false
</pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>:
<a href="/compute/docs/naming-resources#resource-name-format">name</a>
of the new VM</li>
<li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code> or <code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>.
Specify one of the following:</p>

<ul>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: a specific version of a
public image</p>

<p>For example, <code translate="no" dir="ltr">--image=debian-10-buster-v20200309</code>.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: an
<a href="/compute/docs/images/os-details#general-info">image family</a></p>

<p>This creates the VM from the most recent, non-deprecated OS image. For
example, if you specify <code translate="no" dir="ltr">--image-family=debian-10</code>,
Compute Engine creates a VM
from the latest version of the OS image in the Debian 10 image family.</p></li>
</ul></li>
<li><p><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>:
<a href="/compute/docs/images/os-details#general-info">project</a> containing the
image</p></li>
<li><p>For additional disks, replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE</var></code> or
<code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_FAMILY</var></code>: Specify one of the following:
<ul>
<li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE</var></code>: name of the image
that you want to use as a non-boot disk</li>
<li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_FAMILY</var></code>: an image family
to use as a non-boot disk</li>
</ul></li>
<li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_PROJECT</var></code>: an image project to which the
disk image belongs</li>
<li><code translate="no" dir="ltr"><var translate="no">SIZE_GB</var></code>: Optional: size of the non-boot disk</li>
<li><p><code translate="no" dir="ltr"><var translate="no">DISK_TYPE</var></code>: Optional: full or partial URL for
the <a href="/compute/docs/disks#disk-types">type</a> of the persistent disk</p>

<p>For example, <code translate="no" dir="ltr">https://www.googleapis.com/compute/v1/projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">ZONE</var>/diskTypes/pd-ssd</code>.
To view the available disk types,
run the <a href="/sdk/gcloud/reference/compute/disk-types/list"><code translate="no" dir="ltr">gcloud compute disk-types list</code> command</a>.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">DISK_NAME</var></code>: Optional: the disk name displayed
to the guest OS after the VM is created.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">REMOTE_ZONE</var></code>: the zone where the disk should
be replicated to</p></li>
</ul>

<p>For blank disks, don&#39;t specify the
<code translate="no" dir="ltr"><var translate="no">DISK_IMAGE</var></code>,
<code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_FAMILY</var></code>, or
<code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_PROJECT</var></code> parameters.</p>

<p>For zonal disks, don&#39;t specify the disk property
<code translate="no" dir="ltr">replica-zones</code>.</p></li>
</ul></li>
</ol></section>
<section><h3 id="terraform_2" data-text=" Terraform " tabindex="-1"> Terraform </h3>



  


    To generate the Terraform code, you can use the <strong>Equivalent code</strong> component in the Google Cloud console.
    <ol>
      <li>In the Google Cloud console, go to the <strong>VM instances</strong> page.
        <p><a href="https://console.cloud.google.com/compute/instances" class="button button-primary" target="console"
          track-type="tasks" track-name="consoleLink" track-metadata-position="body"
          track-metadata-end-goal="connectToVm">Go to VM Instances</a></p></li>
      <li>Click <strong>Create instance</strong>.</li>
      <li>Specify the parameters you want.</li>
      <li>At the top or bottom of the page, click <strong>Equivalent code</strong>, and then click
       the <strong>Terraform</strong> tab to view the Terraform code.</li>
    </ol></section>
<section><h3 id="go_3" data-text=" Go " tabindex="-1"> Go </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Go</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="go"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_with_additional_disk.go"
             track-metadata-position="compute_instances_create_from_image_plus_empty_disk">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/go/docs/reference/cloud.google.com/go/compute/latest/apiv1"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="go"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_with_additional_disk.go"
     track-metadata-region-tag="compute_instances_create_from_image_plus_empty_disk">Compute Engine <span class="notranslate">Go</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_with_additional_disk.go/HEAD/compute_instances_create_from_image_plus_empty_disk" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_with_additional_disk.go" feedback-context="{&#34;language&#34;: &#34;go&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_image_plus_empty_disk&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_with_additional_disk.go&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="go" data-github-path="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_with_additional_disk.go" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_image_plus_empty_disk" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"context"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"fmt"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"io"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1/computepb"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/protobuf/proto"</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// createWithAdditionalDisk create a new VM instance with Debian 10 operating system and a 11 GB additional empty disk.</span>
<span class="devsite-syntax-kd">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createWithAdditionalDisk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">io</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Writer</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// projectID := "your_project_id"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// zone := "europe-central2-b"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// instanceName := "your_instance_name"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewInstancesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewInstancesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewImagesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewImagesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details.</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">newestDebianReq</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GetFromFamilyImageRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"debian-cloud"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Family</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-s">"debian-12"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GetFromFamily</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebianReq</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to get image from family: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InsertInstanceRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Zone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">InstanceResource</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Instance</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Disks</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">InitializeParams</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskSizeGb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Int64</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">SourceImage</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SelfLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">AutoDelete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk_PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">()),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">InitializeParams</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskSizeGb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Int64</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">11</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">   </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">AutoDelete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk_PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">()),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">MachineType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/n1-standard-1"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">NetworkInterfaces</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NetworkInterface</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"global/networks/default"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to create instance: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Wait</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">);</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to wait for the operation: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Instance created\n"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="java_3" data-text=" Java " tabindex="-1"> Java </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Java</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="java"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
             track-metadata-position="compute_instances_create_from_image_plus_empty_disk">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/java/docs/reference/google-cloud-compute/latest/overview"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="java"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
     track-metadata-region-tag="compute_instances_create_from_image_plus_empty_disk">Compute Engine <span class="notranslate">Java</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java/HEAD/compute_instances_create_from_image_plus_empty_disk" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" feedback-context="{&#34;language&#34;: &#34;java&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_image_plus_empty_disk&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="java" data-github-path="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_image_plus_empty_disk" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr">
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.api.gax.longrunning.OperationFuture</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk.Type</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDiskInitializeParams</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Image</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ImagesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InsertInstanceRequest</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Instance</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InstancesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.NetworkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Operation</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.io.IOException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.Vector</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.ExecutionException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeUnit</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeoutException</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">CreateInstancesAdvanced</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create an AttachedDisk object to be used in VM instance creation. Uses an image as the source</span>
<span class="devsite-syntax-cm">   * for the new disk.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param diskType the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)". For example:</span>
<span class="devsite-syntax-cm">   * "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-cm">   * @param diskSizeGb size of the new disk in gigabytes</span>
<span class="devsite-syntax-cm">   * @param boot boolean flag indicating whether this disk should be used as a boot disk of an</span>
<span class="devsite-syntax-cm">   * instance</span>
<span class="devsite-syntax-cm">   * @param sourceImage source image to use when creating this disk. You must have read access to</span>
<span class="devsite-syntax-cm">   * this disk. This can be one of the publicly available images or an image from one of your</span>
<span class="devsite-syntax-cm">   * projects. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-cm">   * @return AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">diskFromImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setBoot</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Remember to set auto_delete to True if you want the disk to be deleted when</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// you delete your VM instance.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setAutoDelete</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toString</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInitializeParams</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setSourceImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskSizeGb</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>


<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create an AttachedDisk object to be used in VM instance creation. The created disk contains no</span>
<span class="devsite-syntax-cm">   * data and requires formatting before it can be used.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param diskType the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)". For example:</span>
<span class="devsite-syntax-cm">   * "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-cm">   * @param diskSizeGb size of the new disk in gigabytes</span>
<span class="devsite-syntax-cm">   * @return AttachedDisk object configured to be created as an empty disk.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">emptyDisk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setBoot</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Remember to set auto_delete to True if you want the disk to be deleted when</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// you delete your VM instance.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setAutoDelete</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toString</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInitializeParams</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskSizeGb</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Send an instance creation request to the Compute Engine API and wait for it to complete.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-cm">   * @param zone name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-cm">   * @param instanceName name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-cm">   * @param disks a list of compute_v1.AttachedDisk objects describing the disks you want to attach</span>
<span class="devsite-syntax-cm">   * to your new instance.</span>
<span class="devsite-syntax-cm">   * @param machineType machine type of the VM being created. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-cm">   * For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-cm">   * @param network name of the network you want the new instance to use. For example:</span>
<span class="devsite-syntax-cm">   * "global/networks/default" represents the network named "default", which is created</span>
<span class="devsite-syntax-cm">   * automatically for each project.</span>
<span class="devsite-syntax-cm">   * @param subnetwork name of the subnetwork you want the new instance to use. This value uses the</span>
<span class="devsite-syntax-cm">   * following format: "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-cm">   * @return Instance object.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createWithDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Vector&lt;AttachedDisk&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Use the network interface provided in the networkName argument.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">setSubnetwork</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/%s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setMachineType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addAllDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addNetworkInterfaces</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Creating instance: %s at %s "</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Insert the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setProject</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setZone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInstanceResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">OperationFuture&lt;Operation</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Operation</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">insertAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Wait for the operation to complete.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">3</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeUnit</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">MINUTES</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">hasError</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Instance creation failed ! ! "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Operation Status: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getStatus</span><span class="devsite-syntax-p">());</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create a new VM instance with Debian 11 operating system and a 11 GB additional empty disk.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-cm">   * @param zone name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-cm">   * @param instanceName name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-cm">   * @return Instance object.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createWithAdditionalDisk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getFromFamily</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"debian-cloud"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"debian-11"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Vector&lt;AttachedDisk&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Vector</span>&lt;&gt;<span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskFromImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">image</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSelfLink</span><span class="devsite-syntax-p">()));</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">emptyDisk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">11</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">createWithDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s">"global/networks/default"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="node.js_3" data-text=" Node.js " tabindex="-1"> Node.js </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Node.js</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="nodejs"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js"
             track-metadata-position="compute_instances_create_from_image_plus_empty_disk">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/nodejs/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="nodejs"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js"
     track-metadata-region-tag="compute_instances_create_from_image_plus_empty_disk">Compute Engine <span class="notranslate">Node.js</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js/HEAD/compute_instances_create_from_image_plus_empty_disk" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js" feedback-context="{&#34;language&#34;: &#34;nodejs&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_image_plus_empty_disk&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="nodejs" data-github-path="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceWithAdditionalDisk.js" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_image_plus_empty_disk" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm"> * TODO(developer): Uncomment and replace these variables before running the sample.</span>
<span class="devsite-syntax-cm"> */</span>
<span class="devsite-syntax-c1">// const projectId = 'YOUR_PROJECT_ID';</span>
<span class="devsite-syntax-c1">// const zone = 'europe-central2-b';</span>
<span class="devsite-syntax-c1">// const instanceName = 'YOUR_INSTANCE_NAME';</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">require</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'@google-cloud/compute'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-c1">// Create a new VM instance with Debian 10 operating system and a 11 GB additional empty disk.</span>
<span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createWithAdditionalDisk</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InstancesClient</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ImagesClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">getFromFamily</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'debian-cloud'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">family</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'debian-11'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">insert</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">instanceResource</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">disks</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">initializeParams</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskSizeGb</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'10'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">selfLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/diskTypes/pd-standard`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">autoDelete</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">boot</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'PERSISTENT'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">initializeParams</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskSizeGb</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'11'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/diskTypes/pd-standard`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">autoDelete</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">boot</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'PERSISTENT'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/machineTypes/n1-standard-1`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">networkInterfaces</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'global/networks/default'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">latestResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ZoneOperationsClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Wait for the create operation to complete.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">status</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'DONE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">wait</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">split</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'/'</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-nx">pop</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Instance created.'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">createWithAdditionalDisk</span><span class="devsite-syntax-p">();</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="python_3" data-text=" Python " tabindex="-1"> Python </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Python</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="python"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py"
             track-metadata-position="compute_instances_create_from_image_plus_empty_disk">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/python/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="python"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py"
     track-metadata-region-tag="compute_instances_create_from_image_plus_empty_disk">Compute Engine <span class="notranslate">Python</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py/HEAD/compute_instances_create_from_image_plus_empty_disk" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py" feedback-context="{&#34;language&#34;: &#34;python&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_from_image_plus_empty_disk&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="python" data-github-path="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_start_instance/create_with_additional_disk.py" data-git-revision="HEAD" data-region-tag="compute_instances_create_from_image_plus_empty_disk" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">__future__</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">annotations</span>

<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">re</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">sys</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">typing</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">Any</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">warnings</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.api_core.extended_operation</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">ExtendedOperation</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.cloud</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">compute_v1</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Retrieve the newest image that is part of a given family in a project.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project: project ID or project number of the Cloud project you want to get image from.</span>
<span class="devsite-syntax-sd">        family: name of the image family you want to get image from.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        An Image object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">image_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-c1"># List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details</span>
    <span class="devsite-syntax-n">newest_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">image_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">newest_image</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">disk_from_image</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disk_size_gb</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">source_image</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">auto_delete</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create an AttachedDisk object to be used in VM instance creation. Uses an image as the</span>
<span class="devsite-syntax-sd">    source for the new disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">         disk_type: the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-sd">            "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)".</span>
<span class="devsite-syntax-sd">            For example: "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-sd">        disk_size_gb: size of the new disk in gigabytes</span>
<span class="devsite-syntax-sd">        boot: boolean flag indicating whether this disk should be used as a boot disk of an instance</span>
<span class="devsite-syntax-sd">        source_image: source image to use when creating this disk. You must have read access to this disk. This can be one</span>
<span class="devsite-syntax-sd">            of the publicly available images or an image from one of your projects.</span>
<span class="devsite-syntax-sd">            This value uses the following format: "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-sd">        auto_delete: boolean flag indicating whether this disk should be deleted with the VM that uses it</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">boot_disk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">source_image</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_size_gb</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_size_gb</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_type</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">initialize_params</span>
    <span class="devsite-syntax-c1"># Remember to set auto_delete to True if you want the disk to be deleted when you delete</span>
    <span class="devsite-syntax-c1"># your VM instance.</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">auto_delete</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">auto_delete</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">boot</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">boot</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">boot_disk</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">empty_disk</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">disk_size_gb</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">auto_delete</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">():</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create an AttachedDisk object to be used in VM instance creation. The created disk contains</span>
<span class="devsite-syntax-sd">    no data and requires formatting before it can be used.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">         disk_type: the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-sd">            "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)".</span>
<span class="devsite-syntax-sd">            For example: "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-sd">        disk_size_gb: size of the new disk in gigabytes</span>
<span class="devsite-syntax-sd">        boot: boolean flag indicating whether this disk should be used as a boot disk of an instance</span>
<span class="devsite-syntax-sd">        auto_delete: boolean flag indicating whether this disk should be deleted with the VM that uses it</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        AttachedDisk object configured to be created as an empty disk.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">disk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_type</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_size_gb</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_size_gb</span>
    <span class="devsite-syntax-n">disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">initialize_params</span>
    <span class="devsite-syntax-c1"># Remember to set auto_delete to True if you want the disk to be deleted when you delete</span>
    <span class="devsite-syntax-c1"># your VM instance.</span>
    <span class="devsite-syntax-n">disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">auto_delete</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">auto_delete</span>
    <span class="devsite-syntax-n">disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">boot</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">boot</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">disk</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">ExtendedOperation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"operation"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">300</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">Any</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Waits for the extended (long-running) operation to complete.</span>

<span class="devsite-syntax-sd">    If the operation is successful, it will return its result.</span>
<span class="devsite-syntax-sd">    If the operation ends with an error, an exception will be raised.</span>
<span class="devsite-syntax-sd">    If there were any warnings during the execution of the operation</span>
<span class="devsite-syntax-sd">    they will be printed to sys.stderr.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        operation: a long-running operation you want to wait on.</span>
<span class="devsite-syntax-sd">        verbose_name: (optional) a more verbose name of the operation,</span>
<span class="devsite-syntax-sd">            used only during error and warning reporting.</span>
<span class="devsite-syntax-sd">        timeout: how long (in seconds) to wait for operation to finish.</span>
<span class="devsite-syntax-sd">            If None, wait indefinitely.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Whatever the operation.result() returns.</span>

<span class="devsite-syntax-sd">    Raises:</span>
<span class="devsite-syntax-sd">        This method will raise the exception received from `operation.exception()`</span>
<span class="devsite-syntax-sd">        or RuntimeError if there is no exception set, but there is an `error_code`</span>
<span class="devsite-syntax-sd">        set for the `operation`.</span>

<span class="devsite-syntax-sd">        In case of an operation taking longer than `timeout` seconds to complete,</span>
<span class="devsite-syntax-sd">        a `concurrent.futures.TimeoutError` will be raised.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">result</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Error during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: [Code: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">]: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Operation ID: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">raise</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-ne">RuntimeError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Warnings during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">:</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">warning</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" - </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">result</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_instance</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">],</span>
    <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"global/networks/default"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AcceleratorConfig</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_termination_action</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"STOP"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">custom_hostname</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Send an instance creation request to the Compute Engine API and wait for it to complete.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        disks: a list of compute_v1.AttachedDisk objects describing the disks</span>
<span class="devsite-syntax-sd">            you want to attach to your new instance.</span>
<span class="devsite-syntax-sd">        machine_type: machine type of the VM being created. This value uses the</span>
<span class="devsite-syntax-sd">            following format: "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-sd">            For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-sd">        network_link: name of the network you want the new instance to use.</span>
<span class="devsite-syntax-sd">            For example: "global/networks/default" represents the network</span>
<span class="devsite-syntax-sd">            named "default", which is created automatically for each project.</span>
<span class="devsite-syntax-sd">        subnetwork_link: name of the subnetwork you want the new instance to use.</span>
<span class="devsite-syntax-sd">            This value uses the following format:</span>
<span class="devsite-syntax-sd">            "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-sd">        internal_ip: internal IP address you want to assign to the new instance.</span>
<span class="devsite-syntax-sd">            By default, a free address from the pool of available internal IP addresses of</span>
<span class="devsite-syntax-sd">            used subnet will be used.</span>
<span class="devsite-syntax-sd">        external_access: boolean flag indicating if the instance should have an external IPv4</span>
<span class="devsite-syntax-sd">            address assigned.</span>
<span class="devsite-syntax-sd">        external_ipv4: external IPv4 address to be assigned to this instance. If you specify</span>
<span class="devsite-syntax-sd">            an external IP address, it must live in the same region as the zone of the instance.</span>
<span class="devsite-syntax-sd">            This setting requires `external_access` to be set to True to work.</span>
<span class="devsite-syntax-sd">        accelerators: a list of AcceleratorConfig objects describing the accelerators that will</span>
<span class="devsite-syntax-sd">            be attached to the new instance.</span>
<span class="devsite-syntax-sd">        preemptible: boolean value indicating if the new instance should be preemptible</span>
<span class="devsite-syntax-sd">            or not. Preemptible VMs have been deprecated and you should now use Spot VMs.</span>
<span class="devsite-syntax-sd">        spot: boolean value indicating if the new instance should be a Spot VM or not.</span>
<span class="devsite-syntax-sd">        instance_termination_action: What action should be taken once a Spot VM is terminated.</span>
<span class="devsite-syntax-sd">            Possible values: "STOP", "DELETE"</span>
<span class="devsite-syntax-sd">        custom_hostname: Custom hostname of the new VM instance.</span>
<span class="devsite-syntax-sd">            Custom hostnames must conform to RFC 1035 requirements for valid hostnames.</span>
<span class="devsite-syntax-sd">        delete_protection: boolean value indicating if the new virtual machine should be</span>
<span class="devsite-syntax-sd">            protected against deletion or not.</span>
<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">instance_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">()</span>

    <span class="devsite-syntax-c1"># Use the network interface provided in the network_link argument.</span>
    <span class="devsite-syntax-n">network_interface</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">network_link</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">subnetwork</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">subnetwork_link</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">internal_ip</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">access</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">type_</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ONE_TO_ONE_NAT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"External NAT"</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_tier</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkTier</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PREMIUM</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">nat_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">external_ipv4</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">access_configs</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">access</span><span class="devsite-syntax-p">]</span>

    <span class="devsite-syntax-c1"># Collect information into the Instance object.</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_interfaces</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_name</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disks</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">re</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">match</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">r</span><span class="devsite-syntax-s2">"^zones/[a-z\d\-]+/machineTypes/[a-z\d\-]+$"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">):</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">machine_type</span>
    <span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/machineTypes/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">guest_accelerators</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">accelerators</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">on_host_maintenance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">OnHostMaintenance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TERMINATE</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the preemptible setting</span>
        <span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warn</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-s2">"Preemptible VMs are being replaced by Spot VMs."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-ne">DeprecationWarning</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">preemptible</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the Spot VM setting</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">provisioning_model</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ProvisioningModel</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SPOT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_termination_action</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_termination_action</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">custom_hostname</span> <span class="devsite-syntax-ow">is</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the custom hostname for the instance</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">hostname</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">custom_hostname</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the delete protection bit</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">deletion_protection</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-c1"># Prepare the request to insert an instance.</span>
    <span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">zone</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">zone</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">project</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">project_id</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_resource</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance</span>

    <span class="devsite-syntax-c1"># Wait for the create operation to complete.</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Creating the </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> instance in </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">..."</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"instance creation"</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Instance </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> created."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">)</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_with_additional_disk</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create a new VM instance with Debian 10 operating system on a 20 GB disk</span>
<span class="devsite-syntax-sd">    and a 25 GB additional empty disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">newest_debian</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"debian-cloud"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"debian-12"</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/diskTypes/pd-standard"</span>
    <span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span>
        <span class="devsite-syntax-n">disk_from_image</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">newest_debian</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">self_link</span><span class="devsite-syntax-p">),</span>
        <span class="devsite-syntax-n">empty_disk</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-mi">25</span><span class="devsite-syntax-p">),</span>
    <span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_instance</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance</span>

</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="rest_2" data-text=" REST " tabindex="-1"> REST </h3><p>You can create up to 127 non-boot disks at the time you create a
VM by using the <code translate="no" dir="ltr">initializeParams</code> property for each additional
disk. Create additional disks with a public or private image.
To add a blank disk, define the <code translate="no" dir="ltr">initializeParams</code> entry with no
<code translate="no" dir="ltr">sourceImage</code> value. Include the disk property <code translate="no" dir="ltr">replicaZones</code> to create
regional persistent disks.</p>

<p>


















<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>/zones/<code translate="no" dir="ltr"><var translate="no">ZONE</var></code>/instances

{
   "machineType":"zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
   "name":"<code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>",
   
   "disks":[
      {
         "initializeParams":{
            "sourceImage":"projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
         },
         "boot":true
      },
      {
         "initializeParams":{
            "diskSizeGb":"<var translate="no">SIZE_GB</var>",
            "sourceImage":"projects/<var translate="no">DISK_IMAGE_PROJECT</var>/global/images/<var translate="no">DISK_IMAGE</var>",
            "diskType":"<var translate="no">DISK_TYPE</var>"
         }
      },
      {
         "initializeParams":{
            "diskSizeGb":"<var translate="no">SIZE_GB</var>",
            "diskType":"<var translate="no">DISK_TYPE</var>"
         },
      },
      {
         "boot": false,
         "deviceName":"<var translate="no">DISK_NAME</var>",
         "initializeParams": {
            "diskType": "<var translate="no">DISK_TYPE</var>",
            "replicaZones": [
               "projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">ZONE</var>",
               "projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">REMOTE_ZONE</var>"
            ]
         }
      }
   ],
   
   
   "networkInterfaces":[
      {
         "network":"global/networks/<var translate="no">NETWORK_NAME</var>"
      }
   ],
   
  
   "shieldedInstanceConfig":{
      "enableSecureBoot":"<var translate="no">ENABLE_SECURE_BOOT</var>"
   }
}
</pre></devsite-code>



<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone containing the machine type to use for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type, <a
    href="/compute/docs/machine-resource">predefined</a>
    or <a
    href="/compute/docs/general-purpose-machines#custom_machine_types">custom</a>,
    for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a
    href="/compute/docs/naming-resources#resource-name-format">name</a>
    of the new VM</li>

  
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: <a
    href="/compute/docs/images#os-compute-support">project</a>
    containing the image<br>
    For example, if you specify <code translate="no" dir="ltr">debian-10</code> as the image
    family, specify <code translate="no" dir="ltr">debian-cloud</code> as the image project.</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE or IMAGE_FAMILY</var></code>: specify one of the following:<ul>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: a specific version of a public image<br>
    For example,
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/debian-10-buster-v20200309"</code></li>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: an <a
    href="/compute/docs/images/os-details#general-info">image
    family<br>
    </a>This creates the VM from the most recent, non-deprecated OS
    image. For example, if you specify
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/family/debian-10"</code>,
    Compute Engine creates a
    VM from the latest version of the OS image in the <code translate="no" dir="ltr">Debian 10</code> image family.</li>
    </ul>
   </li>
 
 
  <li>For additional disks, replace the following:<ul>
   <li><code translate="no" dir="ltr"><var translate="no">SIZE_GB</var></code>: disk size</li>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE</var></code> or</li>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_FAMILY</var></code>: Specify either a source image or image family for
   the non-boot disk: <ul>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE</var></code>: name of the image that you want to use as a non-boot disk
   For example,
   <code translate="no" dir="ltr">"sourceImage": "projects/<var translate="no">DISK_IMAGE_PROJECT</var>/global/images/<var translate="no">DISK_IMAGE</var>"</code>.</li>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_IMAGE_FAMILY</var></code>: an image family to use as a non-boot disk
   For example,
   <code translate="no" dir="ltr">"sourceImage": "projects/<var translate="no">DISK_IMAGE_PROJECT</var>/global/images/family/<var translate="no">DISK_IMAGE_FAMILY</var>"</code>.</li>
   </ul>
   </li>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_TYPE</var></code>: full or partial URL for the
   <a href="/compute/docs/disks#disk-types">type</a> of the persistent disk.
   For example, <code translate="no" dir="ltr">https://www.googleapis.com/compute/v1/projects/<var translate="no">PROJECT_ID</var>/zones/<var translate="no">ZONE</var>/diskTypes/pd-ssd</code>.
   </li>
   <li><code translate="no" dir="ltr"><var translate="no">DISK_NAME</var></code>: Optional. The disk name displayed to
      the guest OS after the VM is created.</li>
   <li><code translate="no" dir="ltr"><var translate="no">REMOTE_ZONE</var></code>: the zone to replicate the regional disk to</li>

   For blank disks, don't specify the <code translate="no" dir="ltr">sourceImage</code> property. For zonal disks, don't
   specify the <code translate="no" dir="ltr">replicaZones</code> property.
 </ul></li>
 
 
    <li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: the VPC network that you want to use
      for the VM. You can specify <code translate="no" dir="ltr">default</code> to use your default network.</li>
 
 
  <li><p><code translate="no" dir="ltr"><var translate="no">ENABLE_SECURE_BOOT</var></code>: Optional: If you chose an image that supports
   <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
    Compute Engine, by default, enables the <a
    href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual
    trusted platform module (vTPM)</a> and <a
    href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity
    monitoring</a>. Compute Engine does not enable <a
    href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure
    Boot</a> by default.</p>
    <p>If you specify <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">enableSecureBoot</code>, Compute Engine
    creates a VM with all three Shielded VM features enabled. After Compute Engine
    starts your VM, to <a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify
    Shielded VM</a> options, you must stop the VM.</p></li>
</ul>


</p></section>
</div>
<p><a href="/compute/docs/disks/format-mount-disk-linux">Format and mount</a>
the disks before using them.</p>

<h3 id="sharedimage" data-text="Create a VM instance from a shared image" tabindex="-1">Create a VM instance from a shared image</h3>

<p>If another user has
<a href="/compute/docs/images/managing-access-custom-images">shared an image with you</a>,
you can use the image to create a VM.</p>

<devsite-selector>
  <section>
    <h3 id="console_3" data-text="Console" tabindex="-1">Console</h3>
    <ol>
      <li><p> In the Google Cloud console, go to the <b>Create an instance</b> page.</p>
       <p><a href="https://console.cloud.google.com/compute/instancesAdd" class="button button-primary" target="console"
             track-type="tasks" track-name="consoleLink" track-metadata-position="body"
             track-metadata-end-goal="createInstancePTR">Go to Create an instance</a></p>
      <li>Specify a <b>Name</b> for your VM. For more information, see <a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</li>
      <li>Optional: Change the <b>Zone</b> for this VM. If you select <strong>Any</strong>,
        Google automatically chooses a zone for you based on machine
        type and availability.</li>
    <li>Select a <b>Machine configuration</b> for your VM.</li>
      <li>In the <b>Boot disk</b> section, click <b>Change</b> to configure your boot disk, and then do the following: </li>
        <ol>
          <li>Select the <b>Custom Images</b> tab.</li>
          <li>To select the image project, click <strong>Select a project</strong>, and then do the following:
          <ol>
            <li>Select the project that contains the image.</li>
            <li>Click <strong>Open</strong>.</li>
            </ol></li>
          <li>In the <strong>Image</strong> list, click the image that you want to import.</li>
          <li>Select the type and size of your boot disk.</li>
      <li>To confirm your boot disk options, click <strong>Select</strong>.</li></ol>
    <li><p>To permit HTTP or HTTPS traffic to the VM, in the <b>Firewall</b> section, select
        <b>Allow HTTP traffic</b> or <b>Allow HTTPS traffic</b>.</p>
      <p>
        The Google Cloud console adds a network tag to your VM and creates the corresponding
        ingress firewall rule that allows all incoming traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or
        <code translate="no" dir="ltr">tcp:443</code> (HTTPS). The network tag associates the firewall rule with the VM.
        For more information, see <a href="/firewall/docs/firewalls">Firewall rules overview</a>
        in the Cloud Next Generation Firewall documentation.
      </p>
    </li>

<li>To start and create a VM, click <b>Create</b>.</li></ol>

  </section>
  <section>
    <h3 id="gcloud_3" data-text="gcloud" tabindex="-1">gcloud</h3>
    <ol>
      
      <li>








  
  
    
    <p>In the Google Cloud console, activate Cloud Shell.</p>
    <p><a
       href="https://console.cloud.google.com/?cloudshell=true"
       target="console" track-type="commonIncludes"
       track-name="consoleLink"
       track-metadata-end-goal="launchCloudShell"
       class="button button-primary">Activate Cloud Shell</a></p>
    <p>
      At the bottom of the Google Cloud console, a
      <a href="/shell/docs/how-cloud-shell-works">Cloud Shell</a>
      session starts and displays a command-line prompt. Cloud Shell is a shell environment
      with the Google Cloud CLI
      already installed and with values already set for
      your current project. It can take a few seconds for the session to initialize.
    </p>
    
  



  </li>
      <li>
        <p> Create a VM by using the <a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create command</code></a>,
        and use the <code translate="no" dir="ltr">--image</code> and <code translate="no" dir="ltr">--image-project</code> flags to specify the image name
        and the project where the image resides:
        </p>
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>gcloud compute instances create <var translate="no">VM_NAME</var> \
        --image=<var translate="no">IMAGE</var> \
        --image-project=<var translate="no">IMAGE_PROJECT</var>
    </pre></devsite-code>

    <p>Replace the following:</p>

    <ul>
      <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a href="/compute/docs/naming-resources#resource-name-format">name</a> for the new
      VM</li>
      <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: name of the image</li>
      <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: project to which the image belongs</li>
    </ul>

    <p>
      If the command is successful, <code translate="no" dir="ltr">gcloud</code> responds with the properties of
    the new VM:
    </p>
    <div></div><devsite-code><pre class="devsite-disable-click-to-copy" translate="no" dir="ltr" is-upgraded>
    Created [https://compute.googleapis.com/compute/v1/projects/myproject/zones/us-central1-b/instances/example-instance].
    NAME                 ZONE           MACHINE_TYPE   PREEMPTIBLE  INTERNAL_IP  EXTERNAL_IP    STATUS
    example-instance     us-central1-b  e2-standard-2               10.240.0.4   104.198.53.60  RUNNING</pre></devsite-code>

  </section>
  <section>
    <h3 id="terraform_3" data-text="Terraform" tabindex="-1">Terraform</h3>
    
    



  


    <p>The process for creating a VM with a shared image in
      Terraform is the same as if you were creating a VM with a publicly available image.</p>
    
    <ol>
      <li>In the Google Cloud console, go to the <strong>VM instances</strong> page.
        <p><a href="https://console.cloud.google.com/compute/instances" class="button button-primary" target="console"
          track-type="tasks" track-name="consoleLink" track-metadata-position="body"
          track-metadata-end-goal="connectToVm">Go to VM Instances</a></p></li>
      <li>Click <strong>Create instance</strong>.</li>
      <li>Specify the parameters you want.</li>
      <li>At the top or bottom of the page, click <strong>Equivalent code</strong>, and then click
       the <strong>Terraform</strong> tab to view the Terraform code.</li>
    </ol>
  </section>
  <section>
    <h3 id="rest_3" data-text="REST" tabindex="-1">REST</h3>
    <p>The process for creating a VM with a shared image in the API is the same as if you were
        creating a VM with a publicly available image.

        To create the VM from a shared image, use the
        <a href="/compute/docs/reference/rest/v1/instances/insert"><code translate="no" dir="ltr">instances.insert</code> method</a>.

        <p>
          
          
          
          
          
          













<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>/zones/<code translate="no" dir="ltr"><var translate="no">ZONE</var></code>/instances

{
   "machineType":"zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
   "name":"<code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>",
   
   "disks":[
      {
         "initializeParams":{
            "sourceImage":"projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
         },
         "boot":true
      }
   ],
   
   
   "networkInterfaces":[
      {
         "network":"global/networks/<var translate="no">NETWORK_NAME</var>"
      }
   ],
   
  
   "shieldedInstanceConfig":{
      "enableSecureBoot":"<var translate="no">ENABLE_SECURE_BOOT</var>"
   }
}
</pre></devsite-code>



<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone containing the machine type to use for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type, <a
    href="/compute/docs/machine-resource">predefined</a>
    or <a
    href="/compute/docs/general-purpose-machines#custom_machine_types">custom</a>,
    for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a
    href="/compute/docs/naming-resources#resource-name-format">name</a>
    of the new VM</li>

  
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: name of the project that contains the shared image</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code> or <code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>:
      specify one of the following:
   <ul>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: name of the shared image.
    For example,
    <code translate="no" dir="ltr">"sourceImage": "projects/finance-project-1234/global/images/finance-debian-image-v2"</code>.</li>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: if the shared image is created
        as part of a <a href="/compute/docs/images#custom-families">custom image family</a>,
        specify that custom image family.

        <p>This creates the VM from the most
        recent, non-deprecated OS image in your custom image family.
        For example, if you specify
        <code translate="no" dir="ltr">"sourceImage": "projects/finance-project-1234/global/images/family/finance-debian-family"</code>,
        Compute Engine creates a VM from the latest version of the OS image
        in the custom <code translate="no" dir="ltr">finance-debian-family</code> image family.</p></li>
     </ul>
    </li>
  
 
 
    <li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: the VPC network that you want to use
      for the VM. You can specify <code translate="no" dir="ltr">default</code> to use your default network.</li>
 
 
  <li><p><code translate="no" dir="ltr"><var translate="no">ENABLE_SECURE_BOOT</var></code>: Optional: If you chose an image that supports
   <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
    Compute Engine, by default, enables the <a
    href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual
    trusted platform module (vTPM)</a> and <a
    href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity
    monitoring</a>. Compute Engine does not enable <a
    href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure
    Boot</a> by default.</p>
    <p>If you specify <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">enableSecureBoot</code>, Compute Engine
    creates a VM with all three Shielded VM features enabled. After Compute Engine
    starts your VM, to <a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify
    Shielded VM</a> options, you must stop the VM.</p></li>
</ul>



        </p>
      </li>
    </ol>
  </section>
</devsite-selector>

<h2 id="createsnapshot" data-text="Create a VM from a snapshot" tabindex="-1">Create a VM from a snapshot</h2>

<p>You can create a new VM from a snapshot in the following ways:</p>

<ul>
<li><p><strong>Restoring a VM boot disk:</strong> If you backed up a VM&#39;s boot disk with a <a href="/compute/docs/disks/create-snapshots">snapshot</a>,
you can use that snapshot to create a new VM. For instructions, see
<a href="/compute/docs/disks/restore-snapshot#create-vm-boot-disk">Restoring a boot disk snapshot to a new VM</a>.</p></li>
<li><p><strong>Restoring a non-boot disk:</strong> If you backed up a non-boot disk with a
snapshot, you can restore the snapshot to a new non-boot disk when you create
a VM. For instructions, see <a href="/compute/docs/disks/restore-snapshot#create-vm-nonboot-disk">Creating a VM with a non-boot disk based on a
snapshot</a>.</p></li>
</ul>

<p>To quickly create more than one VM with the same boot disk, <a href="/compute/docs/images/create-delete-deprecate-private-images">create a custom
image</a>, then
<a href="#create_a_vm_from_a_custom_image">create VMs from that image</a> instead of using
a snapshot.</p>

<h2 id="from-container-image" data-text="Create a VM instance from a container image" tabindex="-1">Create a VM instance from a container image</h2>

<p>To deploy and launch a container on a Compute Engine VM, specify
a container image name and optional configuration parameters when you
create the VM. Compute Engine creates the VM by using the
latest version of the
<a href="/container-optimized-os/docs">Container-optimized OS public image</a>, which has
Docker installed. Then, Compute Engine launches the container when
the VM starts. For more information, see
<a href="/compute/docs/containers/deploying-containers">Deploying containers on VMs</a>.</p>

<p>To create a VM from a container image, you must use the Google Cloud console or <code translate="no" dir="ltr">gcloud</code>.</p>
<div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="console_4" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your VM. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>In the <strong>Container</strong> section, click <strong>Deploy container</strong>.</p>

<ol>
<li><p>Specify the <strong>Container image</strong> to use. For example:</p>

<ul>
<li><p>To select an NGINX 1.12 container image from Cloud Launcher:</p>

<p><code translate="no" dir="ltr">gcr.io/cloud-marketplace/google/nginx1:1.12</code></p></li>
<li><p>To deploy an Apache container image from Docker Hub, always specify
the full Docker image name:</p>

<p><code translate="no" dir="ltr">docker.io/httpd:2.4</code></p></li>
</ul></li>
<li><p>Optional: Click <strong>Advanced container options</strong>. For more information,
see
<a href="/compute/docs/containers/configuring-options-to-run-containers">Configuring options to run your container</a>.</p></li>
</ol></li>
<li><p>To create the VM, boot the VM, and launch the container, click
<strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="gcloud_4" data-text=" gcloud " tabindex="-1"> gcloud </h3><p>
</p>

<ol>
<li>








  
  
    
    <p>In the Google Cloud console, activate Cloud Shell.</p>
    <p><a
       href="https://console.cloud.google.com/?cloudshell=true"
       target="console" track-type="commonIncludes"
       track-name="consoleLink"
       track-metadata-end-goal="launchCloudShell"
       class="button button-primary">Activate Cloud Shell</a></p>
    <p>
      At the bottom of the Google Cloud console, a
      <a href="/shell/docs/how-cloud-shell-works">Cloud Shell</a>
      session starts and displays a command-line prompt. Cloud Shell is a shell environment
      with the Google Cloud CLI
      already installed and with values already set for
      your current project. It can take a few seconds for the session to initialize.
    </p>
    
  



  </li>
<li><p>Run the
<a href="/sdk/gcloud/reference/compute/instances/create-with-container"><code translate="no" dir="ltr">gcloud compute instances create-with-container</code> command</a>:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create-with-container <var translate="no">VM_NAME</var> \
  --container-image=<var translate="no">CONTAINER_IMAGE</var></pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>:
<a href="/compute/docs/naming-resources#resource-name-format">name</a> for the new
VM.</li>
<li><code translate="no" dir="ltr"><var translate="no">CONTAINER_IMAGE</var></code>: name of the container image.</li>
</ul>

<p>For example, the following command creates a VM named
<code translate="no" dir="ltr">nginx-vm</code>, which launches and runs the container image:</p>

<p><code translate="no" dir="ltr">gcr.io/cloud-marketplace/google/nginx1:1.12</code></p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create-with-container nginx-vm \
  --container-image=gcr.io/cloud-marketplace/google/nginx1:1.12</pre></devsite-code>

<p>To deploy an Apache container image from Docker Hub, always specify
the full Docker image name:</p>

<p><code translate="no" dir="ltr">docker.io/httpd:2.4</code>.</p></li>
</ol></section>
</div>
<h2 id="create_a_vm_instance_in_a_specific_subnet" data-text="Create a VM instance in a specific subnet" tabindex="-1">Create a VM instance in a specific subnet</h2>



<p>By default, Google Cloud creates an
<a href="/vpc/docs/vpc#default-network">auto mode VPC network</a> called <code translate="no" dir="ltr">default</code> for each
project. To use a different network or a subnet that you manually created in an
auto mode or custom mode VPC network, you must specify the subnet when you
create the VM.</p>

<p>While creating a VM in a subnet, consider these rules:</p>

<ul>
<li>If you don&#39;t specify a network or subnet, Compute Engine
uses the default VPC network and the auto subnet that&#39;s in the same region as the VM.</li>
<li>If you don&#39;t specify a network, Compute Engine infers the network
from the subnet specified.</li>
<li>If you specify a network, you must specify a subnet and it must belong
to the same network. Otherwise, VM creation fails.</li>
</ul>
<aside class="note"><strong>Note:</strong><span> You must create the subnet that you want to use before you create the
VM. For more information, see
<a href="/vpc/docs/create-modify-vpc-networks">Create and manage VPC networks</a>.</span></aside><div class="ds-selector-tabs" data-ds-scope="code-sample">
<section><h3 id="console_5" data-text=" Console " tabindex="-1"> Console </h3><ol>
<li><p>In the Google Cloud console, go to the <strong>VM instances</strong> page.</p>

<p><a href="https://console.cloud.google.com/compute/instances" 
class="button button-primary" target="console" track-type="tasks" track-name="consoleLink" track-metadata-position="body" track-metadata-end-goal="viewInstance">Go to VM instances</a> </p></li>
<li><p>Select your project and click <strong>Continue</strong>.</p></li>
<li><p>Click <strong>Create instance</strong>.</p></li>
<li><p>Specify a <strong>Name</strong> for your VM. For more information, see
<a href="/compute/docs/naming-resources#resource-name-format">Resource naming convention</a>.</p></li>
<li><p>Optional: Change the <strong>Zone</strong> for this VM. If you select <strong>Any</strong>,
Google automatically chooses a zone for you based on machine
type and availability.</p></li>
<li><p>In the <strong>Firewall</strong> section, to permit HTTP or HTTPS traffic to
the VM, select <strong>Allow HTTP traffic</strong> or <strong>Allow HTTPS traffic</strong>.</p>

<p>The Google Cloud console adds a network tag to your VM and
creates the corresponding ingress firewall rule that allows all
incoming traffic on <code translate="no" dir="ltr">tcp:80</code> (HTTP) or <code translate="no" dir="ltr">tcp:443</code> (HTTPS). The network
tag associates the firewall rule with the VM. For more
information, see <a href="/firewall/docs/firewalls">Firewall rules overview</a> in
the Cloud NGFW documentation.</p></li>
<li><p>Expand the <strong>Advanced options</strong> section.</p>

<ol>
<li>Expand the <strong>Networking</strong> section.</li>
<li>For <strong>Network interfaces</strong>, specify the network details:
<ol>
<li>In the <strong>Network</strong> field, select the VPC network that contains
the subnet you created.</li>
<li>In the <strong>Subnet</strong> field, select the subnet for the VM to
use.</li>
<li>Click <strong>Done</strong>.</li>
</ol></li>
</ol></li>
<li><p>To create and start the VM, click <strong>Create</strong>.</p></li>
</ol></section>
<section><h3 id="gcloud_5" data-text=" gcloud " tabindex="-1"> gcloud </h3><p>
</p>

<ol>
<li>








  
  
    
    <p>In the Google Cloud console, activate Cloud Shell.</p>
    <p><a
       href="https://console.cloud.google.com/?cloudshell=true"
       target="console" track-type="commonIncludes"
       track-name="consoleLink"
       track-metadata-end-goal="launchCloudShell"
       class="button button-primary">Activate Cloud Shell</a></p>
    <p>
      At the bottom of the Google Cloud console, a
      <a href="/shell/docs/how-cloud-shell-works">Cloud Shell</a>
      session starts and displays a command-line prompt. Cloud Shell is a shell environment
      with the Google Cloud CLI
      already installed and with values already set for
      your current project. It can take a few seconds for the session to initialize.
    </p>
    
  



  </li>
<li><p>Using the Google Cloud CLI, follow the same instructions to
<a href="#startinginstancewithimage">create a VM from an image</a> or a
<a href="#createsnapshot">snapshot</a>, and add the <code translate="no" dir="ltr">--subnet=<var translate="no">SUBNET_NAME</var></code>
and <code translate="no" dir="ltr">--zone=<var translate="no">ZONE</var></code> flags when you run the
<a href="/sdk/gcloud/reference/compute/instances/create"><code translate="no" dir="ltr">gcloud compute instances create</code> command</a>:</p>

<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
gcloud compute instances create <var translate="no">VM_NAME</var> \
  --network=<var translate="no">NETWORK_NAME</var> \
  --subnet=<var translate="no">SUBNET_NAME</var> \
  --zone=<var translate="no">ZONE</var></pre></devsite-code>

<p>Replace the following:</p>

<ul>
<li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>:
<a href="/compute/docs/naming-resources#resource-name-format">name</a> of the
VM</li>
<li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: Optional: name of the network</li>
<li><p><code translate="no" dir="ltr"><var translate="no">SUBNET_NAME</var></code>: name of the subnet</p>

<p>To view a list of
subnets in the network, use the <a href="/sdk/gcloud/reference/compute/networks/list"><code translate="no" dir="ltr">gcloud compute networks subnets list</code> command</a>.</p></li>
<li><p><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone where the VM is created,
such as <code translate="no" dir="ltr">europe-west1-b</code></p>

<p>The VM&#39;s region is inferred from the zone.</p></li>
</ul></li>
</ol></section>
<section><h3 id="terraform_4" data-text="Terraform" tabindex="-1">Terraform</h3><p>To create a VM in a specific subnet, you can use the <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_instance"><code translate="no" dir="ltr">google_compute_instance</code>
resource</a>.</p>























  
  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  

















  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy"
       
       track-metadata-position="terraform-google-modules/terraform-docs-samples/compute/basic_vm/main.tf/main/compute_instances_create_with_subnet"
       
       data-code-snippet="true"
       data-github-includecode-link="https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/basic_vm/main.tf"
       
       feedback-context="{&#34;language&#34;: &#34;terraform&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_with_subnet&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/basic_vm/main.tf&#34;}"
       feedback-product="1634365"
       feedback-bucket="infraops"
       
       
       language="terraform"
       
       
       
       
       data-github-path="terraform-google-modules/terraform-docs-samples/compute/basic_vm/main.tf"
       
       
       data-git-revision="main"
       
       
       data-region-tag="compute_instances_create_with_subnet"
       
       
       
       
        dir="ltr" is-upgraded><code translate="no" dir="ltr">
# Create a VM in a custom VPC network and subnet

resource &quot;google_compute_instance&quot; &quot;custom_subnet&quot; {
  name         = &quot;my-vm-instance&quot;
  tags         = [&quot;allow-ssh&quot;]
  zone         = &quot;europe-west1-b&quot;
  machine_type = &quot;e2-small&quot;
  network_interface {
    network    = google_compute_network.custom.id
    subnetwork = google_compute_subnetwork.custom.id
  }
  boot_disk {
    initialize_params {
      image = &quot;debian-cloud/debian-12&quot;
    }
  }
}</code></pre></devsite-code>
</div>




























<p>To learn how to apply or remove a Terraform configuration, see
<a href="/docs/terraform/basic-commands">Basic Terraform commands</a>.</p>





  


    <p>The process for creating a VM with a shared image in
      Terraform is the same as if you were creating a VM with a publicly available image.</p>
    
    <ol>
      <li>In the Google Cloud console, go to the <strong>VM instances</strong> page.
        <p><a href="https://console.cloud.google.com/compute/instances" class="button button-primary" target="console"
          track-type="tasks" track-name="consoleLink" track-metadata-position="body"
          track-metadata-end-goal="connectToVm">Go to VM Instances</a></p></li>
      <li>Click <strong>Create instance</strong>.</li>
      <li>Specify the parameters you want.</li>
      <li>At the top or bottom of the page, click <strong>Equivalent code</strong>, and then click
       the <strong>Terraform</strong> tab to view the Terraform code.</li>
    </ol></section>
<section><h3 id="go_4" data-text=" Go " tabindex="-1"> Go </h3>






  
  



  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Go</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="go"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_with_subnet.go"
             track-metadata-position="compute_instances_create_with_subnet">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/go/docs/reference/cloud.google.com/go/compute/latest/apiv1"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="go"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/golang-samples/blob//compute/instances/create-start-instance/create_instance_with_subnet.go"
     track-metadata-region-tag="compute_instances_create_with_subnet">Compute Engine <span class="notranslate">Go</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_with_subnet.go/HEAD/compute_instances_create_with_subnet" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_with_subnet.go" feedback-context="{&#34;language&#34;: &#34;go&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_with_subnet&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/compute/instances/create-start-instance/create_instance_with_subnet.go&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="go" data-github-path="GoogleCloudPlatform/golang-samples/compute/instances/create-start-instance/create_instance_with_subnet.go" data-git-revision="HEAD" data-region-tag="compute_instances_create_with_subnet" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"context"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"fmt"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"io"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"cloud.google.com/go/compute/apiv1/computepb"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"google.golang.org/protobuf/proto"</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// createInstanceWithSubnet creates a new VM instance with Debian 10 operating system in specified network and subnetwork.</span>
<span class="devsite-syntax-kd">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstanceWithSubnet</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">io</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Writer</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">networkLink</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subnetworkLink</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">error</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// projectID := "your_project_id"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// zone := "europe-central2-b"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// instanceName := "your_instance_name"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// networkLink := "global/networks/default"</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// subnetworkLink := "regions/region/subnetworks/subnetwork_name"</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewInstancesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewInstancesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewImagesRESTClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"NewImagesRESTClient: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">defer</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Close</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-c1">// List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details.</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">newestDebianReq</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GetFromFamilyImageRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"debian-cloud"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Family</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-s">"debian-12"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GetFromFamily</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebianReq</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to get image from family: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InsertInstanceRequest</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Project</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectID</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Zone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">InstanceResource</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Instance</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Disks</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">InitializeParams</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskSizeGb</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Int64</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">SourceImage</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SelfLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">						</span><span class="devsite-syntax-nx">DiskType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/diskTypes/pd-standard"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">AutoDelete</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Boot</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Bool</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">AttachedDisk_PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">()),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">MachineType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/n1-standard-1"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">NetworkInterfaces</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">computepb</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NetworkInterface</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">       </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">networkLink</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">					</span><span class="devsite-syntax-nx">Subnetwork</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">proto</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">subnetworkLink</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">req</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to create instance: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">op</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Wait</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">);</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unable to wait for the operation: %w"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">w</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Instance created\n"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="java_4" data-text=" Java " tabindex="-1"> Java </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Java</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="java"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
             track-metadata-position="compute_instances_create_with_subnet">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/java/docs/reference/google-cloud-compute/latest/overview"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="java"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/java-docs-samples/blob//compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java"
     track-metadata-region-tag="compute_instances_create_with_subnet">Compute Engine <span class="notranslate">Java</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java/HEAD/compute_instances_create_with_subnet" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" feedback-context="{&#34;language&#34;: &#34;java&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_with_subnet&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="java" data-github-path="GoogleCloudPlatform/java-docs-samples/compute/cloud-client/src/main/java/compute/CreateInstancesAdvanced.java" data-git-revision="HEAD" data-region-tag="compute_instances_create_with_subnet" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr">
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.api.gax.longrunning.OperationFuture</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDisk.Type</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.AttachedDiskInitializeParams</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Image</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.ImagesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InsertInstanceRequest</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Instance</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.InstancesClient</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.NetworkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.google.cloud.compute.v1.Operation</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.io.IOException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.Vector</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.ExecutionException</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeUnit</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">java.util.concurrent.TimeoutException</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">CreateInstancesAdvanced</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Create an AttachedDisk object to be used in VM instance creation. Uses an image as the source</span>
<span class="devsite-syntax-cm">   * for the new disk.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param diskType the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)". For example:</span>
<span class="devsite-syntax-cm">   * "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-cm">   * @param diskSizeGb size of the new disk in gigabytes</span>
<span class="devsite-syntax-cm">   * @param boot boolean flag indicating whether this disk should be used as a boot disk of an</span>
<span class="devsite-syntax-cm">   * instance</span>
<span class="devsite-syntax-cm">   * @param sourceImage source image to use when creating this disk. You must have read access to</span>
<span class="devsite-syntax-cm">   * this disk. This can be one of the publicly available images or an image from one of your</span>
<span class="devsite-syntax-cm">   * projects. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-cm">   * @return AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">diskFromImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setBoot</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Remember to set auto_delete to True if you want the disk to be deleted when</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// you delete your VM instance.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setAutoDelete</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">PERSISTENT</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toString</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInitializeParams</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setSourceImage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sourceImage</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskSizeGb</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskSizeGb</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setDiskType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">diskType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disk</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>


<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * Send an instance creation request to the Compute Engine API and wait for it to complete.</span>
<span class="devsite-syntax-cm">   *</span>
<span class="devsite-syntax-cm">   * @param project project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-cm">   * @param zone name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-cm">   * @param instanceName name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-cm">   * @param disks a list of compute_v1.AttachedDisk objects describing the disks you want to attach</span>
<span class="devsite-syntax-cm">   * to your new instance.</span>
<span class="devsite-syntax-cm">   * @param machineType machine type of the VM being created. This value uses the following format:</span>
<span class="devsite-syntax-cm">   * "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-cm">   * For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-cm">   * @param network name of the network you want the new instance to use. For example:</span>
<span class="devsite-syntax-cm">   * "global/networks/default" represents the network named "default", which is created</span>
<span class="devsite-syntax-cm">   * automatically for each project.</span>
<span class="devsite-syntax-cm">   * @param subnetwork name of the subnetwork you want the new instance to use. This value uses the</span>
<span class="devsite-syntax-cm">   * following format: "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-cm">   * @return Instance object.</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">createWithDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Vector&lt;AttachedDisk&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-kd">throws</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">IOException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InterruptedException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ExecutionException</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeoutException</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Use the network interface provided in the networkName argument.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">setSubnetwork</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">subnetwork</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">network</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">format</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"zones/%s/machineTypes/%s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setMachineType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">machineType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addAllDisks</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addNetworkInterfaces</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">networkInterface</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Creating instance: %s at %s "</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Insert the instance in the specified project and zone.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setProject</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setZone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setInstanceResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">instanceResource</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">OperationFuture&lt;Operation</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Operation</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">insertAsync</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">insertInstanceRequest</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Wait for the operation to complete.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">Operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">3</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TimeUnit</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">MINUTES</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">hasError</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Instance creation failed ! ! "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Operation Status: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getStatus</span><span class="devsite-syntax-p">());</span>

<span class="devsite-syntax-w">      </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">instanceName</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="node.js_4" data-text=" Node.js " tabindex="-1"> Node.js </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Node.js</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="nodejs"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceWithSubnet.js"
             track-metadata-position="compute_instances_create_with_subnet">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/nodejs/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="nodejs"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob//compute/instances/create-start-instance/createInstanceWithSubnet.js"
     track-metadata-region-tag="compute_instances_create_with_subnet">Compute Engine <span class="notranslate">Node.js</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceWithSubnet.js/HEAD/compute_instances_create_with_subnet" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceWithSubnet.js" feedback-context="{&#34;language&#34;: &#34;nodejs&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_with_subnet&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/compute/instances/create-start-instance/createInstanceWithSubnet.js&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="nodejs" data-github-path="GoogleCloudPlatform/nodejs-docs-samples/compute/instances/create-start-instance/createInstanceWithSubnet.js" data-git-revision="HEAD" data-region-tag="compute_instances_create_with_subnet" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm"> * TODO(developer): Uncomment and replace these variables before running the sample.</span>
<span class="devsite-syntax-cm"> */</span>
<span class="devsite-syntax-c1">// const projectId = 'YOUR_PROJECT_ID';</span>
<span class="devsite-syntax-c1">// const zone = 'europe-central2-b';</span>
<span class="devsite-syntax-c1">// const instanceName = 'YOUR_INSTANCE_NAME';</span>
<span class="devsite-syntax-c1">// const networkLink = 'global/networks/default';</span>
<span class="devsite-syntax-c1">// const subnetworkLink = 'regions/europe-central2/subnetworks/default';</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">require</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'@google-cloud/compute'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-c1">// Creates a new VM instance with Debian 10 operating system in specified network and subnetwork.</span>
<span class="devsite-syntax-k">async</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createInstanceWithSubnet</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">InstancesClient</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ImagesClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">imagesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">getFromFamily</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'debian-cloud'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">family</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'debian-11'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instancesClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">insert</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">instanceResource</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">instanceName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">disks</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">initializeParams</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskSizeGb</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'10'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">sourceImage</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">newestDebian</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">selfLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">diskType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/diskTypes/pd-standard`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">autoDelete</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">boot</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'PERSISTENT'</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">machineType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-sb">`zones/</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-sb">/machineTypes/n1-standard-1`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">networkInterfaces</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">networkLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">subnetwork</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subnetworkLink</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">latestResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">compute</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ZoneOperationsClient</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Wait for the create operation to complete.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">status</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'DONE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operationsClient</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">wait</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">project</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">projectId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">operation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">zone</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">split</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'/'</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-nx">pop</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Instance created.'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">createInstanceWithSubnet</span><span class="devsite-syntax-p">();</span></code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="python_4" data-text=" Python " tabindex="-1"> Python </h3>






  
  



  
  
  
    
  




  



  







  
    
  



  


<section>
  
  
    
    <p>
      
        
          Before trying this sample, follow the <span class="notranslate">Python</span> setup instructions in the
          <a href="/compute/docs/api/using-libraries"
             track-type="clientLibrariesQuickstart"
             track-name="python"
             track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_with_subnet.py"
             track-metadata-position="compute_instances_create_with_subnet">Compute Engine quickstart using
            client libraries</a>.
        
      
      
  For more information, see the
  <a href="/python/docs/reference/compute/latest"
     
     track-type="clientLibrariesUsage"
     track-name="clientLibrariesLink"
     track-metadata-lang="python"
     track-metadata-snippet-file-url="https://github.com/GoogleCloudPlatform/python-docs-samples/blob//compute/client_library/snippets/instances/create_with_subnet.py"
     track-metadata-region-tag="compute_instances_create_with_subnet">Compute Engine <span class="notranslate">Python</span> API
    reference documentation</a>.
  
    </p>
    <p>
      To authenticate to Compute Engine, set up Application Default Credentials.
      For more information, see
      
        <a href="/docs/authentication/provide-credentials-adc#local-dev">Set up authentication for a local development environment</a>.
      
    </p>
      






    
  
  
  
  





















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  




  




  



  

  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_with_subnet.py/HEAD/compute_instances_create_with_subnet" data-code-snippet="true" data-github-includecode-link="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_with_subnet.py" feedback-context="{&#34;language&#34;: &#34;python&#34;, &#34;region_tag&#34;: &#34;compute_instances_create_with_subnet&#34;, &#34;snippet_file_url&#34;: &#34;https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/compute/client_library/snippets/instances/create_with_subnet.py&#34;}" feedback-product="1634365" feedback-bucket="infraops" language="python" data-github-path="GoogleCloudPlatform/python-docs-samples/compute/client_library/snippets/instances/create_with_subnet.py" data-git-revision="HEAD" data-region-tag="compute_instances_create_with_subnet" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">__future__</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">annotations</span>

<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">re</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">sys</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">typing</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">Any</span>
<span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-nn">warnings</span>

<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.api_core.extended_operation</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">ExtendedOperation</span>
<span class="devsite-syntax-kn">from</span> <span class="devsite-syntax-nn">google.cloud</span> <span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">compute_v1</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Retrieve the newest image that is part of a given family in a project.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project: project ID or project number of the Cloud project you want to get image from.</span>
<span class="devsite-syntax-sd">        family: name of the image family you want to get image from.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        An Image object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">image_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ImagesClient</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-c1"># List of public operating system (OS) images: https://cloud.google.com/compute/docs/images/os-details</span>
    <span class="devsite-syntax-n">newest_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">image_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">family</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">newest_image</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">disk_from_image</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disk_size_gb</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">boot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">source_image</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">auto_delete</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create an AttachedDisk object to be used in VM instance creation. Uses an image as the</span>
<span class="devsite-syntax-sd">    source for the new disk.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">         disk_type: the type of disk you want to create. This value uses the following format:</span>
<span class="devsite-syntax-sd">            "zones/{zone}/diskTypes/(pd-standard|pd-ssd|pd-balanced|pd-extreme)".</span>
<span class="devsite-syntax-sd">            For example: "zones/us-west3-b/diskTypes/pd-ssd"</span>
<span class="devsite-syntax-sd">        disk_size_gb: size of the new disk in gigabytes</span>
<span class="devsite-syntax-sd">        boot: boolean flag indicating whether this disk should be used as a boot disk of an instance</span>
<span class="devsite-syntax-sd">        source_image: source image to use when creating this disk. You must have read access to this disk. This can be one</span>
<span class="devsite-syntax-sd">            of the publicly available images or an image from one of your projects.</span>
<span class="devsite-syntax-sd">            This value uses the following format: "projects/{project_name}/global/images/{image_name}"</span>
<span class="devsite-syntax-sd">        auto_delete: boolean flag indicating whether this disk should be deleted with the VM that uses it</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        AttachedDisk object configured to be created using the specified image.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">boot_disk</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDiskInitializeParams</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">source_image</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">source_image</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_size_gb</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_size_gb</span>
    <span class="devsite-syntax-n">initialize_params</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disk_type</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">initialize_params</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">initialize_params</span>
    <span class="devsite-syntax-c1"># Remember to set auto_delete to True if you want the disk to be deleted when you delete</span>
    <span class="devsite-syntax-c1"># your VM instance.</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">auto_delete</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">auto_delete</span>
    <span class="devsite-syntax-n">boot_disk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">boot</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">boot</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">boot_disk</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">ExtendedOperation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"operation"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">int</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">300</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">Any</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Waits for the extended (long-running) operation to complete.</span>

<span class="devsite-syntax-sd">    If the operation is successful, it will return its result.</span>
<span class="devsite-syntax-sd">    If the operation ends with an error, an exception will be raised.</span>
<span class="devsite-syntax-sd">    If there were any warnings during the execution of the operation</span>
<span class="devsite-syntax-sd">    they will be printed to sys.stderr.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        operation: a long-running operation you want to wait on.</span>
<span class="devsite-syntax-sd">        verbose_name: (optional) a more verbose name of the operation,</span>
<span class="devsite-syntax-sd">            used only during error and warning reporting.</span>
<span class="devsite-syntax-sd">        timeout: how long (in seconds) to wait for operation to finish.</span>
<span class="devsite-syntax-sd">            If None, wait indefinitely.</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Whatever the operation.result() returns.</span>

<span class="devsite-syntax-sd">    Raises:</span>
<span class="devsite-syntax-sd">        This method will raise the exception received from `operation.exception()`</span>
<span class="devsite-syntax-sd">        or RuntimeError if there is no exception set, but there is an `error_code`</span>
<span class="devsite-syntax-sd">        set for the `operation`.</span>

<span class="devsite-syntax-sd">        In case of an operation taking longer than `timeout` seconds to complete,</span>
<span class="devsite-syntax-sd">        a `concurrent.futures.TimeoutError` will be raised.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">result</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">timeout</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Error during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: [Code: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">]: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Operation ID: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">raise</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-ne">RuntimeError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">error_message</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Warnings during </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">verbose_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">:</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">warning</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">operation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">" - </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">code</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">: </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">warning</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">sys</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">stderr</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">flush</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">result</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_instance</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AttachedDisk</span><span class="devsite-syntax-p">],</span>
    <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"n1-standard-1"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"global/networks/default"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AcceleratorConfig</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">instance_termination_action</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"STOP"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">custom_hostname</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">bool</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">False</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Send an instance creation request to the Compute Engine API and wait for it to complete.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        disks: a list of compute_v1.AttachedDisk objects describing the disks</span>
<span class="devsite-syntax-sd">            you want to attach to your new instance.</span>
<span class="devsite-syntax-sd">        machine_type: machine type of the VM being created. This value uses the</span>
<span class="devsite-syntax-sd">            following format: "zones/{zone}/machineTypes/{type_name}".</span>
<span class="devsite-syntax-sd">            For example: "zones/europe-west3-c/machineTypes/f1-micro"</span>
<span class="devsite-syntax-sd">        network_link: name of the network you want the new instance to use.</span>
<span class="devsite-syntax-sd">            For example: "global/networks/default" represents the network</span>
<span class="devsite-syntax-sd">            named "default", which is created automatically for each project.</span>
<span class="devsite-syntax-sd">        subnetwork_link: name of the subnetwork you want the new instance to use.</span>
<span class="devsite-syntax-sd">            This value uses the following format:</span>
<span class="devsite-syntax-sd">            "regions/{region}/subnetworks/{subnetwork_name}"</span>
<span class="devsite-syntax-sd">        internal_ip: internal IP address you want to assign to the new instance.</span>
<span class="devsite-syntax-sd">            By default, a free address from the pool of available internal IP addresses of</span>
<span class="devsite-syntax-sd">            used subnet will be used.</span>
<span class="devsite-syntax-sd">        external_access: boolean flag indicating if the instance should have an external IPv4</span>
<span class="devsite-syntax-sd">            address assigned.</span>
<span class="devsite-syntax-sd">        external_ipv4: external IPv4 address to be assigned to this instance. If you specify</span>
<span class="devsite-syntax-sd">            an external IP address, it must live in the same region as the zone of the instance.</span>
<span class="devsite-syntax-sd">            This setting requires `external_access` to be set to True to work.</span>
<span class="devsite-syntax-sd">        accelerators: a list of AcceleratorConfig objects describing the accelerators that will</span>
<span class="devsite-syntax-sd">            be attached to the new instance.</span>
<span class="devsite-syntax-sd">        preemptible: boolean value indicating if the new instance should be preemptible</span>
<span class="devsite-syntax-sd">            or not. Preemptible VMs have been deprecated and you should now use Spot VMs.</span>
<span class="devsite-syntax-sd">        spot: boolean value indicating if the new instance should be a Spot VM or not.</span>
<span class="devsite-syntax-sd">        instance_termination_action: What action should be taken once a Spot VM is terminated.</span>
<span class="devsite-syntax-sd">            Possible values: "STOP", "DELETE"</span>
<span class="devsite-syntax-sd">        custom_hostname: Custom hostname of the new VM instance.</span>
<span class="devsite-syntax-sd">            Custom hostnames must conform to RFC 1035 requirements for valid hostnames.</span>
<span class="devsite-syntax-sd">        delete_protection: boolean value indicating if the new virtual machine should be</span>
<span class="devsite-syntax-sd">            protected against deletion or not.</span>
<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">instance_client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InstancesClient</span><span class="devsite-syntax-p">()</span>

    <span class="devsite-syntax-c1"># Use the network interface provided in the network_link argument.</span>
    <span class="devsite-syntax-n">network_interface</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkInterface</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">network_link</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">subnetwork</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">subnetwork_link</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">internal_ip</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">internal_ip</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_access</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">access</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">type_</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">AccessConfig</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Type</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ONE_TO_ONE_NAT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"External NAT"</span>
        <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_tier</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">NetworkTier</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PREMIUM</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">external_ipv4</span><span class="devsite-syntax-p">:</span>
            <span class="devsite-syntax-n">access</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">nat_i_p</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">external_ipv4</span>
        <span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">access_configs</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">access</span><span class="devsite-syntax-p">]</span>

    <span class="devsite-syntax-c1"># Collect information into the Instance object.</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">network_interfaces</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">network_interface</span><span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_name</span>
    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">disks</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">re</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">match</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">r</span><span class="devsite-syntax-s2">"^zones/[a-z\d\-]+/machineTypes/[a-z\d\-]+$"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-p">):</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">machine_type</span>
    <span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">machine_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/machineTypes/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">machine_type</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

    <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">accelerators</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">guest_accelerators</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">accelerators</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">on_host_maintenance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">OnHostMaintenance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TERMINATE</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">preemptible</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the preemptible setting</span>
        <span class="devsite-syntax-n">warnings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">warn</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-s2">"Preemptible VMs are being replaced by Spot VMs."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-ne">DeprecationWarning</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-p">()</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">preemptible</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">spot</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the Spot VM setting</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">provisioning_model</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ProvisioningModel</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SPOT</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span>
        <span class="devsite-syntax-p">)</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scheduling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_termination_action</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_termination_action</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">custom_hostname</span> <span class="devsite-syntax-ow">is</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-kc">None</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the custom hostname for the instance</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">hostname</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">custom_hostname</span>

    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">delete_protection</span><span class="devsite-syntax-p">:</span>
        <span class="devsite-syntax-c1"># Set the delete protection bit</span>
        <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">deletion_protection</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-kc">True</span>

    <span class="devsite-syntax-c1"># Prepare the request to insert an instance.</span>
    <span class="devsite-syntax-n">request</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">InsertInstanceRequest</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">zone</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">zone</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">project</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">project_id</span>
    <span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">instance_resource</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance</span>

    <span class="devsite-syntax-c1"># Wait for the create operation to complete.</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Creating the </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> instance in </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">..."</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">operation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">insert</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-n">wait_for_extended_operation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">operation</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"instance creation"</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"Instance </span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2"> created."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance_client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">)</span>


<span class="devsite-syntax-k">def</span> <span class="devsite-syntax-nf">create_with_subnet</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">subnet_link</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span>
<span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-n">compute_v1</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Instance</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""</span>
<span class="devsite-syntax-sd">    Create a new VM instance with Debian 10 operating system in specified network and subnetwork.</span>

<span class="devsite-syntax-sd">    Args:</span>
<span class="devsite-syntax-sd">        project_id: project ID or project number of the Cloud project you want to use.</span>
<span class="devsite-syntax-sd">        zone: name of the zone to create the instance in. For example: "us-west3-b"</span>
<span class="devsite-syntax-sd">        instance_name: name of the new virtual machine (VM) instance.</span>
<span class="devsite-syntax-sd">        network_link: name of the network you want the new instance to use.</span>
<span class="devsite-syntax-sd">            For example: "global/networks/default" represents the network</span>
<span class="devsite-syntax-sd">            named "default", which is created automatically for each project.</span>
<span class="devsite-syntax-sd">        subnetwork_link: name of the subnetwork you want the new instance to use.</span>
<span class="devsite-syntax-sd">            This value uses the following format:</span>
<span class="devsite-syntax-sd">            "regions/{region}/subnetworks/{subnetwork_name}"</span>

<span class="devsite-syntax-sd">    Returns:</span>
<span class="devsite-syntax-sd">        Instance object.</span>
<span class="devsite-syntax-sd">    """</span>
    <span class="devsite-syntax-n">newest_debian</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">get_image_from_family</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">project</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"debian-cloud"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">family</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"debian-12"</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">disk_type</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"zones/</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">zone</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/diskTypes/pd-standard"</span>
    <span class="devsite-syntax-n">disks</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">disk_from_image</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">disk_type</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-mi">10</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-kc">True</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">newest_debian</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">self_link</span><span class="devsite-syntax-p">)]</span>
    <span class="devsite-syntax-n">instance</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">create_instance</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">project_id</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">zone</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">instance_name</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">disks</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">network_link</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">subnetwork_link</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">subnet_link</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">instance</span>

</code></pre></devsite-code>
</div>



























  
  
</section>


  
  
  
  
  
  
  
  
  
  
</section>
<section><h3 id="rest_4" data-text=" REST " tabindex="-1"> REST </h3><p>Follow the API instructions to
<a href="#startinginstancewithimage">create a VM from an image</a> or a
<a href="#createsnapshot">snapshot</a>, but specify the <code translate="no" dir="ltr">subnet</code> field in the request
body. To add blank disks, don&#39;t add a source image. You can optionally
specify the <code translate="no" dir="ltr">diskSizeGb</code>, <code translate="no" dir="ltr">diskType</code>, and
<a href="/compute/docs/labeling-resources"><code translate="no" dir="ltr">labels</code></a> properties.</p>

<p>


















<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded>
POST https://compute.googleapis.com/compute/v1/projects/<code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>/zones/<code translate="no" dir="ltr"><var translate="no">ZONE</var></code>/instances

{
   "machineType":"zones/<var translate="no">MACHINE_TYPE_ZONE</var>/machineTypes/<var translate="no">MACHINE_TYPE</var>",
   "name":"<code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>",
   
   "disks":[
      {
         "initializeParams":{
            "sourceImage":"projects/<var translate="no">IMAGE_PROJECT</var>/global/images/<var translate="no">IMAGE</var>"
         },
         "boot":true
      }
   ],
   
   
   "networkInterfaces":[
      {
         "network":"global/networks/<var translate="no">NETWORK_NAME</var>",
         "subnetwork":"regions/<var translate="no">REGION</var>/subnetworks/<var translate="no">SUBNET_NAME</var>",
         "accessConfigs":{
            "name":"External NAT",
            "type":"ONE_TO_ONE_NAT"
         }
      }
   ],
   
  
   "shieldedInstanceConfig":{
      "enableSecureBoot":"<var translate="no">ENABLE_SECURE_BOOT</var>"
   }
}
</pre></devsite-code>



<p>Replace the following:</p>

<ul>
  <li><code translate="no" dir="ltr"><var translate="no">PROJECT_ID</var></code>: ID of the project to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">ZONE</var></code>: zone to create the VM in</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE_ZONE</var></code>: zone containing the machine type to use for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">MACHINE_TYPE</var></code>: machine type, <a
    href="/compute/docs/machine-resource">predefined</a>
    or <a
    href="/compute/docs/general-purpose-machines#custom_machine_types">custom</a>,
    for the new VM</li>
  <li><code translate="no" dir="ltr"><var translate="no">VM_NAME</var></code>: <a
    href="/compute/docs/naming-resources#resource-name-format">name</a>
    of the new VM</li>

  
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE_PROJECT</var></code>: <a
    href="/compute/docs/images#os-compute-support">project</a>
    containing the image<br>
    For example, if you specify <code translate="no" dir="ltr">debian-10</code> as the image
    family, specify <code translate="no" dir="ltr">debian-cloud</code> as the image project.</li>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE or IMAGE_FAMILY</var></code>: specify one of the following:<ul>
  <li><code translate="no" dir="ltr"><var translate="no">IMAGE</var></code>: a specific version of a public image<br>
    For example,
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/debian-10-buster-v20200309"</code></li>
    <li><code translate="no" dir="ltr"><var translate="no">IMAGE_FAMILY</var></code>: an <a
    href="/compute/docs/images/os-details#general-info">image
    family<br>
    </a>This creates the VM from the most recent, non-deprecated OS
    image. For example, if you specify
    <code translate="no" dir="ltr">"sourceImage": "projects/debian-cloud/global/images/family/debian-10"</code>,
    Compute Engine creates a
    VM from the latest version of the OS image in the <code translate="no" dir="ltr">Debian 10</code> image family.</li>
    </ul>
   </li>
 
 
 
   <li><code translate="no" dir="ltr"><var translate="no">NETWORK_NAME</var></code>: the VPC network that you want to use
   for the VM. You can specify <code translate="no" dir="ltr">default</code> to use your default network.</li>
   <li><code translate="no" dir="ltr"><var translate="no">REGION</var></code>: region where the specified subnet exists</li>
   <li><code translate="no" dir="ltr"><var translate="no">SUBNET_NAME</var></code>: name of the subnet</li>
 
 
  <li><p><code translate="no" dir="ltr"><var translate="no">ENABLE_SECURE_BOOT</var></code>: Optional: If you chose an image that supports
   <a href="/compute/shielded-vm/docs/shielded-vm">Shielded VM</a> features,
    Compute Engine, by default, enables the <a
    href="/compute/shielded-vm/docs/shielded-vm#vtpm">virtual
    trusted platform module (vTPM)</a> and <a
    href="/compute/shielded-vm/docs/shielded-vm#integrity-monitoring">integrity
    monitoring</a>. Compute Engine does not enable <a
    href="/compute/shielded-vm/docs/shielded-vm#secure-boot">Secure
    Boot</a> by default.</p>
    <p>If you specify <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">enableSecureBoot</code>, Compute Engine
    creates a VM with all three Shielded VM features enabled. After Compute Engine
    starts your VM, to <a href="/compute/shielded-vm/docs/modifying-shielded-vm">modify
    Shielded VM</a> options, you must stop the VM.</p></li>
</ul>


</p></section>
</div>
<h2 id="vm-with-opsagent" data-text="Create a VM that's configured for Ops Agent monitoring and logging" tabindex="-1">Create a VM that's configured for Ops Agent monitoring and logging</h2>

<p>The <a href="/stackdriver/docs/solutions/agents/ops-agent">Ops Agent</a> collects telemetry
data for VMs that you can then use for troubleshooting and performance tuning.

You can install Ops Agent while creating a VM or on existing VMs as described
in the following topics:</p>

<ul>
<li><p><strong>Install the Ops Agent when you create a VM using the Google Cloud console:</strong> Enable
automatic installation of Ops Agent by selecting the
<strong>Install the Ops Agent for Monitoring and Logging</strong> checkbox
on the <strong>Create an instance</strong> page. This option enables VM Manager
in limited functionality mode and it creates an OS policy assignment for
installing Ops Agent on the VM.
For more information, see <a href="/stackdriver/docs/solutions/agents/ops-agent/install-agent-vm-creation">Install Ops Agent during VM creation</a>.</p></li>
<li><p><strong>Install the Ops Agent on existing VMs:</strong> Use the Google Cloud console,
the gcloud CLI, or an automation tool to install Ops Agent on a
fleet of VMs or on individual VMs. For instructions, see <a href="/stackdriver/docs/solutions/agents/ops-agent/install-index">Install the Ops Agent</a>.

<aside class="note"><strong>Note:</strong><span> If you install the Ops Agent, then you might be charged for the metrics
and logs that the agent sends to your Google Cloud project. For more
information, see <a href="/stackdriver/pricing">Google Cloud Observability pricing</a>.</span></aside>
<h2 id="troubleshooting" data-text="Troubleshooting" tabindex="-1">Troubleshooting</h2>

<p>To find methods for resolving common VM creation errors, see <a href="/compute/docs/troubleshooting/troubleshooting-vm-creation">Troubleshooting VM creation</a>.</p>

<h2 id="whats_next" data-text="What's next?" tabindex="-1">What's next?</h2>

<ul>
<li><p>Check the <a href="/compute/docs/instances/instance-life-cycle">status</a> of the VM to
see when it&#39;s ready to use.</p></li>
<li><p>Learn how to use <a href="/compute/docs/disks/create-snapshots">snapshots</a> to back up
your persistent disks.</p></li>
<li><p>Learn how to
<a href="/compute/docs/disks/add-persistent-disk">create and attach a non-boot storage disk</a>
to your VM to store your data separately from the boot disk.</p></li>
<li><p>Learn how to
<a href="/compute/docs/instances/connecting-to-instance">connect to your VM</a>.</p></li>
<li><p>Learn how to
<a href="/compute/docs/instance-groups/create-mig-from-vm">scale out your VM into a group of VMs</a>.</p></li>
</ul>











<cloudx-free-trial-eligible-content>
  <slot slot="eligible">
    <div>
      <h2 class="hide-from-toc" id="try-it-for-yourself" data-text="         Try it for yourself       " tabindex="-1">
        Try it for yourself
      </h2>
      

        
          
        
      <p>
        If you're new to Google Cloud, create an account to evaluate how
        Compute Engine performs in real-world
        scenarios. New customers also get $300 in free credits to run, test, and
        deploy workloads.
      </p>
        
      

      

      





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  








  
    <a href="https://console.cloud.google.com/freetrial" 
  
      class="cloud-button cloud-button--primary"
      
      
      
  track-type="button"
  track-name="
          Try Compute Engine free
        "
  track-metadata-eventdetail="https://console.cloud.google.com/freetrial"
  track-metadata-modifier="primary"
  
  
  track-metadata-anchor_text="
          Try Compute Engine free
        "
  track-metadata-href="https://console.cloud.google.com/freetrial"
  
    referrerpolicy="no-referrer-when-downgrade"
  
>
    
  
    
          Try Compute Engine free</a>




    </div>
  </slot>
  <slot slot="ineligible">
  </slot>
</cloudx-free-trial-eligible-content>




    
  
  

  
    <devsite-hats-survey class="nocontent"
      hats-id="mwETRvWii0eU5NUYprb0Y9z5GVbc"
      listnr-id="83405"></devsite-hats-survey>
  
</div>

  

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
         <devsite-feedback
  position="footer"
  project-name="Compute Engine Documentation"
  product-id="81820"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241017-r01-rc00.464273994115616581"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="footer"
  class="nocontent"
  
  
    project-feedback-url="https://issuetracker.google.com/issues/new?component=187134&amp;template=0"
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/super_cloud.png"
  
  
  
  >

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
       
    
    
  

  
  
</article>


<devsite-content-footer class="nocontent">
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2024-10-22 UTC.</p>
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
    
    
    <template class="devsite-thumb-rating-feedback">
      <devsite-feedback
  position="thumb-rating"
  project-name="Compute Engine Documentation"
  product-id="81820"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20241017-r01-rc00.464273994115616581"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  class="nocontent"
  
  
    project-feedback-url="https://issuetracker.google.com/issues/new?component=187134&amp;template=0"
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/super_cloud.png"
  
  
  
  >

  <button>
  
    Need to tell us more?
  
  </button>
</devsite-feedback>
    </template>
  
  
    <template class="devsite-content-data-template">
      [[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Hard to understand","hardToUnderstand","thumb-down"],["Incorrect information or sample code","incorrectInformationOrSampleCode","thumb-down"],["Missing the information/samples I need","missingTheInformationSamplesINeed","thumb-down"],["Other","otherDown","thumb-down"]],["Last updated 2024-10-22 UTC."],[],[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Why Google</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/why-google-cloud/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            track-name="choosing google cloud"track-type="footer link"track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/why-google-cloud/"track-metadata-child_headline="why google"track-metadata-position="footer">
            
          
            Choosing Google Cloud
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/trust-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/security/"track-metadata-position="footer"track-type="footer link"track-metadata-child_headline="why google"track-name="trust and security">
            
          
            Trust and security
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/modern-infrastructure/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            track-name="modern infrastructure cloud"track-metadata-eventDetail="cloud.google.com/solutions/modern-infrastructure/"track-metadata-child_headline="why google"track-type="footer link"track-metadata-module="footer"track-metadata-position="footer">
            
          
            Modern Infrastructure Cloud
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/multicloud/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            track-type="footer link"track-metadata-child_headline="why google"track-metadata-module="footer"track-metadata-position="footer"track-name="multicloud"track-metadata-eventDetail="cloud.google.com/multicloud/">
            
          
            Multicloud
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/infrastructure/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            track-metadata-module="footer"track-type="footer link"track-name="global infrastructure"track-metadata-child_headline="why google"track-metadata-position="footer"track-metadata-eventDetail="cloud.google.com/infrastructure/">
            
          
            Global infrastructure
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/customers/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            track-metadata-child_headline="why google"track-metadata-module="footer"track-type="footer link"track-name="customers and case studies"track-metadata-eventDetail="cloud.google.com/customers/"track-metadata-position="footer">
            
          
            Customers and case studies
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/analyst-reports/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/analyst-reports/"track-metadata-child_headline="why google"track-name="analyst reports"track-type="footer link"track-metadata-position="footer">
            
          
            Analyst reports
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/whitepapers/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 8)"
            track-type="footer link"track-metadata-module="footer"track-metadata-position="footer"track-name="whitepapers"track-metadata-child_headline="why google"track-metadata-eventDetail="cloud.google.com/whitepapers/">
            
          
            Whitepapers
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//cloud.google.com/blog/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 9)"
            track-metadata-child_headline="engage"track-metadata-module="footer"track-metadata-position="footer"track-type="footer link"track-name="blog"track-metadata-eventDetail="cloud.google.com/blog/">
            
              
              
            
          
            Blog
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Products and pricing</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/pricing/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            track-metadata-position="footer"track-metadata-eventDetail="cloud.google.com/pricing/"track-metadata-module="footer"track-type="footer link"track-name="google cloud pricing"track-metadata-child_headline="products and pricing">
            
          
            Google Cloud pricing
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//workspace.google.com/pricing.html"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            track-metadata-eventDetail="workspace.google.com/pricing.html"track-type="footer link"track-name="google workspace pricing"track-metadata-module="footer"track-metadata-position="footer"track-metadata-child_headline="products and pricing"target="_blank">
            
          
            Google Workspace pricing
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/products/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            track-type="footer link"track-name="see all products"track-metadata-eventDetail="cloud.google.com/products/"track-metadata-child_headline="products and pricing"track-metadata-module="footer"track-metadata-position="footer">
            
              
              
            
          
            See all products
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Solutions</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/infrastructure-modernization/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            track-metadata-module="footer"track-name="infrastructure modernization"track-metadata-child_headline="solutions"track-type="footer link"track-metadata-eventDetail="cloud.google.com/solutions/infrastructure-modernization/"track-metadata-position="footer">
            
          
            Infrastructure modernization
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/databases/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            track-name="databases"track-metadata-eventDetail="cloud.google.com/solutions/databases"track-metadata-module="footer"track-type="footer link"track-metadata-child_headline="solutions"track-metadata-position="footer">
            
          
            Databases
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/application-modernization/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            track-metadata-child_headline="solutions"track-name="application development"track-metadata-module="footer"track-metadata-position="footer"track-type="footer link"track-metadata-eventDetail="cloud.google.com/solutions/application-modernization/">
            
          
            Application modernization
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/smart-analytics/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            track-type="footer link"track-name="smart analytics"track-metadata-module="footer"track-metadata-position="footer"track-metadata-eventDetail="cloud.google.com/solutions/smart-analytics/"track-metadata-child_headline="solutions">
            
          
            Smart analytics
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/ai/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            track-name="artificial intelligence"track-metadata-eventDetail="cloud.google.com/solutions/ai/"track-metadata-module="footer"track-metadata-child_headline="solutions"track-type="footer link"track-metadata-position="footer">
            
          
            Artificial Intelligence
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/security/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/solutions/security/"track-type="footer link"track-metadata-child_headline="solutions"track-metadata-position="footer"track-name="security">
            
          
            Security
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://workspace.google.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            track-metadata-eventDetail="workspace.google.com/enterprise/"track-type="footer link"target="_blank"track-name="productivity and work transformation"track-metadata-child_headline="solutions"track-metadata-position="footer"track-metadata-module="footer">
            
          
            Productivity & work transformation
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/#industry-solutions"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 8)"
            track-name="industry solutions"track-metadata-child_headline="solutions"track-type="footer link"track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/solutions/#industry-solutions"track-metadata-position="footer">
            
          
            Industry solutions
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/devops/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 9)"
            track-metadata-module="footer"track-name="devops solutions"track-metadata-eventDetail="cloud.google.com/solutions/devops/"track-type="footer link"track-metadata-position="footer"track-metadata-child_headline="solutions">
            
          
            DevOps solutions
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/#section-14"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 10)"
            track-metadata-position="footer"track-metadata-module="footer"track-type="footer link"track-name="small business solutions"track-metadata-eventDetail="cloud.google.com/solutions/#section-14"track-metadata-child_headline="solutions">
            
          
            Small business solutions
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/solutions/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 11)"
            track-metadata-child_headline="solutions"track-metadata-eventDetail="cloud.google.com/solutions/"track-metadata-module="footer"track-name="see all solutions"track-metadata-position="footer"track-type="footer link">
            
              
              
            
          
            See all solutions
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Resources</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/affiliate-program/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            track-name="google cloud affiliate program"track-type="footer link"track-metadata-position="footer"track-metadata-child_headline="resources"track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/affiliate-program/">
            
          
            Google Cloud Affiliate Program
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            track-type="footer link"track-metadata-module="footer"track-name="google cloud documentation"track-metadata-eventDetail="cloud.google.com/docs/"track-metadata-position="footer"track-metadata-child_headline="resources">
            
          
            Google Cloud documentation
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/get-started/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            track-name="google cloud quickstarts"track-metadata-position="footer"track-type="footer link"track-metadata-eventDetail="cloud.google.com/docs/get-started/"track-metadata-child_headline="resources"track-metadata-module="footer">
            
          
            Google Cloud quickstarts
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/marketplace/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            track-metadata-position="footer"track-type="footer link"track-metadata-eventDetail="cloud.google.com/marketplace/"track-name="google cloud marketplace"track-metadata-child_headline="resources"track-metadata-module="footer">
            
          
            Google Cloud Marketplace
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/discover/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            track-metadata-child_headline="resources"track-name="learn about cloud computing"track-type="footer link"track-metadata-module="footer"track-metadata-position="footer"track-metadata-eventDetail="learn/">
            
          
            Learn about cloud computing
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/support-hub/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            track-metadata-position="footer"track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/support-hub/"track-name="support"track-type="footer link"track-metadata-child_headline="resources">
            
          
            Support
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/samples"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            track-name="code samples"track-metadata-position="footer"track-metadata-eventDetail="cloud.google.com/docs/samples"track-type="footer link"track-metadata-child_headline="resources"track-metadata-module="footer">
            
          
            Code samples
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/architecture/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 8)"
            track-metadata-eventDetail="cloud.google.com/architecture/"track-name="cloud architecture center"track-type="footer link"track-metadata-position="footer"track-metadata-child_headline="resources"track-metadata-module="footer">
            
          
            Cloud Architecture Center
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/learn/training/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 9)"
            track-name="training"track-metadata-eventDetail="cloud.google.com/training/"track-metadata-position="footer"track-metadata-child_headline="resources"track-type="footer link"track-metadata-module="footer">
            
          
            Training
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/learn/certification/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 10)"
            track-metadata-eventDetail="cloud.google.com/certification"track-type="footer link"track-metadata-child_headline="resources"track-metadata-position="footer"track-metadata-module="footer"track-name="certifications">
            
          
            Certifications
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//developers.google.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 11)"
            track-metadata-eventDetail="developers.google.com"track-name="google developers"target="_blank"track-metadata-position="footer"track-metadata-child_headline="resources"track-metadata-module="footer"track-type="footer link">
            
          
            Google for Developers
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/startup/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 12)"
            track-metadata-position="footer"track-metadata-eventDetail="cloud.google.com/startup/"track-metadata-module="footer"track-metadata-child_headline="resources"track-type="footer link"track-name="google cloud for startups">
            
          
            Google Cloud for Startups
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//status.cloud.google.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 13)"
            target="_blank"track-type="footer link"track-metadata-position="footer"track-metadata-module="footer"track-metadata-eventDetail="status.cloud.google.com"track-metadata-child_headline="resources"track-name="system status">
            
          
            System status
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/release-notes"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 14)"
            track-name="release notes"track-metadata-eventDetail="cloud.google.com/release-notes/"track-metadata-child_headline="resources"track-metadata-position="footer"track-type="footer link"track-metadata-module="footer">
            
              
              
            
          
            Release Notes
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Engage</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/contact/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            track-type="footer link"track-name="contact sales"track-metadata-module="footer"track-metadata-eventDetail="cloud.google.com/contact/"track-metadata-position="footer"track-metadata-child_headline="engage">
            
          
            Contact sales
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//cloud.google.com/find-a-partner"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            track-name="find a partner"track-metadata-eventDetail="cloud.google.com/find-a-partner"track-metadata-child_headline="engage"target="_blank"track-type="footer link"track-metadata-position="footer"track-metadata-module="footer">
            
          
            Find a Partner
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/partners/become-a-partner/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            track-metadata-module="footer"track-name="become a partner"track-metadata-eventDetail="cloud.google.com/partners/become-a-partner/"track-metadata-position="footer"track-type="footer link"track-metadata-child_headline="engage">
            
          
            Become a Partner
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/events/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            track-name="events"track-metadata-position="footer"track-metadata-child_headline="engage"track-type="footer link"track-metadata-module="footer"track-metadata-eventDetail="cloud.withgoogle.com/events">
            
          
            Events
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/podcasts/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            target="_blank"rel="noopener"track-type="footer link"track-metadata-eventDetail="cloud.google.com/podcasts/"track-name="podcasts"track-metadata-child_headline="engage"track-metadata-position="footer"track-metadata-module="footer">
            
          
            Podcasts
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/developers/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            track-metadata-eventDetail="cloud.google.com/developers/"track-metadata-module="footer"track-name="developer center"track-type="footer link"track-metadata-position="footer"track-metadata-child_headline="engage">
            
          
            Developer Center
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://www.googlecloudpresscorner.com/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            target="_blank"track-name="press corner"track-metadata-child_headline="engage"track-metadata-module="footer"track-type="footer link"rel="noopener"track-metadata-eventDetail="www.googlecloudpresscorner.com"track-metadata-position="footer">
            
          
            Press Corner
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.youtube.com/googlecloud"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 8)"
            track-name="google cloud on youtube"track-metadata-position="footer"target="_blank"track-metadata-eventDetail="www.youtube.com/googlecloud"rel="noopener"track-type="footer link"track-metadata-child_headline="engage"track-metadata-module="footer">
            
          
            Google Cloud on YouTube
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.youtube.com/googlecloudplatform"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 9)"
            track-type="footer link"track-metadata-child_headline="engage"target="_blank"rel="noopener"track-metadata-module="footer"track-metadata-position="footer"track-name="google cloud tech on youtube"track-metadata-eventDetail="www.youtube.com/googlecloudplatform">
            
          
            Google Cloud Tech on YouTube
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//x.com/googlecloud"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 10)"
            track-metadata-child_headline="engage"track-type="footer link"track-metadata-module="footer"track-metadata-position="footer"target="_blank"rel="noopener"track-name="follow on x"track-metadata-eventDetail="x.com/googlecloud">
            
          
            Follow on X
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//userresearch.google.com/?reserved=1&amp;utm_source=website&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=CloudWebFooter&amp;utm_term=0&amp;utm_content=0&amp;productTag=clou&amp;campaignDate=jul19&amp;pType=devel&amp;referral_code=jk212693"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 11)"
            track-name="join user research"track-metadata-module="footer"target="_blank"track-metadata-eventDetail="userresearch.google.com/?reserved=1&amp;utm_source=website&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=CloudWebFooter&amp;utm_term=0&amp;utm_content=0&amp;productTag=clou&amp;campaignDate=jul19&amp;pType=devel&amp;referral_code=jk212693"track-metadata-position="footer"track-type="footer link"track-metadata-child_headline="engage">
            
          
            Join User Research
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//careers.google.com/cloud"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 12)"
            track-name="we are hiring join google cloud"track-metadata-position="footer"target="_blank"track-metadata-module="footer"track-metadata-eventDetail="careers.google.com/cloud"track-metadata-child_headline="engage"track-type="footer link">
            
          
            We're hiring. Join Google Cloud!
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://www.googlecloudcommunity.com/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 13)"
            rel="noopener"target="_blank"track-metadata-module="footer"track-name="google cloud community"track-type="footer link"track-metadata-position="footer"track-metadata-child_headline="engage"track-metadata-eventDetail="www.googlecloudcommunity.com">
            
              
              
            
          
            Google Cloud Community
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//about.google/"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Google link"
         
           track-metadata-module="utility footer"
         
           track-type="footer link"
         
           track-metadata-eventDetail="//about.google/"
         
           track-name="about google"
         
           track-metadata-position="footer"
         
           target="_blank"
         >
          About Google
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-privacy-link">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         
           track-metadata-module="utility footer"
         
           track-name="privacy"
         
           target="_blank"
         
           track-metadata-position="footer"
         
           track-type="footer link"
         
           track-metadata-eventDetail="//policies.google.com/privacy"
         >
          Privacy
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//www.google.com/intl/en/policies/terms/regional.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site terms link"
         
           track-type="footer link"
         
           track-metadata-eventDetail="//www.google.com/intl/en/policies/terms/regional.html"
         
           track-metadata-position="footer"
         
           target="_blank"
         
           track-name="site terms"
         
           track-metadata-module="utility footer"
         >
          Site terms
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/product-terms/"
           data-category="Site-Wide Custom Events"
           data-label="Footer Google Cloud terms link"
         
           track-metadata-module="utility footer"
         
           track-name="google cloud terms"
         
           track-metadata-position="footer"
         
           track-type="footer link"
         
           track-metadata-eventDetail="/product-terms/"
         >
          Google Cloud terms
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           track-name="Manage cookies"
         
           track-metadata-eventDetail="#"
         
           track-type="footer link"
         
           track-metadata-module="utility footer"
         
           aria-hidden="true"
         
           track-metadata-position="footer"
         >
          Manage cookies
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-carbon-button">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/sustainability"
           data-category="Site-Wide Custom Events"
           data-label="Footer Our third decade of climate action: join us link"
         
           track-name="Our third decade of climate action: join us"
         
           track-type="footer link"
         
           track-metadata-eventDetail="/sustainability/"
         
           track-metadata-module="utility footer"
         
           track-metadata-position="footer"
         >
          Our third decade of climate action: join us
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Sign up for the Google Cloud newsletter</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/newsletter/"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         
           track-metadata-position="footer"
         
           track-type="footer link"
         
           track-metadata-module="utility footer"
         
           track-name="subscribe"
         
           track-metadata-eventDetail="/newsletter/"
         >
          Subscribe
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [], &#34;ga4p&#34;: [], &#34;gtm&#34;: [{&#34;id&#34;: &#34;GTM-5CVQBG&#34;, &#34;purpose&#34;: 1}], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;False&#34;, &#34;requested&#34;: &#34;en&#34;, &#34;served&#34;: &#34;en&#34;}, &#34;pageType&#34;: &#34;article&#34;, &#34;projectName&#34;: &#34;Compute Engine Documentation&#34;, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;cloud&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    <cloudx-user></cloudx-user>


  <cloudx-free-trial-eligible-store freeTrialEligible='true'></cloudx-free-trial-eligible-store>


<cloudx-pricing-socket></cloudx-pricing-socket>
<cloudx-experiments type="TestAACodivertedExperiment"
  path="/virtual/TestAACodivertedExperiment/configureExperiment"
  location="BR"
  variant="variant2"
  ></cloudx-experiments>
<cloudx-experiment-ids
    userCountry="BR"
    devsiteExperimentIdList="[39300012, 39300021, 39300118, 39300196, 39300251, 39300319, 39300320, 39300325, 39300345, 39300354, 39300364, 39300373, 39300412, 39300421, 39300436, 39300472, 39300487, 39300496, 39300498]">
</cloudx-experiment-ids>
    <script nonce="VP/2Sftgn1+de06UMzMKHaadNiaO0v">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/js/app_loader.js', '[2,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9","https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud","https://cloud-dot-devsite-v2-prod.appspot.com",null,null,["/_pwa/cloud/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/favicons/onecloud/favicon.ico","https://www.gstatic.com/devrel-devsite/prod/v0e3f58103119c4df6fb3c3977dcfd0cb669bdf6385f895761c1853a4b0b11be9/cloud/images/cloud-logo.svg","https://fonts.googleapis.com/css?family=Google+Sans:400,500,700|Google+Sans+Text:400,400italic,500,500italic,700,700italic|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg","cloud.google.com","AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o","AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY",null,null,null,["MiscFeatureFlags__enable_firebase_utm","Profiles__enable_release_notes_notifications","Cloud__enable_cloudx_experiment_ids","MiscFeatureFlags__enable_view_transitions","Cloud__enable_cloud_shell","Profiles__enable_public_developer_profiles","Cloud__enable_cloud_shell_fte_user_flow","CloudShell__cloud_shell_button","Search__enable_ai_search_summaries_restricted","MiscFeatureFlags__developers_footer_image","Profiles__require_profile_eligibility_for_signin","Analytics__enable_clearcut_logging","BookNav__enable_tenant_cache_key","Profiles__enable_awarding_url","Profiles__enable_recognition_badges","Profiles__enable_profile_collections","MiscFeatureFlags__emergency_css","CloudShell__cloud_code_overflow_menu","MiscFeatureFlags__developers_footer_dark_image","Cloud__enable_cloud_facet_chat","Profiles__enable_developer_profiles_callout","Concierge__enable_pushui","Search__enable_ai_search_summaries","Search__enable_suggestions_from_borg","MiscFeatureFlags__enable_explain_this_code","Search__scope_to_project_tenant","Cloud__enable_free_trial_server_call","MiscFeatureFlags__enable_project_variables","Concierge__enable_concierge_restricted","TpcFeatures__enable_mirror_tenant_redirects","Search__enable_page_map","Cloud__enable_cloudx_ping","Profiles__enable_dashboard_curated_recommendations","EngEduTelemetry__enable_engedu_telemetry","TpcFeatures__enable_required_headers","Profiles__enable_page_saving","Cloud__enable_legacy_calculator_redirect","Cloud__enable_cloud_dlp_service","Search__enable_dynamic_content_confidential_banner","Analytics__enable_cookie_bar","MiscFeatureFlags__enable_variable_operator","Experiments__reqs_query_experiments","Search__enable_ai_eligibility_checks","Cloud__enable_llm_concierge_chat"],null,null,"AIzaSyBLEMok-5suZ67qRPzx0qUtbnLmyT_kCVE","https://developerscontentserving-pa.clients6.google.com","AIzaSyCM4QpTRSqP5qI4Dvjt4OAScIN8sOUlO-k","https://developerscontentsearch-pa.clients6.google.com",1,4,1,"https://developerprofiles-pa.clients6.google.com",[2,"cloud","Google Cloud","cloud.google.com",null,"cloud-dot-devsite-v2-prod.appspot.com",null,null,[1,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,1,[1],[null,null,null,[1,20],"/terms/recommendations"],[1],null,[1],[1,null,1],[1,1,null,null,1,null,["/vertex-ai/"]]],null,[22,null,null,null,null,null,"/images/cloud-logo.svg","/images/favicons/onecloud/apple-icon.png",null,null,null,null,1,1,1,[6,5],[],null,null,[[],[],[],[],[],[],[],[]],null,1,null,null,null,null,[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[6,1,14,15,22,23,29,37],null,[[null,null,null,null,null,null,[1,[["docType","Choose a content type",[["ApiReference",null,null,null,null,null,null,null,null,"API reference"],["Sample",null,null,null,null,null,null,null,null,"Code sample"],["ReferenceArchitecture",null,null,null,null,null,null,null,null,"Reference architecture"],["Tutorial",null,null,null,null,null,null,null,null,"Tutorial"]]],["category","Choose a topic",[["AiAndMachineLearning",null,null,null,null,null,null,null,null,"Artificial intelligence and machine learning (AI/ML)"],["ApplicationDevelopment",null,null,null,null,null,null,null,null,"Application development"],["BigDataAndAnalytics",null,null,null,null,null,null,null,null,"Big data and analytics"],["Compute",null,null,null,null,null,null,null,null,"Compute"],["Containers",null,null,null,null,null,null,null,null,"Containers"],["Databases",null,null,null,null,null,null,null,null,"Databases"],["HybridCloud",null,null,null,null,null,null,null,null,"Hybrid and multicloud"],["LoggingAndMonitoring",null,null,null,null,null,null,null,null,"Logging and monitoring"],["Migrations",null,null,null,null,null,null,null,null,"Migrations"],["Networking",null,null,null,null,null,null,null,null,"Networking"],["SecurityAndCompliance",null,null,null,null,null,null,null,null,"Security and compliance"],["Serverless",null,null,null,null,null,null,null,null,"Serverless"],["Storage",null,null,null,null,null,null,null,null,"Storage"]]]]]],[1],null,1],[[null,null,null,null,null,["GTM-5CVQBG"],null,null,null,null,null,[["GTM-5CVQBG",2]],1],null,null,null,null,null,1],"mwETRvWii0eU5NUYprb0Y9z5GVbc",4,null,null,null,null,null,null,null,null,null,null,null,null,null,"cloud.devsite.google"]]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>